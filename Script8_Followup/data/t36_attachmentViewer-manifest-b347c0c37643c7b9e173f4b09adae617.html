var psSplitContentEast;$(document).ready(function(){$(document).on("click",".attachmentFile",function(a){setTimeout(function(){psSplitContentEast?psSplitContentEast.update():psSplitContentEast=new PerfectScrollbar(".pv-custom-scrollbar>.ui-layout-east")},500)})});var PCCViewer=window.PCCViewer||{},docViewer;$(document).ready(function(){attachmentViewer.init();attachmentFlow.init()});
var attachmentViewer=function(){var a=function(a,b){return $.ajax({url:a}).then(function(a){return"string"===typeof a?JSON.parse(a):docViewer.options[b]=a})},b=function(a,b){return $.ajax({url:a}).then(function(a){return docViewer.options.template[b]=a})};return{init:function(){docViewer={options:{documentID:null,imageHandlerUrl:null,documentDisplayName:null,annotationsMode:"LayeredAnnotations",language:null,predefinedSearch:null,template:{comment:null,contextMenu:null,copyOverlay:null,downloadOverlay:null,
esignOverlay:null,hyperlinkMenu:null,imageStampOverlay:null,overwriteOverlay:null,pageRedactionOverlay:null,print:null,printOverlay:null,redactionReason:null,unsavedChangesOverlay:null,viewer:null},signatureCategories:"Signature,Initials,Title",immediateActionMenuMode:"hover"},attachmentList:[]};a("/assets/vendor/documentViewerJson/en-US.json","language");a("/assets/vendor/documentViewerJson/predefinedSearch.json","predefinedSearch");a("/assets/vendor/documentViewerJson/redactionReason.json","redactionReason");
b("/assets/vendor/documentViewerTemplates/commentTemplate.html","comment");b("/assets/vendor/documentViewerTemplates/contextMenuTemplate.html","contextMenu");b("/assets/vendor/documentViewerTemplates/copyOverlayTemplate.html","copyOverlay");b("/assets/vendor/documentViewerTemplates/downloadOverlayTemplate.html","downloadOverlay");b("/assets/vendor/documentViewerTemplates/esignOverlayTemplate.html","esignOverlay");b("/assets/vendor/documentViewerTemplates/hyperlinkMenuTemplate.html","hyperlinkMenu");
b("/assets/vendor/documentViewerTemplates/imageStampOverlayTemplate.html","imageStampOverlay");b("/assets/vendor/documentViewerTemplates/overwriteOverlayTemplate.html","overwriteOverlay");b("/assets/vendor/documentViewerTemplates/pageRedactionOverlayTemplate.html","pageRedactionOverlay");b("/assets/vendor/documentViewerTemplates/printOverlayTemplate.html","printOverlay");b("/assets/vendor/documentViewerTemplates/printTemplate.html","print");b("/assets/vendor/documentViewerTemplates/redactionReasonTemplate.html",
"redactionReason");b("/assets/vendor/documentViewerTemplates/unsavedChangesOverlayTemplate.html","unsavedChangesOverlay");b("/assets/vendor/documentViewerTemplates/viewerTemplate.html","viewer");var d=$(window).height();$("#attachmentView").find(".panel-body").css({height:d+"px"})}}}(),attachmentFlow=function(){var a=$("#attachmentModal");$("#modalBodyData");$("#modalBodyData > #viewer");$("#attachmentModalHeader");var b=function(a){if(q())if(a=$(this).find("i"),$(this).hasClass("all-protected"))r();
else{d(a);var b=$(".attchment-accordian a.attachmentFile.collapsed");a.hasClass("md-add")&&(b=$(".attchment-accordian a.attachmentFile").not(".collapsed"));b.length&&b.each(function(){var a=$(this),b=c(a);(!a.hasClass("pii")||a.hasClass("pii")&&b)&&a.click()})}else pvi.util.showInfo(getMessage("attachment_viewer_not_installed"))},d=function(a){var b="md-add",c="md-remove";a.hasClass("md-remove")?(b="md-remove",c="md-add",a.attr("title",getMessage("attachment_panel_expand_all"))):a.attr("title",getMessage("attachment_panel_close_all"));
a.removeClass(b);a.addClass(c)},c=function(a){var b=!1,c=e(a);_.isEmpty(a)||_.isEmpty(c)||(b=!c.hasClass("hide"));return b},e=function(a){var b=a.parents(".actualViewerPanelHeader").find("a.redactAttachmentLink");return _.isEmpty(a)||_.isEmpty(b)?void 0:b},f=function(a){var b=a.parents(".actualViewerPanelHeader").find("a.attachmentRow");return _.isEmpty(a)||_.isEmpty(b)?void 0:b},g=function(){var a=$(this),b=c(a),d=a.parents(".actualViewerPanelHeader:first").find(".pv-ic-redact ");$(d).hasClass("ic-redact-active")?
$(d).removeClass("ic-redact-active"):null;if(a.hasClass("pii")&&!b)return pvi.util.showInfo(getMessage("pii_attachment_warning")),!1;if(a.hasClass("redactClickEventTriggered"))b=e(a),l(b),a.removeClass("redactClickEventTriggered");else if(a.hasClass("collapsed")){var d=void 0,g=a.attr("data-id"),m=a.attr("data-storageId"),k=f(a);a.hasClass("pii")&&b?d=!0:a.hasClass("pii")||(d=!1);void 0!=d&&k.attr("data-redact")!=d.toString()&&n(g,m,d,{launchAnchor:k})}},k=function(a,b,c){a=void 0==c?$("#attachmentViewerUrl").val()+
"?id="+a+"&viewerId=attachmentView&isDisplayView=true&redact="+b:$("#attachmentViewerUrl").val()+"?id="+a+"&viewerId=attachmentView&isDisplayView=true&redact="+b+"&isFollowUpQuery="+c;window.open(a)},m=function(){var a=$(this),b=a.attr("data-isFollowUpQuery"),d=a.attr("data-storageId"),f=a.attr("data-fileName"),e=c(a);-1!=f.toLowerCase().indexOf(".xml")&&f.replace(".txt","");a.hasClass("pii")&&!e?pvi.util.showInfo(getMessage("pii_attachment_warning")):(f=a.attr("data-redact"),void 0==f&&(f=a.hasClass("pii")),
void 0==b?k(d,f):k(d,f,b))},q=function(){var a=!1;$.ajax({url:$("#attachmentViewerHealthUrl").val()+"/health",async:!1,method:"GET",success:function(){a=!0}});return a},n=function(b,c,d,f){var e=void 0,g=void 0;_.isEmpty(f)||(e=f.launchAnchor,g=f.isFollowUpQuery);$.ajax({url:$("#attachmentViewerUrl").val(),async:!0,method:"POST",data:{id:c,viewerId:b,redact:d,isDisplayView:!1,isFollowUpQuery:g,password:_.isEmpty(f)?"":f.password},success:function(c){var f=$("#"+b);c.errorMessage?(pvi.util.showInfo(c.errorMessage),
f.collapse("hide"),_.isEmpty(e)||e.removeAttr("data-redact")):(_.isEmpty(e)||$(e).attr("data-redact",d),$("#"+b+" #viewer").html(c),a.find(".modal-body").removeClass("spinner"))},complete:function(){d&&$(".redactAttachment-"+c).find("span").addClass("ic-redact-active")}})},u=function(){var a=$(this),b;b=a.parents(".actualViewerPanelHeader").find("a.attachmentFile");b=_.isEmpty(a)||_.isEmpty(b)?void 0:b;b.hasClass("collapsed")?(b.addClass("redactClickEventTriggered"),b.click(),a.find(".pv-ic-redact ").addClass("ic-redact-active")):
l(a)},r=function(){pvi.util.showInfo(getMessage("pii_attachment_all_protected_warning"));return!1},l=function(a){var b=f(a);if(void 0==b.attr("data-redact")||b.attr("data-redact")==(!1).toString()){b.attr("data-redact",!0);var c=a.attr("data-id");a=a.attr("data-storageId");n(c,a,!0,{launchAnchor:b})}},C=function(){var a=$(this),b=a.parent().find(".loader");a.parent().find(".alert").addClass("hide");b.removeClass("hide");var b=a.data("id"),c=a.data("viewer-id");a.data("is-display-view");var d=a.data("redact"),
a=a.parent().find('input[name="password"]').val();n(c,b,d,{password:a})};return{init:function(){var a=$(".attachmentPanelDiv");$(document).on("click","a.attachmentRow",m);a.on("click",".attachmentFile",g);$("#accordion-attachment").on("click",".expand-all",b);$(document).on("click",".redactAttachmentLink",u);$(document).on("click",".all-protected",r);$(document).on("click",".passwordSubmit",C)},displayAttachmentBrowser:n,showRedactIcons:function(){$("redactIcon").show()},fetchLaunchAnchor:f}}(),IPCC=
IPCC||{};IPCC.Type=IPCC.Type||{};IPCC.Type.prototype=IPCC.Type.prototype||Object.prototype;
IPCC.Type.registerNamespace=function(a){for(var b=window,d=a.split("."),c=function(){return this.__typeName},e=0;e<d.length;e++){var f=d[e],g=b[f],k=typeof g;if("undefined"!==k&&null!==g){if("function"===k)throw Error("namespace error: "+a);if("object"!==typeof g||g instanceof Array)throw Error("Name space error: "+g);}g||(g=b[f]={});g.__namespace||(g.__namespace=!0,g.__typeName=d.slice(0,e+1).join("."),g.getName=c);b=g}};IPCC.Sys=IPCC.Sys||{};IPCC.Sys.UI=IPCC.Sys.UI||{};
IPCC.Sys.UI.Control=IPCC.Sys.UI.Control||{};IPCC.Type.registerNamespace("IPCC.Web.UI");IPCC.initializePageViewPlugin=function(a,b){var d=new IPCC.Web.UI.PageView(a,!1!==b.handleTouchEvents);b&&IPCC.ado(d,b);d.pQ(a);d.initialize();return d};IPCC.initializePageListPlugin=function(a,b){var d=new IPCC.PageList(a);b&&IPCC.ado(d,b);d.pQ(a);d.initialize();return d};
IPCC.Web.regEnum=function(a,b){for(var d in this.prototype)this.prototype.hasOwnProperty(d)&&(this[d]=this.prototype[d]);this.__typeName=a;this.__flags=b;this.__enum=!0};IPCC.Web.regClass=function(a,b,d){this.prototype.constructor=this;this.__typeName=a;this.__class=!0;if(b){this.__baseType=b;for(var c in b.prototype)b.prototype.hasOwnProperty(c)&&(a=b.prototype[c],this.prototype[c]||(this.prototype[c]=a))}return this};IPCC.Web.aDk=function(a,b,d){b&&(d?b.apply(a,d):b.apply(a));return a};
IPCC.Web.UI.DebugErrorLevel=function(){};IPCC.Web.UI.DebugErrorLevel.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.DebugErrorLevel.prototype={Production:0,Development:1,Detailed:2};IPCC.Web.UI.DebugErrorLevel.registerEnum("IPCC.Web.UI.DebugErrorLevel",!1);IPCC.Web.UI.DebugItemCause=function(){};IPCC.Web.UI.DebugItemCause.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.DebugItemCause.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};
IPCC.Web.UI.DebugItemCause.registerEnum("IPCC.Web.UI.DebugItemCause",!1);IPCC.Web.UI.MouseButton=function(){if(0!==arguments.length)throw new IPCC.Web.UI.ImGearParameterCountException;throw new IPCC.Web.UI.ImGearNotImplementedException;};IPCC.Web.UI.MouseButton.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MouseButton.prototype={leftButton:0,middleButton:1,rightButton:2};IPCC.Web.UI.MouseButton.registerEnum("IPCC.Web.UI.MouseButton");
IPCC.Web.UI.Key=function(){if(0!==arguments.length)throw new IPCC.Web.UI.ImGearParameterCountException;throw new IPCC.Web.UI.ImGearNotImplementedException;};IPCC.Web.UI.Key.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.Key.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};IPCC.Web.UI.Key.registerEnum("IPCC.Web.UI.Key");
IPCC.Web.UI.aE=function(a){var b=this.type=a.type.toLowerCase(),d="undefined"!==typeof a.changedTouches;this.rawEvent=a;this.altKey=a.altKey;"undefined"!==typeof a.button&&(this.button="undefined"!==typeof a.which?a.button:4===a.button?IPCC.Web.UI.MouseButton.middleButton:2===a.button?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton);"keypress"===b?this.charCode=a.charCode||a.keyCode:this.keyCode=a.keyCode&&46===a.keyCode?127:a.keyCode;this.clientX=d?a.changedTouches[0].clientX:
a.clientX;this.clientY=d?a.changedTouches[0].clientY:a.clientY;this.ctrlKey=a.ctrlKey;this.target=a.target?a.target:a.srcElement;if("key"!==(""+b).substr(0,3))if("undefined"!==typeof a.offsetX&&"undefined"!==typeof a.offsetY)this.offsetX=a.offsetX,this.offsetY=a.offsetY;else if(this.target&&3!==this.target.nodeType&&"number"===typeof a.clientX){for(var c=this.target,e=b=0;c&&!isNaN(c.offsetLeft)&&!isNaN(c.offsetTop);)b+=c.offsetLeft-c.scrollLeft,e+=c.offsetTop-c.scrollTop,c=c.offsetparent?c.offsetParent:
c.parentNode;c=this.target;c=c.ownerDocument||c.document||c;c=c.defaultView||c.parentWindow;this.offsetX=(c.pageXOffset||0)+a.clientX-b;this.offsetY=(c.pageYOffset||0)+a.clientY-e}this.screenX=d?a.changedTouches[0].screenX:a.screenX;this.screenY=d?a.changedTouches[0].screenY:a.screenY;this.shiftKey=a.shiftKey};
IPCC.Web.UI.aE.prototype={preventDefault:function(){if(0!==arguments.length)throw new IPCC.Web.UI.ImGearParameterCountException;this.rawEvent.preventDefault?this.rawEvent.preventDefault():window.event&&(this.rawEvent.returnValue=!1)},stopPropagation:function(){if(0!==arguments.length)throw new IPCC.Web.UI.ImGearParameterCountException;this.rawEvent.stopPropagation?this.rawEvent.stopPropagation():window.event&&(this.rawEvent.cancelBubble=!0)}};IPCC.Web.UI.aE.registerClass=IPCC.Web.regClass;IPCC.Web.UI.aE.registerClass("IPCC.Web.UI.aE");
IPCC.ado=function(a,b){var d,c;for(c in b)if(b.hasOwnProperty(c)){var e=b[c];d=a["get_"+c];var f=a["set_"+c];if("function"===typeof f)f.apply(a,[e]);else if(e instanceof Array){d=d.apply(a);if(!(d instanceof Array))throw new new IPCC.Web.UI.ImGearInvalidOperationException(c+" is not an Array property");for(var f=0,g=d.length,k=e.length;f<k;f++,g++)d[g]=e[f]}}};
IPCC.Web.UI.aE.addHandler=function(a,b,d,c){IPCC.Web.UI.aE.Zu(a);if("error"===b)throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.hg.addHandlerCantBeUsedForError);a.aN||(a.aN={});var e=a.aN[b];e||(a.aN[b]=e=[]);var f;a.addEventListener?(f=function(b){return d.call(a,new IPCC.Web.UI.aE(b))},a.addEventListener(b,f,!1)):a.attachEvent&&(f=function(){var b={};try{var c=a.ownerDocument||a.document||a,b=(c.defaultView||c.parentWindow).event}catch(f){}return d.call(a,new IPCC.Web.UI.aE(b))},a.attachEvent("on"+
b,f));e[e.length]={handler:d,browserHandler:f,autoRemove:c};c&&(b=a.dispose,b!==IPCC.Web.UI.aE.aje&&(a.dispose=IPCC.Web.UI.aE.aje,"undefined"!==typeof b&&(a.ahP=b)))};IPCC.Web.UI.aE.clearHandlers=function(a){IPCC.Web.UI.aE.Zu(a);IPCC.Web.UI.aE.ahI(a,!1)};IPCC.Web.UI.aE.ahI=function(a,b){if(a.aN){var d=a.aN,c;for(c in d)if(d.hasOwnProperty(c))for(var e=d[c],f=e.length-1;0<=f;f--){var g=e[f];b&&!g.autoRemove||IPCC.Web.UI.aE.removeHandler(a,c,g.handler)}a.aN=null}};
IPCC.Web.UI.aE.aje=function(){IPCC.Web.UI.aE.ahI(this,!0);var a=this.ahP,b=typeof a;"undefined"!==b&&(this.dispose=a,this.ahP=null,"function"===b&&this.dispose())};IPCC.Web.UI.aE.removeHandler=function(a,b,d){IPCC.Web.UI.aE.cX(a,b,d)};
IPCC.Web.UI.aE.cX=function(a,b,d){IPCC.Web.UI.aE.Zu(a);var c=null;if("object"!==typeof a.aN||!a.aN)throw new IPCC.Web.UI.ImGearInvalidOperationException("DOM event handler was not added through the DomEvent.addHandler method.");var e=a.aN[b];if(!(e instanceof Array))throw new IPCC.Web.UI.ImGearInvalidOperationException("DOM event handler was not added through the DomEvent.addHandler method.");for(var f=0,g=e.length;f<g;f++)if(e[f].handler===d){c=e[f].browserHandler;break}if("function"!==typeof c)throw new IPCC.Web.UI.ImGearInvalidOperationException("Handler was not added through the IPCC.Web.UI.aE.addHandler method.");
a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c);e.splice(f,1)};IPCC.Web.UI.aE.Zu=function(a){if(!a.tagName||"SCRIPT"!==a.tagName.toUpperCase()){var b=a.ownerDocument||a.document||a;if("object"!==typeof a.document&&a!==b&&"number"!==typeof a.nodeType)throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.hg.argumentDomNode);}};IPCC.qY=function(a,b){var d=this;this.cW=a;this.xW=b;this.asR=function(){return d.cW};this.aCY=function(){return d.xW}};
IPCC.qY.prototype.get_propertyName=function(){return this.cW};IPCC.qY.prototype.get_propertyInfo=function(){return this.xW};IPCC.Web.vq=function(a){return!isNaN(a-0)&&null!==a};IPCC.aAX=function(a,b,d){if("undefined"===typeof b)return-1;var c=a.length;if(0!==c)for(d-=0,isNaN(d)?d=0:(isFinite(d)&&(d-=d%1),0>d&&(d=Math.max(0,c+d)));d<c;d++)if("undefined"!==typeof a[d]&&a[d]===b)return d;return-1};
IPCC.Web.UI.gR=function(){if(0!==arguments.length)throw new IPCC.Web.UI.ImGearParameterCountException;this.aaC={}};IPCC.Web.UI.gR.prototype.dv=function(a,b){a=this.Wp(a,!0);a[a.length]=b};IPCC.Web.UI.gR.prototype.addHandler=function(a,b){this.dv(a,b)};IPCC.Web.UI.gR.prototype.cX=function(a,b){if(a=this.Wp(a))b=IPCC.aAX(a,b),0<=b&&a.splice(b,1)};IPCC.Web.UI.gR.prototype.removeHandler=function(a,b){this.cX(a,b)};
IPCC.Web.UI.gR.prototype.getHandler=function(a){var b=this.Wp(a);if(!b||0===b.length)return null;b=b.slice();return function(a,c){for(var e=0,f=b.length;e<f;e++)b[e](a,c)}};IPCC.Web.UI.gR.prototype.Wp=function(a,b){if(!this.aaC[a]){if(!b)return null;this.aaC[a]=[]}return this.aaC[a]};IPCC.Web.JR=IPCC.JR||{};
IPCC.Web.JR.abC=function(a){this.Eb[0][0][0]||this.VB();var b,d,c,e,f=this.Eb[0][4],g=this.Eb[1];b=a.length;var k=1;if(4!==b&&6!==b&&8!==b)throw new IPCC.Web.UI.ImGearArgumentException("none","invalid aes key size");this.bB=[c=a.slice(0),e=[]];for(a=b;a<4*b+28;a++){d=c[a-1];if(0===a%b||8===b&&4===a%b)d=f[d>>>24]<<24^f[d>>16&255]<<16^f[d>>8&255]<<8^f[d&255],0===a%b&&(d=d<<8^d>>>24^k<<24,k=k<<1^283*(k>>7));c[a]=c[a-b]^d}for(b=0;a;b++,a--)d=c[b&3?a:a-4],e[b]=4>=a||4>b?d:g[0][f[d>>>24]]^g[1][f[d>>16&
255]]^g[2][f[d>>8&255]]^g[3][f[d&255]]};
IPCC.Web.JR.abC.prototype={MQ:function(a){return this.arI(a,1)},Eb:[[[],[],[],[],[]],[[],[],[],[],[]]],VB:function(){var a=this.Eb[0],b=this.Eb[1],d=a[4],c=b[4],e,f,g,k=[],m=[],q,n,u,r;for(e=0;256>e;e++)m[(k[e]=e<<1^283*(e>>7))^e]=e;for(f=g=0;!d[f];f^=q||1,g=m[g]||1)for(u=g^g<<1^g<<2^g<<3^g<<4,u=u>>8^u&255^99,d[f]=u,c[u]=f,n=k[e=k[q=k[f]]],r=16843009*n^65537*e^257*q^16843008*f,n=257*k[u]^16843008*u,e=0;4>e;e++)a[e][f]=n=n<<24^n>>>8,b[e][u]=r=r<<24^r>>>8;for(e=0;5>e;e++)a[e]=a[e].slice(0),b[e]=b[e].slice(0)},
arI:function(a,b){if(4!==a.length)throw new IPCC.Web.UI.ImGearArgumentException("blocksize","Invalid block size");var d=this.bB[b],c=a[0]^d[0],e=a[b?3:1]^d[1],f=a[2]^d[2];a=a[b?1:3]^d[3];var g,k,m,q=d.length/4-2,n,u=4,r=[0,0,0,0];g=this.Eb[b];var l=g[0],C=g[1],E=g[2],w=g[3],t=g[4];for(n=0;n<q;n++)g=l[c>>>24]^C[e>>16&255]^E[f>>8&255]^w[a&255]^d[u],k=l[e>>>24]^C[f>>16&255]^E[a>>8&255]^w[c&255]^d[u+1],m=l[f>>>24]^C[a>>16&255]^E[c>>8&255]^w[e&255]^d[u+2],a=l[a>>>24]^C[c>>16&255]^E[e>>8&255]^w[f&255]^
d[u+3],u+=4,c=g,e=k,f=m;for(n=0;4>n;n++)r[b?3&-n:n]=t[c>>>24]<<24^t[e>>16&255]<<16^t[f>>8&255]<<8^t[a&255]^d[u++],g=c,c=e,e=f,f=a,a=g;return r}};IPCC.Web.asb="8.4";IPCC.Web.ayN=24;IPCC.Web.sX=IPCC.Web.sX||{};IPCC.Web.sX.abJ=function(a){this.bB[0]||this.VB();a?(this.eK=a.eK.slice(0),this.wd=a.wd.slice(0),this.ck=a.ck):this.adA()};IPCC.Web.sX.abJ.sX=function(a){return(new IPCC.Web.sX.abJ).apt(a).asp()};
IPCC.Web.sX.abJ.prototype={aEC:512,adA:function(){this.eK=this.PH.slice(0);this.wd=[];this.ck=0;return this},apt:function(a){"string"===typeof a&&(a=IPCC.Web.Codec.Bs.sJ(a));var b,d=this.wd=IPCC.Web.gj.Wv(this.wd,a);b=this.ck;a=this.ck=b+IPCC.Web.gj.vL(a);for(b=512+b&-512;b<=a;b+=512)this.Pu(d.splice(0,16));return this},asp:function(){var a,b=this.wd,d=this.eK,b=IPCC.Web.gj.Wv(b,[IPCC.Web.gj.It(1,1)]);for(a=b.length+2;a&15;a++)b.push(0);b.push(Math.floor(this.ck/4294967296));for(b.push(this.ck|0);b.length;)this.Pu(b.splice(0,
16));this.adA();return d},PH:[],bB:[],VB:function(){function a(a){return 4294967296*(a-Math.floor(a))|0}var b=0,d=2,c;a:for(;64>b;d++){for(c=2;c*c<=d;c++)if(0===d%c)continue a;8>b&&(this.PH[b]=a(Math.pow(d,.5)));this.bB[b]=a(Math.pow(d,1/3));b++}},Pu:function(a){var b,d,c=a.slice(0),e=this.eK,f=this.bB,g=e[0],k=e[1],m=e[2],q=e[3],n=e[4],u=e[5],r=e[6],l=e[7];for(a=0;64>a;a++)16>a?b=c[a]:(b=c[a+1&15],d=c[a+14&15],b=c[a&15]=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+c[a&15]+
c[a+9&15]|0),b=b+l+(n>>>6^n>>>11^n>>>25^n<<26^n<<21^n<<7)+(r^n&(u^r))+f[a],l=r,r=u,u=n,n=q+b|0,q=m,m=k,k=g,g=b+(k&m^q&(k^m))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;e[0]=e[0]+g|0;e[1]=e[1]+k|0;e[2]=e[2]+m|0;e[3]=e[3]+q|0;e[4]=e[4]+n|0;e[5]=e[5]+u|0;e[6]=e[6]+r|0;e[7]=e[7]+l|0}};IPCC.Web.zp=function(a,b){return IPCC.Web.ajz(!1,arguments)};IPCC.Web.amt=function(a,b){return IPCC.Web.ajz(!0,arguments)};
IPCC.Web.ajz=function(a,b){for(var d="",c=b[0],e=0;;){var f=c.indexOf("{",e),g=c.indexOf("}",e);if(0>f&&0>g){d+=c.slice(e);break}if(0<g&&(g<f||0>f)){if("}"!==c.charAt(close+1))throw new IPCC.Web.UI.ImGearArgumentException("format","The format string contains an unmatched opening or closing brace.");d+=c.slice(e,g+1);e=g+2}else if(d+=c.slice(e,f),e=f+1,"{"===c.charAt(e))d+="{",e++;else{if(0>g)throw new IPCC.Web.UI.ImGearArgumentException("format","The format string contains an unmatched opening or closing brace.");
var f=c.substring(e,g),k=f.indexOf(":"),e=parseInt(0>k?f:f.substring(0,k),10)+1;if(isNaN(e))throw new IPCC.Web.UI.ImGearArgumentException("format","The format string is invalid.");f=0>k?"":f.substring(k+1);e=b[e];if("undefined"===typeof e||null===e)e="";d=e.toFormattedString?d+e.toFormattedString(f):a&&e.amt?d+e.amt(f):e.format?d+e.format(f):d+e.toString();e=g+1}}return d};IPCC.Web.UI.ImGearException=function(a,b){this.message=a;if(b)for(var d in b)b.hasOwnProperty(d)&&(this[d]=b[d])};
IPCC.Web.UI.ImGearException.prototype=Error();IPCC.Web.UI.ImGearException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearException.registerClass("IPCC.Web.UI.ImGearException");IPCC.Web.UI.ImGearHttpException=function(a,b,d){var c="IPCC.Web.UI.ImGearHttpException: ";b&&(c+=b);this.message=c;this.statusCode=a;this.customErrorCode=d};IPCC.Web.UI.ImGearHttpException.prototype=Error();IPCC.Web.UI.ImGearHttpException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearHttpException.registerClass("IPCC.Web.UI.ImGearHttpException");
IPCC.Web.UI.ImGearArgumentException=function(a,b){b="IPCC.Web.UI.ImGearArgumentException: "+(b?b:IPCC.hg.argument);a&&"undefined"!==typeof a&&null!==a&&(b+="\n"+IPCC.Web.zp(IPCC.hg.paramName,a));this.message=b;this.paramName=a};IPCC.Web.UI.ImGearArgumentException.prototype=Error();IPCC.Web.UI.ImGearArgumentException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentException.registerClass("IPCC.Web.UI.ImGearArgumentException");
IPCC.Web.UI.ImGearArgumentNullException=function(a,b){b="IPCC.Web.UI.ImGearArgumentNullException: "+(b?b:IPCC.hg.argumentNull);a&&"undefined"!==typeof a&&null!==a&&(b+="\n"+IPCC.Web.zp(IPCC.Res.paramName,a));this.message=b;this.paramName=a};IPCC.Web.UI.ImGearArgumentNullException.prototype=Error();IPCC.Web.UI.ImGearArgumentNullException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentNullException.registerClass("IPCC.Web.UI.ImGearArgumentNullException");
IPCC.Web.UI.ImGearArgumentOutOfRangeException=function(a,b,d){d="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(d?d:IPCC.hg.argumentOutOfRange);a&&"undefined"!==typeof a&&null!==a&&(d+="\n"+IPCC.Web.zp(IPCC.hg.paramName,a));"undefined"!==typeof b&&null!==b&&(d+="\n"+IPCC.Web.zp(IPCC.hg.actualValue,b));this.message=d;this.paramName=a;this.actualValue=b};IPCC.Web.UI.ImGearArgumentOutOfRangeException.prototype=Error();IPCC.Web.UI.ImGearArgumentOutOfRangeException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentOutOfRangeException.registerClass("IPCC.Web.UI.ImGearArgumentOutOfRangeException");
IPCC.Web.UI.ImGearArgumentTypeException=function(a,b,d,c){var e="IPCC.Web.UI.ImGearArgumentTypeException ",e=c?e+c:b&&d?"function"===typeof b.getName&&"function"===typeof d.getName?e+IPCC.Web.zp(IPCC.hg.argumentTypeWithTypes,b.getName(),d.getName()):e+("actualType = "+b+" expectedType =  "+d):e+IPCC.hg.argumentType;a&&"undefined"!==typeof a&&null!==a&&(e+="\n"+IPCC.Web.zp(IPCC.hg.paramName,a));this.message=e;this.paramName=a;this.actualType=b;this.expectedType=d};
IPCC.Web.UI.ImGearArgumentTypeException.prototype=Error();IPCC.Web.UI.ImGearArgumentTypeException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentTypeException.registerClass("IPCC.Web.UI.ImGearArgumentTypeException");IPCC.Web.UI.ImGearArgumentUndefinedException=function(a,b){b="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(b?b:IPCC.hg.argumentUndefined);a&&"undefined"!==typeof a&&null!==a&&(b+="\n"+IPCC.Web.zp(IPCC.Res.paramName,a));this.message=b;this.paramName=a};
IPCC.Web.UI.ImGearArgumentUndefinedException.prototype=Error();IPCC.Web.UI.ImGearArgumentUndefinedException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentUndefinedException.registerClass("IPCC.Web.UI.ImGearArgumentUndefinedException");IPCC.Web.UI.ImGearInvalidOperationException=function(a){this.message="IPCC.Web.UI.ImGearInvalidOperationException: "+(a?a:IPCC.hg.invalidOperation)};IPCC.Web.UI.ImGearInvalidOperationException.protype=Error();
IPCC.Web.UI.ImGearInvalidOperationException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearInvalidOperationException.registerClass("IPCC.Web.UI.ImGearInvalidOperationException");IPCC.Web.UI.ImGearNotImplementedException=function(a){this.message="IPCC.Web.UI.ImGearNotImplementedException: "+(a?a:IPCC.hg.notImplemented)};IPCC.Web.UI.ImGearNotImplementedException.prototype=Error();IPCC.Web.UI.ImGearNotImplementedException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearNotImplementedException.registerClass("IPCC.Web.UI.ImGearNotImplementedException");
IPCC.Web.UI.ImGearParameterCountException=function(a){this.message="IPCC.Web.UI.ImGearParameterCountException: "+(a?a:IPCC.hg.parameterCount)};IPCC.Web.UI.ImGearParameterCountException.prootype=Error();IPCC.Web.UI.ImGearParameterCountException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearParameterCountException.registerClass("IPCC.Web.UI.ImGearParameterCountException");IPCC.Web.bB=[1260165806,632167094,1222898120,2372008986];
IPCC.Web.gj={Vk:function(a,b,d){a=IPCC.Web.gj.adh(a.slice(b/32),32-(b&31)).slice(1);return void 0===d?a:IPCC.Web.gj.awO(a,d-b)},UN:function(a,b,d){var c=Math.floor(-b-d&31);return((b+d-1^b)&-32?a[b/32|0]<<32-c^a[b/32+1|0]>>>c:a[b/32|0]>>>c)&(1<<d)-1},Wv:function(a,b){if(0===a.length||0===b.length)return a.concat(b);var d=a[a.length-1],c=IPCC.Web.gj.VM(d);return 32===c?a.concat(b):IPCC.Web.gj.adh(b,c,d|0,a.slice(0,a.length-1))},vL:function(a){var b=a.length;return 0===b?0:32*(b-1)+IPCC.Web.gj.VM(a[b-
1])},awO:function(a,b){if(32*a.length<b)return a;a=a.slice(0,Math.ceil(b/32));var d=a.length;b&=31;0<d&&b&&(a[d-1]=IPCC.Web.gj.It(b,a[d-1]&2147483648>>b-1,1));return a},It:function(a,b,d){return 32===a?b:(d?b|0:b<<32-a)+1099511627776*a},VM:function(a){return Math.round(a/1099511627776)||32},apB:function(a,b){if(IPCC.Web.gj.vL(a)!==IPCC.Web.gj.vL(b))return!1;var d=0,c;for(c=0;c<a.length;c++)d|=a[c]^b[c];return 0===d},adh:function(a,b,d,c){var e;for(void 0===c&&(c=[]);32<=b;b-=32)c.push(d),d=0;if(0===
b)return c.concat(a);for(e=0;e<a.length;e++)c.push(d|a[e]>>>b),d=a[e]<<32-b;a=IPCC.Web.gj.VM(a.length?a[a.length-1]:0);c.push(IPCC.Web.gj.It(b+a&31,32<b+a?d:c.pop(),1));return c},acy:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}};IPCC.Web.hA=IPCC.Web.hA||{};IPCC.Web.rF=!1;IPCC.Web.Sv=[];
IPCC.Web.hA.Bs={lW:function(a){var b="",d=IPCC.Web.gj.vL(a),c,e;for(c=0;c<d/8;c++)0===(c&3)&&(e=a[c/4]),b+=String.fromCharCode(e>>>24),e<<=8;return decodeURIComponent(escape(b))},sJ:function(a){a=unescape(encodeURIComponent(a));var b=[],d,c=0;for(d=0;d<a.length;d++)c=c<<8|a.charCodeAt(d),3===(d&3)&&(b.push(c),c=0);d&3&&b.push(IPCC.Web.gj.It(8*(d&3),c));return b}};IPCC.Web.xa=!1;
IPCC.Web.hA.qM={xR:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lW:function(a,b,d){var c="",e=0,f=IPCC.Web.hA.qM.xR,g=0,k=IPCC.Web.gj.vL(a);d&&(f=f.substr(0,62)+"-_");for(d=0;6*c.length<k;)c+=f.charAt((g^a[d]>>>e)>>>26),6>e?(g=a[d]<<6-e,e+=26,d++):(g<<=6,e-=6);for(;c.length&3&&!b;)c+="=";return c},sJ:function(a,b){a=a.replace(/\s|=/g,"");var d=[],c=0,e=IPCC.Web.hA.qM.xR,f=0,g;b&&(e=e.substr(0,62)+"-_");for(b=0;b<a.length;b++){g=e.indexOf(a.charAt(b));if(0>g)throw new IPCC.Web.UI.ImGearArgumentException("base64",
"Invalid base64");26<c?(c-=26,d.push(f^g>>>c),f=g<<32-c):(c+=6,f^=g<<32-c)}c&56&&d.push(IPCC.Web.gj.It(c&56,f,1));return d}};IPCC.Web.hA.Fd={lW:function(a){return IPCC.Web.hA.qM.lW(a,1,1)},sJ:function(a){return IPCC.Web.hA.qM.sJ(a,1)}};IPCC.Web.mI=[];IPCC.Web.MJ=IPCC.Web.MJ||{};
IPCC.Web.MJ.aib={cZ:"cbc",ajc:function(a,b,d,c){if(c&&c.length)throw new IPCC.Web.UI.ImGearArgumentException("data","cannot authenticate data");if(128!==IPCC.Web.gj.vL(d))throw new IPCC.Web.UI.ImGearArgumentException("iv","invalid data");var e=IPCC.Web.gj,f=e.acy,g=e.vL(b),k=0,m=[];if(g&7)throw new IPCC.Web.UI.ImGearInvalidOperationException("padding works only for multiple bytes");for(c=0;k+128<=g;c+=4,k+=128)d=a.ajc(f(d,b.slice(c,c+4))),m.splice(c,0,d[0],d[1],d[2],d[3]);g=16843009*(16-(g>>3&15));
d=a.ajc(f(d,e.Wv(b,[g,g,g,g]).slice(c,c+4)));m.splice(c,0,d[0],d[1],d[2],d[3]);return m},MQ:function(a,b,d,c){if(c&&c.length)throw new IPCC.Web.UI.ImGearArgumentException(c,"cbc can't authenticate data");if(128!==IPCC.Web.gj.vL(d))throw new IPCC.Web.UI.ImGearArgumentException("iv","cbc iv must be 128 bits");if(IPCC.Web.gj.vL(b)&127||!b.length)throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");var e=IPCC.Web.gj,f=e.acy,g,k=[];for(c=
0;c<b.length;c+=4)g=b.slice(c,c+4),d=f(d,a.MQ(g)),k.splice(c,0,d[0],d[1],d[2],d[3]),d=g;g=k[c-1]&255;if(0===g||16<g)throw new IPCC.Web.UI.ImGearInvalidOperationException("pkcs#5 padding corrupt");d=16843009*g;if(!e.apB(e.Vk([d,d,d,d],0,8*g),e.Vk(k,32*k.length-8*g,32*k.length)))throw new IPCC.Web.UI.ImGearInvalidOperationException("2pkcs#5 padding corrupt");return e.Vk(k,0,32*k.length-8*g)}};IPCC.Web.aBc=0;IPCC.Web.aN=new IPCC.Web.UI.gR;IPCC.Web.aGF=function(a){IPCC.Web.aN.dv(IPCC.hg.prodInfo,a)};
IPCC.Web.aGz=function(a){IPCC.Web.aN.cX(IPCC.hg.prodInfo,a)};IPCC.Web.aES=function(a){IPCC.Web.aN.dv(IPCC.hg.prodFailInfo,a)};IPCC.Web.aEX=function(a){IPCC.Web.aN.cX(IPCC.hg.prodFailInfo,a)};IPCC.Web.aR=function(a,b){a=IPCC.Web.aN.getHandler(a);null!==a&&a(IPCC.Web,b)};
IPCC.Web.agz=function(a){var b=a.length,d=Math.ceil(b/4),c=[];c.length=d;for(var e=0,f=0;e<d;e++,f+=4)c[e]=((a[f]&255)<<24)+((a[f+1]&255)<<16)+((a[f+2]&255)<<8)+(a[f+3]&255);if(f<b)for(d=0;f<b;f++,d++)(void 0)[e]+=(a[f++]&255)<<3-d;return c};
IPCC.Web.afJ=function(a){var b=a.length,d=Math.ceil(b/4),c=[];c.length=d;for(var e=0,f=0;e<d;e++,f+=4)c[e]=((a.charCodeAt(f)&255)<<24)+((a.charCodeAt(f+1)&255)<<16)+((a.charCodeAt(f+2)&255)<<8)+(a.charCodeAt(f+3)&255);if(f<b)for(d=c[e]=0;f<b;f++,d++)c[e]+=(a.charCodeAt(f++)&255)<<3-d;return c};
IPCC.Web.awQ=function(a){a=new Uint8Array(a);var b=a.length,d=Math.ceil(b/4),c=[];c.length=d;for(var e=0,f=0;e<d;e++,f+=4)c[e]=(a[f]<<24)+(a[f+1]<<16)+(a[f+2]<<8)+a[f+3];if(f<b)for(d=c[e]=0;f<b;f++,d++)(void 0)[e]+=a[f++]<<3-d;return c};IPCC.Web.EE=function(a,b){return IPCC.Web.BS(a,[292357730,2830851640,1300206536,2786930539,2914072653,1028311035,1315878478,1867349647],b)};IPCC.Web.BS=function(a,b,d){try{var c=new IPCC.Web.JR.abC(b);return IPCC.Web.MJ.aib.MQ(c,a,d)}catch(e){}};
IPCC.Web.ED=function(a){return"undefined"!==typeof VBArray?IPCC.Web.agz((new VBArray(a.responseBody)).toArray()):IPCC.Web.afJ(a.responseText)};IPCC.Web.aFr=function(a,b){return"undefined"!==typeof ArrayBuffer?IPCC.Web.awQ(a):"undefined"!==typeof VBArray?IPCC.Web.agz((new VBArray(b.responseBody)).toArray()):IPCC.Web.afJ(b.responseText)};
IPCC.Web.ayG=function(a,b,d){var c,e,f,g;try{f=new IPCC.Web.JR.abC(d.Sv),g=IPCC.Web.hA.qM.sJ(a),c=IPCC.Web.MJ.aib.MQ(f,g,b),e=IPCC.Web.hA.Bs.lW(c)}catch(k){IPCC.Web.mI[0]=0;IPCC.Web.rF=!1;return}if(c&&(d=IPCC.bY.pk(e))&&d.v===IPCC.Web.ot.agw()&&d.p===IPCC.Web.ot.agX())if(d.f){if(a=d.f.length,b=d.f,0<d.f.length){IPCC.Web.mI.splice(0);for(d=0;d<a;d++)IPCC.Web.mI.push(b[d]);IPCC.Web.rF=!0;IPCC.Web.xa=!1}}else IPCC.Web.rF=!1,IPCC.Web.xa=!1};
IPCC.Web.Qq=function(a){function b(){try{if(4===d.readyState)if(200===d.status)IPCC.Web.ayG(d.responseText,c,e);else throw IPCC.Web.mI[0]=0,IPCC.Web.rF=!1,IPCC.Web.xa=!1,new IPCC.Web.UI.ImGearHttpException(d.status,"failure to get product info");}catch(a){throw IPCC.Web.xa=!1,new IPCC.Web.UI.ImGearException("failure to get product info",{name:"Product Infomation"});}finally{4===d.readyState&&(200===d.status?!0===IPCC.Web.rF?IPCC.Web.aR(IPCC.hg.prodInfo,null):IPCC.Web.aR(IPCC.hg.prodFailInfo,null):
IPCC.Web.aR(IPCC.hg.prodFailInfo,null))}}if(!IPCC.Web.rF&&!IPCC.Web.xa&&a){var d=new XMLHttpRequest,c=IPCC.Web.ot.Ox(4),e={Sv:[]};setTimeout(function(){d.open("GET",IPCC.Web.ot.asV(a,c,e),!0);d.setRequestHeader("Content-Type","application/json");d.onreadystatechange=b;d.send()},500);IPCC.Web.aBc++;IPCC.Web.xa=!0}};IPCC.Web.RR=function(){var a=new Date;return+new Date(a.getYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds())};
IPCC.Web.ot={Ox:function(a){for(var b=[],d=IPCC.Web.agL().aiV,c=0;c<a;c++)b.push(d());return b},VA:function(a,b){var d=[];b=IPCC.Web.agL(b).aiV;for(var c=0;c<a;c++)d.push(b());return d},asV:function(a,b,d){return a+IPCC.hg.fwdslash+IPCC.hg.svctype+IPCC.hg.fwdslash+IPCC.hg.viewer+IPCC.hg.querySymb+IPCC.hg.version+IPCC.Web.ot.agw()+"&"+IPCC.hg.iv+IPCC.Web.ot.ayl(b,d)+"&"+IPCC.hg.param+IPCC.Web.ot.agX()},agw:function(){return IPCC.Web.asb},agX:function(){return IPCC.Web.ayN},ayl:function(a,b){var d,
c=!0,e="",f,g,k,m,q;for(d=0;4>d;d++){c?c=!1:e+="-";for(f=q=0;4>f;f++)m=32*d+8*f,g=IPCC.Web.gj.UN(a,m,4),e+=g.toString(16).toUpperCase(),k=IPCC.Web.gj.UN(a,m+4,4),e+=k.toString(16).toUpperCase(),g=(16*g+k+IPCC.Web.gj.UN(IPCC.Web.bB,m,8))%256,q|=g<<24-8*f;b.Sv[d]=q}return e}};IPCC.bY=IPCC.bY||{};
IPCC.bY.pk=IPCC.bY.pk||function(a,b){""===a&&(a='""');try{if("undefined"!==typeof YUI){var d;YUI().use("json-parse",function(b){d=b.JSON.parse(a)});return d}var c=a.replace(/(^|[^\\])\"\\\/Date\((-?[0-9]+)(?:[a-zA-Z]|(?:\+|-)[0-9]{4})?\)\\\/\"/g,"$1new Date($2)"),e=/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/g,f=/"(\\.|[^"\\])*"/g;if(b&&e.test(c.replace(f,"")))throw null;return eval("("+c+")")}catch(g){throw new IPCC.Web.UI.ImGearArgumentException("str","Cannot deserialize. The data does not correspond to valid JSON.");
}};IPCC.hH={};IPCC.hH.InternetExplorer={};IPCC.hH.Firefox={};IPCC.hH.Safari={};IPCC.hH.Opera={};IPCC.hH.agent=null;IPCC.hH.hasDebuggerStatement=!1;IPCC.hH.name=navigator.appName;IPCC.hH.version=parseFloat(navigator.appVersion);IPCC.hH.documentMode=0;
-1<navigator.userAgent.indexOf(" MSIE ")?(IPCC.hH.agent=IPCC.hH.InternetExplorer,IPCC.hH.version=parseFloat(navigator.userAgent.match(/MSIE (\d+\.\d+)/)[1]),8<=IPCC.hH.version&&7<=document.documentMode&&(IPCC.hH.documentMode=document.documentMode),IPCC.hH.hasDebuggerStatement=!0):-1<navigator.userAgent.indexOf(" Firefox/")?(IPCC.hH.agent=IPCC.hH.Firefox,IPCC.hH.version=parseFloat(navigator.userAgent.match(/ Firefox\/(\d+\.\d+)/)[1]),IPCC.hH.name="Firefox",IPCC.hH.hasDebuggerStatement=!0):-1<navigator.userAgent.indexOf(" AppleWebKit/")?
(IPCC.hH.agent=IPCC.hH.Safari,IPCC.hH.version=parseFloat(navigator.userAgent.match(/ AppleWebKit\/(\d+(\.\d+)?)/)[1]),IPCC.hH.name="Safari"):-1<navigator.userAgent.indexOf("Opera/")&&(IPCC.hH.agent=IPCC.hH.Opera);IPCC.FN=function(a){this.sh="undefined"!==typeof a&&null!==a&&""!==a?[a.toString()]:[];this.h={};this.bd=0};IPCC.FN.prototype.nP=function(a){this.sh[this.sh.length]=a};IPCC.FN.prototype.aFt=function(a){this.sh[this.sh.length]="undefined"===typeof a||null===a||""===a?"\r\n":a+"\r\n"};
IPCC.FN.prototype.aGe=function(){this.sh=[];this.h={};this.bd=0};IPCC.FN.prototype.aFy=function(){return 0===this.sh.length?!0:""===this.toString()};IPCC.FN.prototype.alD=function(a){a=a||"";var b=this.sh;this.bd!==b.length&&(this.h={},this.bd=b.length);var d=this.h;if("undefined"===typeof d[a]){if(""!==a)for(var c=0;c<b.length;)"undefined"===typeof b[c]||""===b[c]||null===b[c]?b.splice(c,1):c++;d[a]=this.sh.join(a)}return d[a]};
IPCC.Web.hk=function(a,b,d){var c=a.length>>>0;d=Number(d)||0;d=0>d?Math.ceil(d):Math.floor(d);for(0>d&&(d+=c);d<c;d++)if(d in a&&a[d]===b)return d;return-1};IPCC.bY.Rk=[];IPCC.bY.GL=[];IPCC.bY.aGi=/(^|[^\\])\"\\\/Date\((-?[0-9]+)(?:[a-zA-Z]|(?:\+|-)[0-9]{4})?\)\\\/\"/g;IPCC.bY.GE={};IPCC.bY.ari=/["\\\x00-\x1F]/i;IPCC.bY.aqk=/["\\\x00-\x1F]/g;IPCC.bY.aFU=/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/g;IPCC.bY.aFf=/"(\\.|[^"\\])*"/g;IPCC.bY.aAQ="__type";
IPCC.bY.PH=function(){var a="\\u0000 \\u0001 \\u0002 \\u0003 \\u0004 \\u0005 \\u0006 \\u0007 \\b \\t \\n \\u000b \\f \\r \\u000e \\u000f \\u0010 \\u0011 \\u0012 \\u0013 \\u0014 \\u0015 \\u0016 \\u0017 \\u0018 \\u0019 \\u001a \\u001b \\u001c \\u001d \\u001e \\u001f".split(" ");IPCC.bY.GL[0]="\\";IPCC.bY.Rk["\\"]=/\\/g;IPCC.bY.GE["\\"]="\\\\";IPCC.bY.GL[1]='"';IPCC.bY.Rk['"']=/"/g;IPCC.bY.GE['"']='\\"';for(var b=0;32>b;b++){var d=String.fromCharCode(b);IPCC.bY.GL[b+2]=d;IPCC.bY.Rk[d]=new RegExp(d,"g");
IPCC.bY.GE[d]=a[b]}};IPCC.bY.aaa=function(a,b){b.nP(a.toString())};IPCC.bY.aaO=function(a,b){if(isFinite(a))b.nP(String(a));else throw new IPCC.Web.UI.ImGearInvalidOperationException("Cannot serialize non finite numbers.");};
IPCC.bY.abx=function(a,b){b.nP('"');if(IPCC.bY.ari.test(a))if(0===IPCC.bY.GL.length&&IPCC.bY.PH(),128>a.length)a=a.replace(IPCC.bY.aqk,function(a){return IPCC.bY.GE[a]});else for(var d=0;34>d;d++){var c=IPCC.bY.GL[d];-1!==a.indexOf(c)&&(a=IPCC.hH.agent===IPCC.hH.Opera||IPCC.hH.agent===IPCC.hH.FireFox?a.split(c).join(IPCC.bY.GE[c]):a.replace(IPCC.bY.Rk[c],IPCC.bY.GE[c]))}b.nP(a);b.nP('"')};
IPCC.bY.Pf=function(a,b,d,c){var e;switch(typeof a){case "object":if(a){if(c)for(var f=0;f<c.length;f++){if(c[f]===a)throw new IPCC.Web.UI.ImGearInvalidOperationException("Cannot serialize object with cyclic reference within child properties.");}else c=[];try{if(c[c.length]=a,"number"===typeof a)IPCC.bY.aaO(a,b);else if("boolean"===typeof a)IPCC.bY.aaa(a,b);else if("string"===typeof a)IPCC.bY.abx(a,b);else if(a instanceof Array){b.nP("[");for(e=0;e<a.length;++e)0<e&&b.nP(","),IPCC.bY.Pf(a[e],b,!1,
c);b.nP("]")}else{var f=[],g=0,k;for(k in a)a.hasOwnProperty(k)&&"$"!==(""+k).substr(0,1)&&(k===IPCC.bY.aAQ&&0!==g?(f[g++]=f[0],f[0]=k):f[g++]=k);d&&f.sort();b.nP("{");k=!1;for(e=0;e<g;e++){var m=a[f[e]];"undefined"!==typeof m&&"function"!==typeof m&&(k?b.nP(","):k=!0,IPCC.bY.Pf(f[e],b,d,c),b.nP(":"),IPCC.bY.Pf(m,b,d,c))}b.nP("}")}}finally{c.splice(c.length-1)}}else b.nP("null");break;case "number":IPCC.bY.aaO(a,b);break;case "string":IPCC.bY.abx(a,b);break;case "boolean":IPCC.bY.aaa(a,b);break;default:b.nP("null")}};
IPCC.bY.SC=IPCC.bY.SC||function(a){var b=new IPCC.FN;IPCC.bY.Pf(a,b,!1);return b.alD()};
IPCC.hg={paramName:"Parameter name: {0}",svctype:"License",argumentNull:"Value cannot be null.",spc:" ",actualValue:"Actual value was {0}.",fwdslash:"/",prodInfo:"prodInfoPass",argumentOutOfRange:"Specified argument was out of the range of valid values.",argumentTypeWithTypes:"Object of type '{0}' cannot be converted to type '{1}'.",argumentType:"Object cannot be converted to the required type.",invalidOperation:"Operation is not valid due to the current state of the object.",notImplemented:"The method or operation is not implemented.",
argument:"Value does not fall within the expected range.",prodFailInfo:"prodInfoFail",svcReqStr:"",viewer:"ClientViewer",querySymb:"?",version:"v=",iv:"iv=",param:"p="};IPCC.Web.aBJ=function(){var a=4022871197,b=function(b){b=b.toString();for(var c=0;c<b.length;c++){a+=b.charCodeAt(c);var e=.02519603282416938*a;a=e>>>0;e-=a;e*=a;a=e>>>0;e-=a;a+=4294967296*e}return 2.3283064365386963E-10*(a>>>0)};b.apO="Mash 0.9";return b};
IPCC.Web.agL=function(){return function(a){var b=0,d=0,c=0,e=1;0===a.length&&(a=[+new Date]);for(var f=IPCC.Web.aBJ(),b=f(" "),d=f(" "),c=f(" "),g=0;g<a.length;g++)b-=f(a[g]),0>b&&(b+=1),d-=f(a[g]),0>d&&(d+=1),c-=f(a[g]),0>c&&(c+=1);var f=null,k=function(){var a=2091639*b+2.3283064365386963E-10*e;b=d;d=c;return c=a-(e=a|0)};k.aiV=function(){return 4294967296*k()};k.aFK=function(){return k()+1.1102230246251565E-16*(2097152*k()|0)};k.apO="Alea 0.9";k.cg=a;return k}(Array.prototype.slice.call(arguments))};
IPCC.aJ={bk:function(a,b,d){if(typeof a!==d)throw new IPCC.Web.UI.ImGearArgumentTypeException(b,typeof a,d);},jf:function(a,b){IPCC.aJ.bk(a,b,"string")},fR:function(a,b){if(!(a instanceof Date))throw new IPCC.Web.UI.ImGearArgumentTypeException(b,typeof a,"Date");},hV:function(a,b){IPCC.aJ.bk(a,b,"number");if(!isFinite(a))throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(b,a,"The value must be a number.");},lJ:function(a,b,d,c){IPCC.aJ.bk(a,b,"number");if(a<d||a>c||!isFinite(a))throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(b,
a,"The value must be a number between "+d+" and "+c+" inclusive.");},US:function(a,b,d){IPCC.aJ.bk(a,b,"number");var c;for(c=0;c<d.length;c++)if(a===d[c])return;var e="";for(c=0;c<d.length;c++)0<c&&(e=c===d.length-1?e+" or ":e+", "),e+=d[c];throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(b,a,"The value must be "+e+".");},ps:function(a,b,d,c){IPCC.aJ.lJ(a,b,d,c);if(a!==Math.floor(a))throw new IPCC.Web.UI.ImGearArgumentException(b,"The value must be an integer.");},fk:function(a,b){IPCC.aJ.bk(a,
b,"string");if(!a.match(/#[0-9A-Fa-f]{6}/))throw new IPCC.Web.UI.ImGearArgumentException(b,"Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.");},XK:function(a,b){IPCC.aJ.bk(a,b,"string");if(!a.match(/#[0-9A-Fa-f]{6}|transparent/))throw new IPCC.Web.UI.ImGearArgumentException(b,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');},kK:function(a,b,d,c){IPCC.aJ.bk(a,
b,"number");var e,f=0;for(e in d)if(d.hasOwnProperty(e))if(c)f|=d[e];else if(a===d[e])return;if(c){if((a|f)===f)return;throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(b,a,"The value must be zero or more members of the  enumeration.");}throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(b,a,"The value must be a member of the  enumeration.");},aq:function(a,b){IPCC.aJ.hV(a.x,b+".x");IPCC.aJ.hV(a.y,b+".y")},C:function(a,b){IPCC.aJ.hV(a.x,b+".x");IPCC.aJ.hV(a.y,b+".y");IPCC.aJ.hV(a.width,
b+".width");IPCC.aJ.hV(a.height,b+".height")}};IPCC.Ez=function(){function a(){return Math.floor(10*Math.random()).toString()}var b=new Date;return a()+a()+"_"+b.getTime()+"_"+a()+a()+a()+a()};
IPCC.fF={hT:function(a,b){var d,c;if(null===a)return"null";b||(b=0);d=typeof a;if("undefined"===d)return"undefined";if("number"===d||"boolean"===d)return a.toString();if("string"===d)return"'"+a+"'";if("function"===d)return"function";if(0>b)return"jp";d="{";for(c in a)a.hasOwnProperty(c)&&(2<d.length&&(d+=", "),d+=c,d+=": ",d+=IPCC.fF.hT(a[c],b-1));return d+"}"},PW:function(a){var b=document.getElementById("TraceConsole");b&&"TEXTAREA"===b.tagName.toUpperCase()&&(b.value+=a+"\n")},aFl:function(){var a=
document.getElementById("TraceConsole");a&&"TEXTAREA"===a.tagName.toUpperCase()&&(a.value="")},iB:function(a,b,d,c,e){c="PCC Controls - "+(c?c:" ")+" parent Div id = "+(e?e:" ");if(b)switch(b){case 0:c+=" FunctionCall ";break;case 1:c+=" Exception ";break;case 2:c+=" Custom ";break;case 3:c+=" UserAction ";break;case 4:c+=" Warning ";break;default:c+=" unknown "}c+=" - "+a;"undefined"!==typeof Debug&&Debug.writeln&&Debug.writeln(c);window.console&&window.console.log&&window.console.log(c);window.opera&&
window.opera.postError(c);window.debugService&&window.debugService.trace(c);var f=document.getElementById("TraceConsole");f&&"TEXTAREA"===f.tagName.toUpperCase()&&(f.value+=c+"\n");var g;try{g=onPCCItemLogged}catch(k){}g&&"function"===(typeof g).toLowerCase()&&(c=new IPCC.Web.UI.LogItemEventArgs,c.message=a,c.cause=b,c.level=d,c.id=e,g(c))}};
IPCC.ub={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",
flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",
createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",
calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",
markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};
IPCC.Web.nC=function(){if(void 0===this.adK){var a=document.createElement("div");a.style.overflow="scroll";a.style.position="absolute";a.style.top="-9999px";document.body.appendChild(a);this.adK=a.offsetWidth-a.clientWidth;document.body.removeChild(a)}return this.adK};IPCC.Type.registerNamespace("IPCC.Web.UI");IPCC.Web.UI.MouseTool=function(){};IPCC.Web.UI.MouseTool.registerEnum=IPCC.Web.regEnum;
IPCC.Web.UI.MouseTool.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22,
CreateStrikethroughMark:23};IPCC.Web.UI.MouseTool.registerEnum("IPCC.Web.UI.MouseTool",!1);IPCC.Web.UI.FitType=function(){};IPCC.Web.UI.FitType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.FitType.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};IPCC.Web.UI.FitType.registerEnum("IPCC.Web.UI.FitType",!1);IPCC.Web.UI.ScrollBars=function(){};IPCC.Web.UI.ScrollBars.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ScrollBars.prototype={None:0,Both:3,Auto:4};
IPCC.Web.UI.ScrollBars.registerEnum("IPCC.Web.UI.ScrollBars",!1);IPCC.Web.UI.MarkHandleMode=function(){};IPCC.Web.UI.MarkHandleMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkHandleMode.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};IPCC.Web.UI.MarkHandleMode.registerEnum("IPCC.Web.UI.MarkHandleMode",!1);IPCC.Web.UI.ImGearArtDataServices=function(){};IPCC.Web.UI.ImGearArtDataServices.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearArtDataServices.prototype={None:0,ArtDataService:1};
IPCC.Web.UI.ImGearArtDataServices.registerEnum("IPCC.Web.UI.ImGearArtDataServices",!1);IPCC.Web.UI.Rectangle=function(a,b,d,c){0>d&&(a+=d,d=-d);0>c&&(b+=c,c=-c);this.x=a;this.y=b;this.width=d;this.height=c;return this};
IPCC.Web.UI.Rectangle.prototype={intersect:function(a){var b=Math.max(this.x,a.x),d=Math.min(this.x+this.width,a.x+a.width)-b,c=Math.max(this.y,a.y);a=Math.min(this.y+this.height,a.y+a.height)-c;if(0>=d||0>=a)b=c=d=a=0;this.x=b;this.y=c;this.width=d;this.height=a},union:function(a){var b=Math.min(this.x,a.x),d=Math.min(this.y,a.y),c=Math.max(this.x+this.width,a.x+a.width);a=Math.max(this.y+this.height,a.y+a.height);this.x=b;this.y=d;this.width=c-b;this.height=a-d;return this},scale:function(a,b){b=
b||a;var d=this.y*b,c=this.width*a;b*=this.height;this.x*=a;this.y=d;this.width=c;this.height=b;return this},toString:function(){return"Rectangle("+this.x+", "+this.y+", "+this.width+", "+this.height+")"},contains:function(a){return a.x>=this.x&&a.y>=this.y&&a.x<this.x+this.width&&a.y<this.y+this.height},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height)},equals:function(a){return this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height}};
IPCC.Web.UI.Rectangle.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Rectangle.registerClass("IPCC.Web.UI.Rectangle");IPCC.Web.UI.Point=function(a,b){this.x=a;this.y=b;return this};IPCC.Web.UI.Point.prototype={toString:function(){return"Point("+this.x+", "+this.y+")"},constrain:function(a){this.x=Math.min(Math.max(this.x,a.x),a.x+a.width);this.y=Math.min(Math.max(this.y,a.y),a.y+a.height)}};IPCC.Web.UI.Point.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Point.registerClass("IPCC.Web.UI.Point");
IPCC.Web.UI.PointCollection=function(){function a(a){if(a>b.length-1||0>a)throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("index",a);}var b=[],d=new IPCC.Web.UI.gR;this.avx=function(a){var d=new IPCC.Web.UI.PointEventArgs;d.point=a;d.length=1;b.push(new IPCC.Web.UI.Point(a.x,a.y));d.index=b.length-1;this.aR("pointAdded",d)};this.awt=function(a){var d=new IPCC.Web.UI.PointEventArgs;d.index=b.length;d.length=a.get_length();a.forEach(function(a){b.push(a)},{});0<d.length&&this.aR("pointAdded",
d)};this.mf=function(a,d){var f=[].concat(b),g;for(g=0;g<f.length;g++)a.call(d,new IPCC.Web.UI.Point(f[g].x,f[g].y),g,this)};this.Ap=function(c){a(c);c=b[c];return new IPCC.Web.UI.Point(c.x,c.y)};this.amq=function(c,d){a(c);IPCC.aJ.aq(d,"point");var f=b[c];if(f.x!==d.x||f.y!==d.y)f.x=d.x,f.y=d.y,f=new IPCC.Web.UI.PointEventArgs,f.point=d,f.index=c,f.length=1,this.aR("pointChanged",f)};this.fj=function(){return b.length};this.aBj=function(c){a(c);var d=new IPCC.Web.UI.PointEventArgs;d.point=b[c];d.index=
c;d.length=1;b.splice(c,1);this.aR("pointRemoved",d)};this.aCK=function(){if(!(1>b.length)){var a=new IPCC.Web.UI.PointEventArgs;a.index=0;a.length=b.length;b=[];this.aR("pointRemoved",a)}};this.ake=function(a,d){if(0!==a||0!==d){IPCC.aJ.hV(a,"deltaX");IPCC.aJ.hV(d,"deltaY");var f;for(f=0;f<b.length;f++)b[f].x+=a,b[f].y+=d;a=new IPCC.Web.UI.PointEventArgs;a.index=0;a.length=b.length;this.aR("pointChanged",a)}};this.wM=function(){if(1>b.length)return new IPCC.Web.UI.Rectangle(0,0,0,0);var a,d=b[0].x,
f=b[0].x,g=b[0].y,k=b[0].y;for(a=1;a<b.length;a++)var m=b[a],d=Math.min(d,m.x),f=Math.max(f,m.x),g=Math.min(g,m.y),k=Math.max(k,m.y);return new IPCC.Web.UI.Rectangle(d,g,f-d,k-g)};this.awn=function(a){d.addHandler("pointAdded",a)};this.azV=function(a){d.removeHandler("pointAdded",a)};this.aws=function(a){d.addHandler("pointChanged",a)};this.aAz=function(a){d.removeHandler("pointChanged",a)};this.avR=function(a){d.addHandler("pointRemoved",a)};this.azE=function(a){d.removeHandler("pointRemoved",a)};
this.aR=function(a,b){a=d.getHandler(a);null!==a&&a(this,b)};return this};
IPCC.Web.UI.PointCollection.prototype={toString:function(){return"PointCollection with "+this.get_length()+" points"},addPoint:function(a){this.avx(a)},addPoints:function(a){this.awt(a)},forEach:function(a,b){this.mf(a,b)},getPoint:function(a){return this.Ap(a)},setPoint:function(a,b){this.amq(a,b)},get_length:function(){return this.fj()},removePoint:function(a){this.aBj(a)},removeAllPoints:function(){this.aCK()},moveAllPoints:function(a,b){this.ake(a,b)},add_pointAdded:function(a){this.awn(a)},remove_pointAdded:function(a){this.azV(a)},
add_pointChanged:function(a){this.aws(a)},remove_pointChanged:function(a){this.aAz(a)},add_pointRemoved:function(a){this.avR(a)},remove_pointRemoved:function(a){this.azE(a)}};IPCC.Web.UI.PointCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PointCollection.registerClass("IPCC.Web.UI.PointCollection");IPCC.Web.UI.PageViewState=function(){return this};
IPCC.Web.UI.PageViewState.prototype={documentIdentifier:"",encodedDocumentIdentifier:"",pageNumber:0,viewFitType:IPCC.Web.UI.FitType.FullImage,viewRectangle:new IPCC.Web.UI.Rectangle(0,0,0,0),viewRotationDegreesClockwise:0,viewMirror:!1,viewZoomFactor:void 0,encryption:!1};IPCC.Web.UI.PageViewState.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PageViewState.registerClass("IPCC.Web.UI.PageViewState");IPCC.Web.UI.ThumbnailViewState=function(){return this};
IPCC.Web.UI.ThumbnailViewState.prototype={documentIdentifier:"",encodedDocumentIdentifier:"",pageNumber:0,selected:!1};IPCC.Web.UI.ThumbnailViewState.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ThumbnailViewState.registerClass("IPCC.Web.UI.ThumbnailViewState");IPCC.Web.UI.LogItemEventArgs=function(){return this};IPCC.Web.UI.LogItemEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.LogItemEventArgs.prototype={};IPCC.Web.UI.LogItemEventArgs.registerClass("IPCC.Web.UI.LogItemEventArgs");
IPCC.Web.UI.LogItem=IPCC.Web.UI.LogItemEventArgs;IPCC.Web.UI.MouseEventArgs=function(){var a=!1;this.aya=function(){a=!0};this.ahd=function(){return a};return this};IPCC.Web.UI.MouseEventArgs.prototype={preventDefault:function(){this.aya()}};IPCC.Web.UI.MouseEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MouseEventArgs.registerClass("IPCC.Web.UI.MouseEventArgs");IPCC.Web.UI.MouseEvent=IPCC.Web.UI.MouseEventArgs;IPCC.Web.UI.PointEventArgs=function(){return this};
IPCC.Web.UI.PointEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PointEventArgs.prototype={};IPCC.Web.UI.PointEventArgs.registerClass("IPCC.Web.UI.PointEventArgs");IPCC.Web.UI.CommentEventArgs=function(){return this};IPCC.Web.UI.CommentEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.CommentEventArgs.prototype={};IPCC.Web.UI.CommentEventArgs.registerClass("IPCC.Web.UI.CommentEventArgs");IPCC.Web.UI.ImGearPageOpenFailedEventArgs=function(){return this};
IPCC.Web.UI.ImGearPageOpenFailedEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageOpenFailedEventArgs.prototype={};IPCC.Web.UI.ImGearPageOpenFailedEventArgs.registerClass("IPCC.Web.UI.ImGearPageOpenFailedEventArgs");IPCC.Web.UI.TextSelectedEventArgs=function(){return this};IPCC.Web.UI.TextSelectedEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.TextSelectedEventArgs.prototype={};IPCC.Web.UI.TextSelectedEventArgs.registerClass("IPCC.Web.UI.TextSelectedEventArgs");
IPCC.Web.UI.PageView=function(a,b){function d(a){return l?l.jy(a):!1}function c(a,b){t.addHandler(a,b)}function e(a,b){t.removeHandler(a,b)}function f(){var a,b,c;""!==E&&(c=document.getElementById(E))&&(a=u.wF(),b='{encodedDocumentIdentifier:"'+a.encodedDocumentIdentifier,b+='",pageNumber:'+a.pageNumber.toString(),b+=",viewFitType:"+a.viewFitType.toString(),a.viewRectangle&&a.viewFitType===IPCC.Web.UI.FitType.Rectangle&&(b+=",viewRectangle:{x:"+a.viewRectangle.x.toFixed(5),b+=",y:"+a.viewRectangle.y.toFixed(5),
b+=",width:"+a.viewRectangle.width.toFixed(5),b+=",height:"+a.viewRectangle.height.toFixed(5),b+="}"),a.viewRotationDegreesClockwise&&(b+=",viewRotationDegreesClockwise:"+a.viewRotationDegreesClockwise.toString()),a.viewMirror&&(b+=",viewMirror:"+a.viewMirror.toString()),a.viewZoomFactor&&(b+=",viewZoomFactor:"+a.viewZoomFactor.toString()),w&&(a=l.eA())&&(b+=',artPageJson:"'+IPCC.gE.sH(a.saveToJson())+'"'),c.value=b+"}")}function g(){var a={},b=l.bV().hj();a.documentIdentifier=u.vH();a.encodedDocumentIdentifier=
u.zO();a.pageNumber=u.mc();a.artPage=u.eA();a.referenceDocumentIdentifier=u.vH();a.referencePageNumber=u.mc();a.viewFitType=IPCC.Web.UI.FitType.Rectangle;a.viewRectangle=u.afB();a.imGearPage=u.mx();a.transientArtPage=u.kP();var c=b.BA();0!==c&&(a.viewRotationDegreesClockwise=c);b.Kf()&&(a.viewMirror=!0);return a}function k(){var a;a=u.fQ();var b=a.clientWidth;a=a.clientHeight;if(y&&y.viewFitType===H&&b===B&&a===x){if(2<p)return;p++}else H=y?y.viewFitType:-1,B=b,x=a,p=0;ga()}function m(){y=null}function q(a,
b){switch(b.fn){case IPCC.eJ.aci:u.adB(1.25,b.TI.windowPoint);break;case IPCC.eJ.aaT:u.abN(1.25,b.TI.windowPoint);break;case IPCC.eJ.VS:u.xY(b.h);break;case IPCC.eJ.aiR:u.ajd();break;case IPCC.eJ.ajZ:u.akZ();break;case IPCC.eJ.aaz:u.Vo(b.h);break;case IPCC.eJ.adD:u.LB(b.h)}}function n(a,b){a=b.scaleFactor;b={scaleType:"scaledDown",pageNumber:b.pageNumber};L!==a&&(a>L&&(b.scaleType="scaledUp"),L=a,M("scaleChanged",b))}var u=this,r,l,C=0,E="",w=!1,t=new IPCC.Web.UI.gR,y=null,D=IPCC.ub,J=IPCC.ub,L=0,
F=!1,p=0,H=-1,B=-1,x=-1;this.K=function(a,b){d(IPCC.Web.UI.DebugErrorLevel.Production)&&l.K(a,b)};this.aO=function(a,b,c){if(d(IPCC.Web.UI.DebugErrorLevel.Development)){a+="(";var f;for(f=0;f<b.length;f++)0<f&&(a+=", "),a+=IPCC.fF.hT(b[f],c?c:0);this.mu(a+")",IPCC.Web.UI.DebugErrorLevel.Development)}};this.vD=function(a,b,c,f){if(d(IPCC.Web.UI.DebugErrorLevel.Development)){a+="(";var e;for(e=0;e<b.length;e++)0<e&&(a+=", "),a+=IPCC.fF.hT(b[e],f?f:0);a=a+") = "+IPCC.fF.hT(c,1);this.mu(a,IPCC.Web.UI.DebugErrorLevel.Development)}};
this.bh=function(a,b,c){if(d(IPCC.Web.UI.DebugErrorLevel.Detailed)){a+="(";var f;for(f=0;f<b.length;f++)0<f&&(a+=", "),a+=IPCC.fF.hT(b[f],0);a=a+") = "+IPCC.fF.hT(c,1);this.mu(a,IPCC.Web.UI.DebugErrorLevel.Detailed)}};this.mu=function(a,b){l&&l.iB(a,IPCC.Web.UI.DebugItemCause.FunctionCall,b)};this.iB=function(a){l&&l.iB(a,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production)};this.sz=function(){return l.get_debug()};this.Bf=function(a){l.set_debug(a)};this.ox=function(){return l.ox()};
this.uM=function(a){IPCC.aJ.kK(a,"value",IPCC.Web.UI.DebugErrorLevel);l.uM(a)};this.aDp=function(a){F=a};this.aFi=function(){return F};var K=function(){if(void 0===l.cQ())throw new IPCC.Web.UI.ImGearInvalidOperationException("You cannot perform this operation unless an image is open (and it has completed the opening process).");};this.Iv=function(a,b){l.axV(a,b)};this.axH=function(a,b){l.AV(b);l.dR()};this.Kv=function(a){c("pageOpening",a)};this.JN=function(a){e("pageOpening",a)};this.GQ=function(a){c("pageOpened",
a)};this.Kq=function(a){e("pageOpened",a)};this.Zi=function(a){c("pageClosed",a)};this.aaR=function(a){e("pageClosed",a)};this.zc=function(a){c("pageOpenFailed",a)};this.AY=function(a){e("pageOpenFailed",a)};this.HM=function(a){c("pageDisplayed",a)};this.LG=function(a){e("pageDisplayed",a)};this.Bz=function(a){c("mouseDown",a)};this.DV=function(a){e("mouseDown",a)};this.Bm=function(a){c("mouseMove",a)};this.Ed=function(a){e("mouseMove",a)};this.CE=function(a){c("mouseUp",a)};this.Ef=function(a){e("mouseUp",
a)};this.aaI=function(a){c("contextMenu",a)};this.aaK=function(a){e("contextMenu",a)};this.zo=function(a){c("markAdded",a)};this.xQ=function(a){e("markAdded",a)};this.aau=function(a){c("markCreating",a)};this.aaM=function(a){e("markCreating",a)};this.FB=function(a){c("markChanged",a)};this.DI=function(a){e("markChanged",a)};this.Al=function(a){c("markRemoved",a)};this.xA=function(a){e("markRemoved",a)};this.Gq=function(a){c("markReordered",a)};this.DQ=function(a){e("markReordered",a)};this.Mp=function(a){c("marksLoaded",
a)};this.Qa=function(a){e("marksLoaded",a)};this.Gt=function(a){c("markSelectionChanged",a)};this.Dj=function(a){e("markSelectionChanged",a)};this.wn=function(a){c("textPageReady",a)};this.xH=function(a){e("textPageReady",a)};this.Ze=function(a){c("selectTextMouseToolCompleted",a)};this.WM=function(a){e("selectTextMouseToolCompleted",a)};this.aaB=function(a){c("exceptionThrown",a)};this.ZM=function(a){c("scaleChanged",a)};this.aam=function(a){e("scaleChanged",a)};this.abm=function(a){e("exceptionThrown",
a)};this.zS=function(a){c("textExtractionFailed",a)};this.En=function(a){e("textExtractionFailed",a)};this.ix=function(a){c("propertyChanged",a)};this.mP=function(a){e("propertyChanged",a)};var M=function(a,b){try{var c;(c=t.getHandler(a))&&c(u,b)}catch(d){u.K(a+"Event",d)}},Z=function(a){l["add_"+a](function(b,c){M(a,c)})},A=function(a){l["add_"+a](function(b,c){w&&l.GD()&&f();M(a,c)})},Da=function(){l.ix(function(a,b){a=!0;switch(b.get_propertyName()){case "documentIdentifier":case "pageNumber":case "artPage":case "includeArtInPostBack":case "displayedPageRectangle":f();
break;case "magnifierWindowPosition":case "magnifierIsVisible":case "cursor":case "markCursor":case "inProgressMark":case "EK":case "vT":a=!1;break;case "CB":l.GD()&&f(),a=!1}a&&M("propertyChanged",b)})};this.Vo=function(a){IPCC.aJ.kK(a,"type",IPCC.Web.UI.FitType);if(a===IPCC.Web.UI.FitType.Rectangle)throw new IPCC.Web.UI.ImGearArgumentException("type","The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).");K();y={aAF:!0,viewFitType:a};ga()};this.gv=function(){return void 0!==
l.cQ()};this.mw=function(){K();return l.cQ().width};this.mr=function(){K();return l.cQ().height};this.asS=function(){K();return l.cQ().he};this.asZ=function(){return l.bV().hj().BA()};this.atb=function(){K();return l.cQ().hc};this.vH=function(){return l&&l.cQ()?l.cQ().get_identifier():""};this.zO=function(){return l&&l.cQ()?l.cQ().get_encodedIdentifier():""};this.mc=function(){return l&&l.cQ()?l.cQ().ba:-1};this.Vg=function(){return l&&l.cQ()?l.cQ().ef:0};this.afB=function(){var a=l.cQ();if(!a)return new IPCC.Web.UI.Rectangle(0,
0,0,0);var b=l.dS();b.x=b.y=0;var c=l.bV().hj();c.AC();b=c.tq(b);0>b.x&&(b.width+=b.x,b.x=0);0>b.y&&(b.height+=b.y,b.y=0);b.x+b.width>a.width&&(b.width=a.width-b.x);b.y+b.height>a.height&&(b.height=a.height-b.y);return b};this.Pv=function(a,b){l.Pv(a,b)};this.wF=function(){var a;r?(a=new IPCC.Web.UI.PageViewState,a.documentIdentifier=r.documentIdentifier,a.encodedDocumentIdentifier=r.encodedDocumentIdentifier,a.pageNumber=r.pageNumber,a.artPage=r.artPage,a.artPageJson=r.artPageJson,a.referenceDocumentIdentifier=
r.documentIdentifier,a.referencePageNumber=r.pageNumber,a.viewFitType=r.viewFitType,a.viewRectangle=r.viewRectangle,a.viewRotationDegreesClockwise=r.viewRotationDegreesClockwise,a.viewMirror=r.viewMirror,a.viewZoomFactor=r.viewZoomFactor,a.transientArtPage=r.transientArtPage):a=g();return a};this.LM=function(a){var b=l.dS();this.adB(a,{x:b.width/2,y:b.height/2})};this.adB=function(a,b){IPCC.aJ.lJ(a,"factor",1.01,20);IPCC.aJ.aq(b,"point");K();var c=l.bV(),d=c.hj(),f=l.cQ(),e=d.vg();e*a>f.sI&&(a=f.sI/
e);d.yS(a,a,b.x,b.y);d.lq(f,l.dS());y=null;c.hK(d)};this.Xo=function(a){var b=l.dS();this.abN(a,{x:b.width/2,y:b.height/2})};this.abN=function(a,b){IPCC.aJ.lJ(a,"factor",1.01,20);IPCC.aJ.aq(b,"point");K();var c=l.bV(),d=c.hj(),f=l.cQ(),e=d.vg();e/a<f.tJ&&(a=e/f.tJ);d.yS(1/a,1/a,b.x,b.y);d.lq(f,l.dS());y=null;c.hK(d)};this.lg=function(a){var b=l.dS();this.aqQ(a,{x:b.width/2,y:b.height/2})};this.aqQ=function(a,b){IPCC.aJ.aq(b,"point");K();var c=l.bV(),d=c.hj(),f=l.cQ(),e=d.vg();a>f.sI?a=f.sI:a<f.tJ&&
(a=f.tJ);d.yS(a/e,a/e,b.x,b.y);d.lq(f,l.dS());y=null;c.hK(d)};this.xY=function(a){IPCC.aJ.US(a,"degreesClockwise",[90,180,270,-90,-180,-270]);K();var b=l.bV(),c=b.hj(),d=l.dS();c.aby(a,d.width/2,d.height/2);c.lq(l.cQ(),l.dS());y=null;b.hK(c)};this.akZ=function(){K();var a=l.bV(),b=a.hj(),c=l.dS();b.yS(-1,1,c.width/2,c.height/2);b.lq(l.cQ(),l.dS());y=null;a.hK(b)};this.anN=function(a){IPCC.aJ.C(a,"pageRectangle");K();var b=l.bV(),c=b.hj(),d=l.dS(),f=l.cQ();c.QF(f,d,a);c.lq(f,l.dS());y=null;b.hK(c)};
this.aqz=function(a){IPCC.aJ.aq(a,"imagePoint");K();var b=l.bV(),c=b.hj(),d=l.dS();c.afh(d,a);c.lq(l.cQ(),l.dS());y=null;b.hK(c)};this.ajd=function(){K();y=null;var a=l.bV(),b=a.hj(),c=l.dS();b.yS(1,-1,c.width/2,c.height/2);b.lq(l.cQ(),l.dS());y=null;a.hK(b)};this.dR=function(){l.dR()};var ga=function(){var a=l.cQ(),b=l.dS(),c;y?(y.aAF?c=l.bV().hj():(c=new IPCC.eu,c.adq(a,b),y.viewRotationDegreesClockwise&&c.rotate(y.viewRotationDegreesClockwise),y.viewMirror&&c.alH(b)),y.viewZoomFactor?(y.viewZoomFactor>
a.sI?y.viewZoomFactor=a.sI:y.viewZoomFactor<a.tJ&&(y.viewZoomFactor=a.tJ),y.viewFitType=IPCC.Web.UI.FitType.ActualSize,c.XP(y.viewFitType,a,b),c.scale(y.viewZoomFactor,y.viewZoomFactor)):(y.viewFitType||0===y.viewFitType||(y.viewFitType=IPCC.Web.UI.FitType.FullImage),y.viewFitType!==IPCC.Web.UI.FitType.Rectangle||y.viewRectangle||(y.viewFitType=IPCC.Web.UI.FitType.FullImage),y.viewFitType!==IPCC.Web.UI.FitType.Rectangle?c.XP(y.viewFitType,a,b):c.QF(a,b,y.viewRectangle))):c=l.bV().hj();c.lq(a,b);l.bV().hK(c)};
this.WS=function(a){if(0<IPCC.Web.mI.length)if(Array.prototype.indexOf){if(0<=IPCC.Web.mI.indexOf(a))return!0}else if(0<=IPCC.Web.hk(IPCC.Web.mI,a))return!0;return!1};this.Et=function(a){C++;var b=C,c={};L=0;l.MU=0;IPCC.gE.Ss(a);d(IPCC.Web.UI.DebugErrorLevel.Development)&&this.mu('opening documentIdentifier "'+a.documentIdentifier+'", pageNumber '+a.pageNumber,IPCC.Web.UI.DebugErrorLevel.Development);r=new IPCC.Web.UI.PageViewState;for(var e in a)a.hasOwnProperty(e)&&(r[e]=a[e]);if(""===a.documentIdentifier)this.yX();
else{IPCC.Web.UI.ArtPage&&r&&(r.artPage||(e=new IPCC.Web.UI.ArtPage,r.artPageJson&&e.loadFromJson(r.artPageJson),r.artPage=e),r.documentArtPage||(e=new IPCC.Web.UI.ArtPage,r.documentArtPage=e),!0===this.jv()&&(r.imGearPage||(e=new IPCC.Web.UI.ImGearDocument({documentIdentifier:a.documentIdentifier,imageServicePath:this.lK()}),r.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:a.pageNumber,bP:e}),e.get_pages().addPage(r.imGearPage)),r.transientArtPage||(r.transientArtPage=new IPCC.Web.UI.ArtPage)));
r.viewRotationDegreesClockwise&&IPCC.aJ.US(r.viewRotationDegreesClockwise,"parameters.viewRotationDegreesClockwise",[0,90,180,270,-90,-180,-270]);r.viewFitType&&IPCC.aJ.kK(r.viewFitType,"parameters.viewFitType",IPCC.Web.UI.FitType);r.viewZoomFactor&&IPCC.aJ.lJ(r.viewZoomFactor,"parameters.viewZoomFactor",0,20);M("pageOpening",a);var m=new IPCC.gE(a.encodedDocumentIdentifier,a.pageNumber,0,0,0,0);e=function(){if(b===C){var c=null;l.cQ()&&(c=g());l.bV().qw();l.vW(m);y=r;p=0;ga();if(a.artServiceOption===
IPCC.Web.UI.ImGearArtDataServices.ArtDataService)r&&r.artPage&&(l.km(r.artPage),l.eA().loadFromJson(m.afc));else if(r&&(r.artPage&&l.km(r.artPage),r.documentArtPage&&l.Kb(r.documentArtPage),!0===l.jv())){if(r.imGearPage){var d=r.imGearPage.get_pageWidth(),e=r.imGearPage.get_pageHeight();r.imGearPage.jF(u.ej());d||r.imGearPage.JH(u.get_pageWidth());e||r.imGearPage.GU(u.get_pageHeight());l.uV(r.imGearPage);typeof("function"===l.mx().Bi)&&!l.mx().cA().za()&&(r.imGearPage.sg(u.iR()),setTimeout(l.mx().Bi,
1E3))}r.transientArtPage&&l.ut(r.transientArtPage)}r=null;c&&M("pageClosed",c);f();M("pageOpened",a)}};a.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService?r&&(r.artPageJson?m.IW(l.lK(),l,e):m.axf(l.lK(),l,e,c)):m.IW(l.lK(),l,e)}};this.yX=function(){C++;if(l.cQ()){var a=g();l.vW(void 0);l.km(void 0);l.uV(void 0);l.ut(void 0);this.dR();f();var b;b=u.fQ();b.igElements&&(b.igElements.sa&&(b.igElements.sa.HE=null,b.igElements.sa.Gk=null,b.igElements.sa.IG=null,b.igElements.sa=null),b.igElements.FI=
null,b.igElements.jr=null,b.igElements.gV=null,b.igElements.oi=null,b.igElements.ny=null,b.igElements.mK=null,b.igElements.sL=null,b.igElements.OS=null,b.igElements.XD=null);u=null;b.ak=null;M("pageClosed",a)}};this.ayn=function(a){C++;var b=C;L=0;l.MU=0;IPCC.gE.Ss(a);d(IPCC.Web.UI.DebugErrorLevel.Development)&&this.mu('opening documentIdentifier "'+a.documentIdentifier+'", pageNumber '+a.pageNumber,IPCC.Web.UI.DebugErrorLevel.Development);r=new IPCC.Web.UI.PageViewState;for(var c in a)a.hasOwnProperty(c)&&
(r[c]=a[c]);if(""===a.documentIdentifier)this.yX();else{IPCC.Web.UI.ArtPage&&r&&(r.artPage||(c=new IPCC.Web.UI.ArtPage,r.artPage=c),r.documentArtPage||(c=new IPCC.Web.UI.ArtPage,r.documentArtPage=c),!0===this.jv()&&(r.imGearPage||(c=new IPCC.Web.UI.ImGearDocument({documentIdentifier:a.documentIdentifier,imageServicePath:this.lK()}),r.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:a.pageNumber,bP:c}),c.get_pages().addPage(r.imGearPage)),r.transientArtPage||(r.transientArtPage=new IPCC.Web.UI.ArtPage)));
r.viewRotationDegreesClockwise&&IPCC.aJ.US(r.viewRotationDegreesClockwise,"parameters.viewRotationDegreesClockwise",[0,90,180,270,-90,-180,-270]);r.viewFitType&&IPCC.aJ.kK(r.viewFitType,"parameters.viewFitType",IPCC.Web.UI.FitType);r.viewZoomFactor&&IPCC.aJ.lJ(r.viewZoomFactor,"parameters.viewZoomFactor",0,20);M("pageOpening",a);var e=new IPCC.gE(a.encodedDocumentIdentifier,a.pageNumber,0,0,0,0);e.axz(l.lK(),l,function(){if(b===C){var c=null;l.cQ()&&(c=g());l.bV().qw();l.vW(e);y=r;p=0;ga();if(r&&
(r.artPage&&l.km(r.artPage),r.documentArtPage&&l.Kb(r.documentArtPage),!0===l.jv())){if(r.imGearPage){var d=r.imGearPage.get_pageWidth(),m=r.imGearPage.get_pageHeight();r.imGearPage.jF(u.ej());d||r.imGearPage.JH(u.get_pageWidth());m||r.imGearPage.GU(u.get_pageHeight());l.uV(r.imGearPage);typeof("function"===l.mx().Bi)&&!l.mx().cA().za()&&(r.imGearPage.sg(u.iR()),setTimeout(l.mx().Bi,1E3))}r.transientArtPage&&l.ut(r.transientArtPage)}r=null;c&&M("pageClosed",c);f();M("pageOpened",a)}})}};this.avA=
function(){C++;if(l.cQ()){var a=l.cQ();l.vW(void 0);this.dR();l.vW(a)}};this.FK=function(a){l.FK(a)};this.km=function(a){l.km(a)};this.eA=function(){return l.eA()};this.Kb=function(a){l.Kb(a)};this.Nr=function(){return l.Nr()};this.kP=function(){return l.kP()};this.ut=function(a){l.ut(a)};this.yQ=function(){return l.yQ()};this.VR=function(a){l.VR(a)};this.tZ=function(a){l.tZ(a)};this.nY=function(){return l.nY()};this.aAP=function(a){J=this.anR(a)};this.jo=function(){return J};this.Pm=function(a){l.Pm(a)};
this.KV=function(){return l.KV()};this.mt=function(){return l.mt()};this.qi=function(a){l.qi(a)};this.xC=function(a){l.xC(a)};this.Jy=function(){return l.Jy()};this.xs=function(a){l.xs(a)};this.yi=function(){return l.yi()};this.anR=function(a){var b="",c="",d=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&(b+=1);return b};for(b in D)if(D.hasOwnProperty(b)&&("undefined"===typeof a[b]&&(a[b]=D[b]),"object"===typeof a[b]))if(!d(a[b]))a[b]=D[b];else if(d(a[b])!==d(D[b]))for(c in D[b])"undefined"===
typeof a[b][c]&&(a[b][c]=D[b][c]);return a};this.apE=function(a){!1===a?(IPCC.iE=!1,l.ee([new IPCC.nz,new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)])):(IPCC.iE=!0,IPCC.amw=this.jo(),l.ee([new IPCC.nz,new IPCC.fN,new IPCC.gQ,new IPCC.dP,new IPCC.cF(!1)]))};this.qw=function(){l.bV().AT()&&l.bV().qw()};this.api=function(a){IPCC.aJ.C(a,"pageRectangle");l.cQ()&&l.bV().showSelection(a)};this.Eq=function(a){IPCC.aJ.aq(a,"imagePoint");l.cQ()&&l.bV().Eq(new IPCC.Web.UI.Point(a.x,a.y))};this.AW=function(a){IPCC.aJ.aq(a,
"imagePoint");l.cQ()&&l.bV().AW(new IPCC.Web.UI.Point(a.x,a.y))};this.xm=function(){return l.cQ()&&l.bV().AT()?l.bV().xm():new IPCC.Web.UI.Rectangle(0,0,0,0)};this.ati=function(){if(l.cQ()&&l.bV().AT()){var a=l.bV().xm();return l.bV().hj().tq(a)}return new IPCC.Web.UI.Rectangle(0,0,0,0)};this.AT=function(){return!(!l.cQ()||!l.bV().AT())};this.lK=function(){return l.lK()};this.EW=function(a){IPCC.aJ.jf(a,"value");l.EW(a);IPCC.Web.rF||!1===IPCC.Web.xa&&IPCC.Web.Qq(a)};this.Kp=function(){return E};this.Ix=
function(a){IPCC.aJ.jf(a,"value");E=a};this.Vz=function(){return w};this.XA=function(a){w=a};var T="";this.pQ=function(a){l.pQ(a);T=a};this.fQ=function(){return T};this.auH=function(){return l.bV().get_magnifierMagnification()};this.aon=function(a){IPCC.aJ.lJ(a,"value",1.5,8);l.bV().set_magnifierMagnification(a)};this.avb=function(){return l.bV().vJ().width};this.apc=function(a){IPCC.aJ.lJ(a,"value",25,500);var b=l.bV().vJ();b.width=a;l.bV().set_magnifierWindowSize(b)};this.auc=function(){return l.bV().vJ().height};
this.anz=function(a){IPCC.aJ.lJ(a,"value",25,500);var b=l.bV().vJ();b.height=a;l.bV().set_magnifierWindowSize(b)};this.Mj=function(){return l.bV().Mj()};this.Wn=function(a){IPCC.aJ.lJ(a,"value",-500,500);l.bV().Wn(a)};this.Ns=function(){return l.bV().Ns()};this.Wf=function(a){IPCC.aJ.lJ(a,"value",-500,500);l.bV().Wf(a)};this.VQ=function(){return l.bV().VQ()};this.Wq=function(a){IPCC.aJ.lJ(a,"value",.1,.5);l.bV().Wq(a)};this.AX=function(){return l.bV().AX()};this.LL=function(a){l.bV().LL(a)};this.raisePropertyChanged=
function(a,b){l&&l.bm(a,b)};var W=-1;this.Vh=function(){return W};this.aDe=function(a){l.uz=a};this.LB=function(a){IPCC.aJ.kK(a,"value",IPCC.Web.UI.MouseTool);if(W!==a){W=a;a="None";switch(W){case IPCC.Web.UI.MouseTool.None:l.ee([]);break;case IPCC.Web.UI.MouseTool.Magnifier:!0===IPCC.iE?l.ee([new IPCC.us,new IPCC.fN,new IPCC.gQ(!1,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):(l.ee([new IPCC.us,new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]),a="Magnifier");break;case IPCC.Web.UI.MouseTool.RectangleZoom:!0===
IPCC.iE?l.ee([new IPCC.nz,new IPCC.fN,new IPCC.gQ(!1,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.nz,new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:!0===IPCC.iE?l.ee([new IPCC.sq,new IPCC.fN,new IPCC.gQ(!1,this.jo()),new IPCC.dP,new IPCC.cF(!0)]):l.ee([new IPCC.sq,new IPCC.fN,new IPCC.dP,new IPCC.cF(!0)]);a="HandPan";break;case IPCC.Web.UI.MouseTool.Select:!0===IPCC.iE?l.ee([new IPCC.rY,new IPCC.fN,new IPCC.gQ(!1,this.jo()),new IPCC.dP,
new IPCC.cF(!1)]):l.ee([new IPCC.rY,new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:!0===IPCC.iE?l.ee([new IPCC.eL(IPCC.Web.UI.MarkType.Rectangle),new IPCC.fN,new IPCC.gQ(!0,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.eL(IPCC.Web.UI.MarkType.Rectangle),new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:!0===IPCC.iE?l.ee([new IPCC.eL(IPCC.Web.UI.MarkType.RectangleRedaction),
new IPCC.fN,new IPCC.gQ(!0,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.eL(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:!0===IPCC.iE?l.ee([new IPCC.eL(IPCC.Web.UI.MarkType.Ellipse),new IPCC.fN,new IPCC.gQ(!0,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.eL(IPCC.Web.UI.MarkType.Ellipse),new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:!0===
IPCC.iE?l.ee([new IPCC.pJ,new IPCC.fN,new IPCC.gQ(!0,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.pJ,new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:!0===IPCC.iE?l.ee([new IPCC.oy(IPCC.Web.UI.MarkType.Polyline),new IPCC.fN,new IPCC.gQ(!0,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.oy(IPCC.Web.UI.MarkType.Polyline),new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:!0===
IPCC.iE?l.ee([new IPCC.qZ,new IPCC.fN,new IPCC.gQ(!0,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.qZ,new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:!0===IPCC.iE?l.ee([new IPCC.oy(IPCC.Web.UI.MarkType.Polygon),new IPCC.fN,new IPCC.gQ(!0,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.oy(IPCC.Web.UI.MarkType.Polygon),new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:!0===
IPCC.iE?l.ee([new IPCC.eL(IPCC.Web.UI.MarkType.Text),new IPCC.fN,new IPCC.gQ(!0,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.eL(IPCC.Web.UI.MarkType.Text),new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:!0===IPCC.iE?l.ee([new IPCC.eL(IPCC.Web.UI.MarkType.TextLine),new IPCC.fN,new IPCC.gQ(!0,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.eL(IPCC.Web.UI.MarkType.TextLine),new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);
a="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:!0===IPCC.iE?l.ee([new IPCC.oY(IPCC.Web.UI.MarkType.Text),new IPCC.fN,new IPCC.gQ(!0,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.oY(IPCC.Web.UI.MarkType.Text),new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:!0===IPCC.iE?l.ee([new IPCC.IK(IPCC.Web.UI.MarkType.Text),new IPCC.fN,new IPCC.gQ(!1,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.IK(IPCC.Web.UI.MarkType.Text),
new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:!0===IPCC.iE?l.ee([new IPCC.eL(IPCC.Web.UI.MarkType.Stamp),new IPCC.fN,new IPCC.gQ(!0,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.eL(IPCC.Web.UI.MarkType.Stamp),new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:!0===IPCC.iE?l.ee([new IPCC.eL(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.fN,new IPCC.gQ(!0,
this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.eL(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:!0===IPCC.iE?l.ee([new IPCC.eL(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.fN,new IPCC.gQ(!0,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.eL(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="CreateImageStampRedactionMark";
break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:l.IA=!0;!0===IPCC.iE?l.ee([new IPCC.nr,new IPCC.fN,new IPCC.gQ(!1,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.nr,new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:l.IA=!1;!0===IPCC.iE?l.ee([new IPCC.nr,new IPCC.fN,new IPCC.gQ(!1,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.nr,new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]);a="SelectText";break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:!0===
IPCC.iE?l.ee([new IPCC.nr,new IPCC.fN,new IPCC.gQ(!0,this.jo()),new IPCC.dP,new IPCC.cF(!1)]):l.ee([new IPCC.nr,new IPCC.fN,new IPCC.dP,new IPCC.cF(!1)]),a="CreateStrikethroughMark"}this.raisePropertyChanged("mouseTool",{mouseToolType:a})}};this.JM=function(a){W=-1;l.ee(a)};this.asv=function(){return l.bV().get_presentationQuality()};this.aqr=function(a){IPCC.aJ.lJ(a,"value",0,100);l.bV().set_presentationQuality(a)};this.asi=function(){return l.bV().get_scrollBars()};this.aoW=function(a){IPCC.aJ.kK(a,
"value",IPCC.Web.UI.ScrollBars);l.bV().set_scrollBars(a)};this.aoE=function(a,b){IPCC.aJ.aq(a,"imagePoint");if(!l.cQ())return new IPCC.Web.UI.Point(0,0);a=l.bV().hj().transform(a);b&&a.constrain(l.dS());return a};this.Mr=function(a,b){IPCC.aJ.aq(a,"windowPoint");var c=l.cQ();if(!c)return new IPCC.Web.UI.Point(0,0);var d=l.bV().hj();d.AC();a=d.transform(a);b&&a.constrain(c);return a};this.jv=function(){return l.jv()};this.xE=function(a){l.xE(a)};this.cA=function(){return l.cA()};this.mx=function(){return l.mx()};
this.uV=function(a){l.uV(a)};this.oe=function(){return l.get_requireRequestsOptimize()};this.rM=function(a){l.rM(a)};this.iR=function(){return l.iR()};this.sg=function(a){l.sg(a)};this.Kr=function(a){IPCC.aJ.aq(a,"imagePoint");return l.Kr(a)};this.ze=function(a){l.ze(a)};this.Xh=function(){l.Xh()};this.Np=function(a,b){var c=l.cA().eO().fj();IPCC.aJ.ps(a,"vX",0,c-1);l.Np(a,b)};this.wu=function(a){if(void 0===a)return l.bV().wu(a),!1;var b=l.cA().eO().fj();IPCC.aJ.ps(a,"textIndex",0,b-1);l.wu(a);return!0};
this.Lb=function(){return!!(l.cQ()&&l.jv()&&!0===l.cA().mF()&&l.bV().Lb())};this.aaH=function(){l.bV().aaH()};this.Rn=function(){if(l.jv()&&!0===l.cA().mF())return Math.min(l.bV().aeE(),l.bV().ES())};this.DA=function(){if(l.jv()&&!0===l.cA().mF())return l.bV().DA()};this.EF=function(){return l.jv()&&!0===l.cA().mF()&&l.bV().Lb()?l.EF():""};this.ES=function(){return l.bV().ES()};this.avg=function(){return l.bV().get_cursor()};this.aAN=function(a){l.bV().set_cursor(a)};this.Bh=function(){return l.Bh()};
this.XM=function(a){l.XM(a)};this.ej=function(){return l.ej()};this.jF=function(a){l.jF(a)};this.aCW=function(){l.bV().hideMagnifier()};this.aqP=function(a){l.bV().showMagnifier(a)};this.AV=function(a){l.kw().igElements&&(l.AV(a),l.dR())};this.pM=function(){l.kw().igElements&&l.pM(!0)};this.initialize=function(){l.acS(this.fQ().id);l.pQ(this.fQ().id);-1===W&&this.LB(IPCC.Web.UI.MouseTool.RectangleZoom);Z("mouseDown");Z("mouseMove");Z("mouseUp");Z("contextMenu");Z("markCreating");Z("pageOpenFailed");
Z("textPageReady");Z("pageDisplayed");Z("exceptionThrown");Z("selectTextMouseToolCompleted");A("markAdded");A("markChanged");A("markRemoved");Z("textExtractionFailed");A("markReordered");A("marksLoaded");Z("markSelectionChanged");Da();l.anw(k);l.awC(m);l.awR(q);l.add_scaleChanged(n);l.adT();this.fQ().ak=this};l=new IPCC.akz(!1!==b);l.acI("PageView")};
IPCC.Web.UI.PageView.prototype={dispose:function(){this.aO("dispose",arguments);this.yX()},get_debug:function(){try{var a=this.sz();this.bh("get_debug",arguments,a);return a}catch(b){throw this.K("get_debug",b),b;}},set_debug:function(a){try{this.aO("set_debug",arguments);var b=this.sz();this.Bf(a);b||this.aO("set_debug",arguments)}catch(d){throw this.K("set_debug",d),d;}},get_debugErrorLevel:function(){try{var a=this.ox();this.bh("get_debugErrorLevel",arguments,a);return a}catch(b){throw this.K("get_debugErrorLevel",
b),b;}},set_debugErrorLevel:function(a){try{this.aO("set_debugErrorLevel",arguments);var b=this.ox();this.uM(a);b<IPCC.Web.UI.DebugErrorLevel.Development&&this.aO("set_debugErrorLevel",arguments)}catch(d){throw this.K("set_debugErrorLevel",d),d;}},get_artServiceOption:function(){try{var a=this.yi();this.bh("get_artServiceOption",arguments,a);return a}catch(b){throw this.K("get_artServiceOption",b),b;}},set_artServiceOption:function(a){try{this.aO("set_artServiceOption",arguments),this.xs(a)}catch(b){throw this.K("set_artServiceOption",
b),b;}},add_pageOpening:function(a){try{this.Kv(a)}catch(b){throw this.K("add_pageOpening",b),b;}},remove_pageOpening:function(a){try{this.JN(a)}catch(b){throw this.K("remove_pageOpening",b),b;}},add_pageOpened:function(a){try{this.GQ(a)}catch(b){throw this.K("add_pageOpened",b),b;}},remove_pageOpened:function(a){try{this.Kq(a)}catch(b){throw this.K("remove_pageOpened",b),b;}},add_pageClosed:function(a){try{this.Zi(a)}catch(b){throw this.K("add_pageClosed",b),b;}},remove_pageClosed:function(a){try{this.aaR(a)}catch(b){throw this.K("remove_pageClosed",
b),b;}},add_pageOpenFailed:function(a){try{this.zc(a)}catch(b){throw this.K("add_pageOpenFailed",b),b;}},remove_pageOpenFailed:function(a){try{this.AY(a)}catch(b){throw this.K("remove_pageOpenFailed",b),b;}},add_pageDisplayed:function(a){try{this.HM(a)}catch(b){throw this.K("add_pageDisplayed",b),b;}},remove_pageDisplayed:function(a){try{this.LG(a)}catch(b){throw this.K("remove_pageDisplayed",b),b;}},add_mouseDown:function(a){try{this.Bz(a)}catch(b){throw this.K("add_mouseDown",b),b;}},remove_mouseDown:function(a){try{this.DV(a)}catch(b){throw this.K("remove_mouseDown",
b),b;}},add_mouseMove:function(a){try{this.Bm(a)}catch(b){throw this.K("add_mouseMove",b),b;}},remove_mouseMove:function(a){try{this.Ed(a)}catch(b){throw this.K("remove_mouseMove",b),b;}},add_mouseUp:function(a){try{this.CE(a)}catch(b){throw this.K("add_mouseUp",b),b;}},remove_mouseUp:function(a){try{this.Ef(a)}catch(b){throw this.K("remove_mouseUp",b),b;}},add_contextMenu:function(a){try{this.aaI(a)}catch(b){throw this.K("add_contextMenu",b),b;}},remove_contextMenu:function(a){try{this.aaK(a)}catch(b){throw this.K("remove_contextMenu",
b),b;}},add_markAdded:function(a){try{this.zo(a)}catch(b){throw this.K("add_markAdded",b),b;}},remove_markAdded:function(a){try{this.xQ(a)}catch(b){throw this.K("remove_markAdded",b),b;}},add_markCreating:function(a){try{this.aau(a)}catch(b){throw this.K("add_markCreating",b),b;}},remove_markCreating:function(a){try{this.aaM(a)}catch(b){throw this.K("remove_markCreating",b),b;}},add_markChanged:function(a){try{this.FB(a)}catch(b){throw this.K("add_markChanged",b),b;}},remove_markChanged:function(a){try{this.DI(a)}catch(b){throw this.K("remove_markChanged",
b),b;}},add_markRemoved:function(a){try{this.Al(a)}catch(b){throw this.K("add_markRemoved",b),b;}},remove_markRemoved:function(a){try{this.xA(a)}catch(b){throw this.K("remove_markRemoved",b),b;}},add_markReordered:function(a){try{this.Gq(a)}catch(b){throw this.K("add_markReordered",b),b;}},remove_markReordered:function(a){try{this.DQ(a)}catch(b){throw this.K("remove_markReordered",b),b;}},add_marksLoaded:function(a){try{this.Mp(a)}catch(b){throw this.K("add_marksLoaded",b),b;}},remove_marksLoaded:function(a){try{this.Qa(a)}catch(b){throw this.K("remove_marksLoaded",
b),b;}},add_markSelectionChanged:function(a){try{this.Gt(a)}catch(b){throw this.K("add_markSelectionChanged",b),b;}},remove_markSelectionChanged:function(a){try{this.Dj(a)}catch(b){throw this.K("remove_markSelectionChanged",b),b;}},add_selectTextMouseToolCompleted:function(a){try{this.Ze(a)}catch(b){throw this.K("add_selectTextMouseToolCompleted",b),b;}},remove_selectTextMouseToolCompleted:function(a){try{this.WM(a)}catch(b){throw this.K("remove_selectTextMouseToolCompleted",b),b;}},add_textPageReady:function(a){try{this.wn(a)}catch(b){throw this.K("add_textPageReady",
b),b;}},remove_textPageReady:function(a){try{this.xH(a)}catch(b){throw this.K("remove_textPageReady",b),b;}},add_exceptionThrown:function(a){this.aaB(a)},remove_exceptionThrown:function(a){this.abm(a)},add_scaleChanged:function(a){try{this.ZM(a)}catch(b){throw this.K("add_scaleChanged",b),b;}},remove_scaleChanged:function(a){try{this.aam(a)}catch(b){throw this.K("remove_scaleChanged",b),b;}},add_propertyChanged:function(a){try{this.ix(a)}catch(b){throw this.K("add_propertyChanged",b),b;}},remove_propertyChanged:function(a){try{this.mP(a)}catch(b){throw this.K("remove_propertyChanged",
b),b;}},add_textExtractionFailed:function(a){this.zS(a)},remove_textExtractionFailed:function(a){this.En(a)},writeToLog:function(a){try{this.iB(a)}catch(b){throw this.K("writeToLog",b),b;}},fitPage:function(a){try{this.aO("fitPage",arguments),this.Vo(a)}catch(b){throw this.K("fitPage",b),b;}},get_pageIsOpen:function(){try{var a=this.gv();this.bh("get_pageIsOpen",arguments,a);return a}catch(b){throw this.K("get_pageIsOpen",b),b;}},get_pageWidth:function(){try{var a=this.mw();this.bh("get_pageWidth",
arguments,a);return a}catch(b){throw this.K("get_pageWidth",b),b;}},get_pageHeight:function(){try{var a=this.mr();this.bh("get_pageHeight",arguments,a);return a}catch(b){throw this.K("get_pageHeight",b),b;}},get_pageXResolution:function(){try{var a=this.asS();this.bh("get_pageXResolution",arguments,a);return a}catch(b){throw this.K("get_pageXResolution",b),b;}},get_pageYResolution:function(){try{var a=this.atb();this.bh("get_pageYResolution",arguments,a);return a}catch(b){throw this.K("get_pageYResolution",
b),b;}},get_documentIdentifier:function(){try{var a=this.vH();this.bh("get_documentIdentifier",arguments,a);return a}catch(b){throw this.K("get_documentIdentifier",b),b;}},get_encodedDocumentIdentifier:function(){try{var a=this.zO();this.bh("get_encodedDocumentIdentifier",arguments,a);return a}catch(b){throw this.K("get_encodedDocumentIdentifier",b),b;}},get_pageNumber:function(){try{var a=this.mc();this.bh("get_pageNumber",arguments,a);return a}catch(b){throw this.K("get_pageNumber",b),b;}},get_documentPageCount:function(){try{var a=
this.Vg();this.bh("get_documentPageCount",arguments,a);return a}catch(b){throw this.K("get_documentPageCount",b),b;}},get_displayedPageRectangle:function(){try{var a=this.afB();this.bh("get_displayedPageRectangle",arguments,a);return a}catch(b){throw this.K("get_displayedPageRectangle",b),b;}},get_currentState:function(){try{var a=this.wF();this.bh("get_currentState",arguments,a);return a}catch(b){throw this.K("get_currentState",b),b;}},zoomIn:function(a){try{this.aO("zoomIn",arguments),this.LM(a)}catch(b){throw this.K("zoomIn",
b),b;}},zoomOut:function(a){try{this.aO("zoomOut",arguments),this.Xo(a)}catch(b){throw this.K("zoomOut",b),b;}},zoom:function(a){try{this.aO("zoom",arguments),this.lg(a)}catch(b){throw this.K("zoom",b),b;}},rotate:function(a){try{this.aO("rotate",arguments),this.xY(a)}catch(b){throw this.K("rotate",b),b;}},showPageRectangle:function(a){try{this.aO("showPageRectangle",arguments,1),this.anN(a)}catch(b){throw this.K("showPageRectangle",b),b;}},showPagePointAtCenter:function(a){try{this.aO("showPagePointAtCenter",
arguments,1),this.aqz(a)}catch(b){throw this.K("showPagePointAtCenter",b),b;}},mirror:function(){try{this.aO("mirror",arguments),this.akZ()}catch(a){throw this.K("mirror",a),a;}},flip:function(){try{this.aO("flip",arguments),this.ajd()}catch(a){throw this.K("flip",a),a;}},display:function(){try{this.aO("display",arguments),this.dR()}catch(a){throw this.K("display",a),a;}},openPage:function(a){try{this.aO("openPage",arguments,1),this.Et(a)}catch(b){throw this.K("openPage",b),b;}},closePage:function(){try{this.aO("closePage",
arguments),this.yX()}catch(a){throw this.K("closePage",a),a;}},hideSelection:function(){try{this.aO("hideSelection",arguments),this.qw()}catch(a){throw this.K("hideSelection",a),a;}},showSelection:function(a){try{this.aO("showSelection",arguments),this.api(a)}catch(b){throw this.K("showSelection",b),b;}},showEmptySelection:function(a){try{this.aO("showEmptySelection",arguments),this.Eq(a)}catch(b){throw this.K("showEmptySelection",b),b;}},extendSelection:function(a){try{this.aO("extendSelection",
arguments),this.AW(a)}catch(b){throw this.K("extendSelection",b),b;}},saveArtPage:function(a){try{this.aO("saveArtPage",arguments),this.FK(a)}catch(b){throw this.K("saveArtPage",b),b;}},get_selectionPageRectangle:function(){try{var a=this.xm();this.bh("get_selectionPageRectangle",arguments,a);return a}catch(b){throw this.K("get_selectionPageRectangle",b),b;}},get_selectionWindowRectangle:function(){try{var a=this.ati();this.bh("get_selectionWindowRectangle",arguments,a);return a}catch(b){throw this.K("get_selectionWindowRectangle",
b),b;}},get_selectionIsVisible:function(){try{var a=this.AT();this.bh("get_selectionIsVisible",arguments,a);return a}catch(b){throw this.K("get_selectionIsVisible",b),b;}},get_controlStateElementId:function(){try{var a=this.Kp();this.bh("get_controlStateElementId",arguments,a);return a}catch(b){throw this.K("get_controlStateElementId",b),b;}},set_controlStateElementId:function(a){try{this.aO("set_controlStateElementId",arguments),this.Ix(a)}catch(b){throw this.K("set_controlStateElementId",b),b;}},
get_includeArtInPostBack:function(){try{var a=this.Vz();this.bh("get_includeArtInPostBack",arguments,a);return a}catch(b){throw this.K("get_includeArtInPostBack",b),b;}},set_includeArtInPostBack:function(a){try{this.aO("set_includeArtInPostBack",arguments),this.XA(a)}catch(b){throw this.K("set_includeArtInPostBack",b),b;}},get_artPage:function(){try{var a=this.eA();this.bh("get_artPage",arguments,a);return a}catch(b){throw this.K("get_artPage",b),b;}},set_artPage:function(a){try{this.aO("set_artPage",
arguments),this.km(a)}catch(b){throw this.K("set_artPage",b),b;}},get_documentArtPage:function(){try{var a=this.Nr();this.bh("get_documentArtPage",arguments,a);return a}catch(b){throw this.K("get_documentArtPage",b),b;}},set_documentArtPage:function(a){try{this.aO("set_documentArtPage",arguments),this.Kb(a)}catch(b){throw this.K("set_documentArtPage",b),b;}},get_transientArtPage:function(){try{var a=this.kP();this.bh("get_transientArtPage",arguments,a);return a}catch(b){throw this.K("get_transientArtPage",
b),b;}},set_transientArtPage:function(a){try{this.aO("set_transientArtPage",arguments),this.ut(a)}catch(b){throw this.K("set_transientArtPage",b),b;}},get_imageHandlerUrl:function(){try{var a=this.lK();this.bh("get_imageHandlerUrl",arguments,a);return a}catch(b){throw this.K("get_imageHandlerUrl",b),b;}},set_imageHandlerUrl:function(a){try{this.aO("set_imageHandlerUrl",arguments),this.EW(a)}catch(b){throw this.K("set_imageHandlerUrl",b),b;}},get_resourcePath:function(){try{var a=this.nY();this.bh("get_resourcePath",
arguments,a);return a}catch(b){throw this.K("get_resourcePath",b),b;}},set_resourcePath:function(a){try{this.aO("set_resourcePath",arguments),this.tZ(a)}catch(b){throw this.K("set_resourcePath",b),b;}},get_contextMenuLanguageDictionary:function(){try{var a=this.jo();this.bh("get_contextMenuLanguageDictionary",arguments,a);return a}catch(b){throw this.K("get_contextMenuLanguageDictionary",b),b;}},set_contextMenuLanguageDictionary:function(a){try{this.aO("set_contextMenuLanguageDictionary",arguments),
this.aAP(a)}catch(b){throw this.K("set_contextMenuLanguageDictionary",b),b;}},get_textRequired:function(){try{var a=this.jv();this.bh("get_textRequired",arguments,a);return a}catch(b){throw this.K("get_textRequired",b),b;}},set_textRequired:function(a){try{this.aO("set_textRequired",arguments),this.xE(a)}catch(b){throw this.K("set_textRequired",b),b;}},get_textPage:function(){try{var a=this.cA();this.bh("get_textPage",arguments,a);return a}catch(b){throw this.K("get_textPage",b),b;}},get_textSelectionIsVisible:function(){try{var a=
this.Lb();this.vD("textSelectionIsVisible",arguments,a,1);return a}catch(b){throw this.K("textSelectionIsVisible",b),b;}},getSelectedText:function(){try{var a=this.EF();this.vD("getSelectedText",arguments,a,1);return a}catch(b){throw this.K("getSelectedText",b),b;}},get_requireRequestsOptimize:function(){try{var a=this.oe();this.bh("get_requireRequestsOptimize",arguments,a);return a}catch(b){throw this.K("oe",b),b;}},set_requireRequestsOptimize:function(a){try{this.aO("set_requireRequestsOptimize",
arguments),this.rM(a)}catch(b){throw this.K("set_requireRequestsOptimize",b),b;}},get_magnifierMagnification:function(){try{var a=this.auH();this.bh("get_magnifierMagnification",arguments,a);return a}catch(b){throw this.K("get_magnifierMagnification",b),b;}},set_magnifierMagnification:function(a){try{this.aO("set_magnifierMagnification",arguments),this.aon(a)}catch(b){throw this.K("set_magnifierMagnification",b),b;}},get_magnifierWidth:function(){try{var a=this.avb();this.bh("get_magnifierWidth",
arguments,a);return a}catch(b){throw this.K("get_magnifierWidth",b),b;}},set_magnifierWidth:function(a){try{this.aO("set_magnifierWidth",arguments),this.apc(a)}catch(b){throw this.K("set_magnifierWidth",b),b;}},get_magnifierHeight:function(){try{var a=this.auc();this.bh("get_magnifierHeight",arguments,a);return a}catch(b){throw this.K("get_magnifierHeight",b),b;}},set_magnifierHeight:function(a){try{this.aO("set_magnifierHeight",arguments),this.anz(a)}catch(b){throw this.K("set_magnifierHeight",b),
b;}},get_magnifierXOffset:function(){try{var a=this.Mj();this.bh("get_magnifierXOffset",arguments,a);return a}catch(b){throw this.K("get_magnifierXOffset",b),b;}},set_magnifierXOffset:function(a){try{this.aO("set_magnifierXOffset",arguments),this.Wn(a)}catch(b){throw this.K("set_magnifierXOffset",b),b;}},get_magnifierYOffset:function(){try{var a=this.Ns();this.bh("get_magnifierYOffset",arguments,a);return a}catch(b){throw this.K("get_magnifierYOffset",b),b;}},set_magnifierYOffset:function(a){try{this.aO("set_magnifierYOffset",
arguments),this.Wf(a)}catch(b){throw this.K("set_magnifierYOffset",b),b;}},showMagnifier:function(a){try{this.aO("showMagnifier",arguments,1),this.aqP(a)}catch(b){throw this.K("showMagnifier",b),b;}},hideMagnifier:function(){try{this.aO("hideMagnifier",arguments),this.aCW()}catch(a){throw this.K("hideMagnifier",a),a;}},get_markHandleSize:function(){try{var a=this.VQ();this.bh("get_markHandleSize",arguments,a);return a}catch(b){throw this.K("get_markHandleSize",b),b;}},set_markHandleSize:function(a){try{this.aO("set_markHandleSize",
arguments),this.Wq(a)}catch(b){throw this.K("set_markHandleSize",b),b;}},get_markHandleMode:function(){try{var a=this.AX();this.bh("get_markHandleMode",arguments,a);return a}catch(b){throw this.K("get_markHandleMode",b),b;}},set_markHandleMode:function(a){try{this.aO("set_markHandleMode",arguments),this.LL(a)}catch(b){throw this.K("set_markHandleMode",b),b;}},get_mouseTool:function(){try{var a=this.Vh();this.bh("get_mouseTool",arguments,a);return a}catch(b){throw this.K("get_mouseTool",b),b;}},set_mouseTool:function(a){try{this.aO("set_mouseTool",
arguments),this.LB(a)}catch(b){throw this.K("set_mouseTool",b),b;}},get_presentationQuality:function(){try{var a=this.asv();this.bh("get_presentationQuality",arguments,a);return a}catch(b){throw this.K("get_presentationQuality",b),b;}},set_presentationQuality:function(a){try{this.aO("set_presentationQuality",arguments),this.aqr(a)}catch(b){throw this.K("set_presentationQuality",b),b;}},get_scrollBars:function(){try{var a=this.asi();this.bh("get_scrollBars",arguments,a);return a}catch(b){throw this.K("get_scrollBars",
b),b;}},set_scrollBars:function(a){try{this.aO("set_scrollBars",arguments),this.aoW(a)}catch(b){throw this.K("set_scrollBars",b),b;}},get_imGearPage:function(){try{var a=this.mx();this.bh("get_imGearPage",arguments,a);return a}catch(b){throw this.K("get_imGearPage",b),b;}},set_imGearPage:function(a){try{this.aO("set_imGearPage",arguments),this.uV(a)}catch(b){throw this.K("set_imGearPage",b),b;}},get_serviceResponseTimeout:function(){try{var a=this.iR();this.bh("get_serviceResponseTimeout",arguments,
a);return a}catch(b){throw this.K("get_serviceResponseTimeout",b),b;}},set_serviceResponseTimeout:function(a){try{this.aO("set_serviceResponseTimeout",arguments),this.sg(a)}catch(b){throw this.K("set_serviceResponseTimeout",b),b;}},get_currentTextIndex:function(){try{var a=this.ES();this.bh("get_currentTextIndex",arguments,a);return a}catch(b){throw this.K("get_currentTextIndex",b),b;}},get_cursor:function(){try{var a=this.avg();this.bh("get_cursor",arguments,a);return a}catch(b){throw this.K("get_cursor",
b),b;}},set_cursor:function(a){try{this.aO("set_cursor",arguments),this.aAN(a)}catch(b){throw this.K("set_cursor",b),b;}},get_encryption:function(){try{var a=this.ej();this.bh("get_encryption",arguments,a);return a}catch(b){throw this.K("get_encryption",b),b;}},set_encryption:function(a){try{this.aO("set_encryption",arguments),this.jF(a)}catch(b){throw this.K("set_encryption",b),b;}},transformPagePointToWindow:function(a,b){try{var d=this.aoE(a,b);this.vD("transformPagePointToWindow",arguments,d,
1);return d}catch(c){throw this.K("transformPagePointToWindow",c),c;}},transformWindowPointToPage:function(a,b){try{var d=this.Mr(a,b);this.vD("transformWindowPointToPage",arguments,d,1);return d}catch(c){throw this.K("transformWindowPointToPage",c),c;}},transformPagePointToTextIndex:function(a){try{var b=this.Kr(a);this.vD("transformPagePointToTextIndex",arguments,b,1);return b}catch(d){throw this.K("transformPagePointToTextIndex",d),d;}},removeAllHighlights:function(){try{this.aO("removeAllHighlights",
arguments),this.Xh()}catch(a){throw this.K("removeAllHighlights",a),a;}},showTextSelection:function(a,b){try{this.aO("showTextSelection",arguments),this.Np(a,b)}catch(d){throw this.K("showTextSelection",d),d;}},showEmptyTextSelection:function(a){try{this.aO("showEmptyTextSelection",arguments),this.ze(a)}catch(b){throw this.K("showEmptyTextSelection",b),b;}},extendTextSelection:function(a){try{this.aO("extendTextSelection",arguments),this.wu(a)}catch(b){throw this.K("extendTextSelection",b),b;}},initializeViewControllers:function(a){try{this.aO("initializeViewControllers",
arguments),this.apE(a)}catch(b){throw this.K("initializeViewControllers",b),b;}},get_autoUpdate:function(){try{var a=this.Bh();this.bh("get_autoUpdate",arguments,a);return a}catch(b){throw this.K("get_autoUpdate",b),b;}},set_autoUpdate:function(a){try{this.aO("set_autoUpdate",arguments),this.XM(a)}catch(b){throw this.K("set_autoUpdate",b),b;}}};IPCC.Web.UI.PageView.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PageView.registerClass("IPCC.Web.UI.PageView",IPCC.Sys.UI.Control);
IPCC.Web.UI.ThumbnailView=function(a){function b(a,b){D.addHandler(a,b)}function d(a,b){D.removeHandler(a,b)}function c(){var a,b,c;""!==r&&(a=document.getElementById(r))&&(b=m.wF(),c='{encodedDocumentIdentifier:"'+b.encodedDocumentIdentifier,c+='",pageNumber:'+b.pageNumber.toString(),c+=",selected:"+y.toString(),l&&(b=n.eA())&&(c+=',artPageJson:"'+IPCC.gE.sH(b.saveToJson())+'"'),a.value=c+"}")}function e(){var a={};a.documentIdentifier=m.vH();a.encodedDocumentIdentifier=m.zO();a.pageNumber=m.mc();
a.referenceDocumentIdentifier=m.vH();a.referencePageNumber=m.mc();a.selected=m.LU();a.artPage=m.eA();a.imGearPage=m.mx();a.transientArtPage=m.kP();return a}function f(a,b){a=m.wF();if(b.documentIdentifier!==a.documentIdentifier||b.pageNumber!==a.pageNumber)t&&(t.remove_pageOpened(f),t=null),m.Ph(!1)}function g(){if(C&&(E||(E=document.getElementById(C).ak),E&&m.get_imGearPage()&&E.set_imGearPage(m.get_imGearPage()),E)){t&&(t.remove_pageOpened(f),t=null);E.add_pageOpened(f);t=E;var a=m.wF();""!==a.encodedDocumentIdentifier&&
E.openPage({encodedDocumentIdentifier:a.encodedDocumentIdentifier,pageNumber:a.pageNumber,viewFitType:w.viewFitType,viewRotationDegreesClockwise:w.viewRotationDegreesClockwise,viewZoomFactor:w.viewZoomFactor,artPage:a.artPage,imGearPage:m.mx()})}}function k(){H()}var m=this,q,n,u=0,r="",l=!1,C="",E=null,w=null,t=null,y=!1,D=new IPCC.Web.UI.gR;this.K=function(a,b){n&&n.jy(IPCC.Web.UI.DebugErrorLevel.Production)&&n.logException(a,b)};this.aO=function(a,b,c){if(n&&n.jy(IPCC.Web.UI.DebugErrorLevel.Development)){a+=
"(";var d;for(d=0;d<b.length;d++)0<d&&(a+=", "),a+=IPCC.fF.hT(b[d],c?c:0);this.mu(a+")",IPCC.Web.UI.DebugErrorLevel.Development)}};this.vD=function(a,b,c,d){if(n&&n.jy(IPCC.Web.UI.DebugErrorLevel.Development)){a+="(";var f;for(f=0;f<b.length;f++)0<f&&(a+=", "),a+=IPCC.fF.hT(b[f],d?d:0);a=a+") = "+IPCC.fF.hT(c,1);this.mu(a,IPCC.Web.UI.DebugErrorLevel.Development)}};this.bh=function(a,b,c){if(n&&n.jy(IPCC.Web.UI.DebugErrorLevel.Detailed)){a+="(";var d;for(d=0;d<b.length;d++)0<d&&(a+=", "),a+=IPCC.fF.hT(b[d],
0);a=a+") = "+IPCC.fF.hT(c,1);this.mu(a,IPCC.Web.UI.DebugErrorLevel.Detailed)}};this.mu=function(a,b){n&&n.iB(a,IPCC.Web.UI.DebugItemCause.FunctionCall,b)};this.iB=function(a){n&&n.iB(a,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production)};this.sz=function(){return n.get_debug()};this.Bf=function(a){n.set_debug(a)};this.ox=function(){return n.ox()};this.uM=function(a){IPCC.aJ.kK(a,"value",IPCC.Web.UI.DebugErrorLevel);n.uM(a)};this.Kv=function(a){b("pageOpening",a)};this.JN=function(a){d("pageOpening",
a)};this.GQ=function(a){b("pageOpened",a)};this.Kq=function(a){d("pageOpened",a)};this.Zi=function(a){b("pageClosed",a)};this.zc=function(a){b("pageOpenFailed",a)};this.AY=function(a){d("pageOpenFailed",a)};this.HM=function(a){b("pageDisplayed",a)};this.LG=function(a){d("pageDisplayed",a)};this.aaR=function(a){d("pageClosed",a)};this.Bz=function(a){b("mouseDown",a)};this.DV=function(a){d("mouseDown",a)};this.Bm=function(a){b("mouseMove",a)};this.Ed=function(a){d("mouseMove",a)};this.CE=function(a){b("mouseUp",
a)};this.Ef=function(a){d("mouseUp",a)};this.aaI=function(a){b("contextMenu",a)};this.aaK=function(a){d("contextMenu",a)};this.zo=function(a){b("markAdded",a)};this.xQ=function(a){d("markAdded",a)};this.FB=function(a){b("markChanged",a)};this.DI=function(a){d("markChanged",a)};this.Al=function(a){b("markRemoved",a)};this.xA=function(a){d("markRemoved",a)};this.Gq=function(a){b("markReordered",a)};this.DQ=function(a){d("markReordered",a)};this.Mp=function(a){b("marksLoaded",a)};this.Qa=function(a){d("marksLoaded",
a)};this.axk=function(a){b("marksSaved",a)};this.azN=function(a){d("marksSaved",a)};this.Gt=function(a){b("markSelectionChanged",a)};this.Dj=function(a){d("markSelectionChanged",a)};this.wn=function(a){b("textPageReady",a)};this.xH=function(a){d("textPageReady",a)};this.oe=function(){return n.get_requireRequestsOptimize()};this.rM=function(a){n.rM(a)};this.raisePropertyChanged=function(a){n&&n.bm(a)};var J=function(a,b){try{var c;(c=D.getHandler(a))&&c(m,b)}catch(d){m.K(a+"Event",d)}},L=function(a){n["add_"+
a](function(b,c){J(a,c)})},F=function(a){n["add_"+a](function(a,b){n.GD()&&c()})},p=function(){n.ix(function(a,b){a=!0;switch(b.get_propertyName()){case "documentIdentifier":case "pageNumber":case "artPage":case "includeArtInPostBack":c();break;case "magnifierWindowPosition":case "magnifierIsVisible":case "cursor":case "markCursor":case "inProgressMark":case "EK":case "vT":a=!1;break;case "CB":n.GD()&&c(),a=!1}a&&J("propertyChanged",b)})};this.vH=function(){return n&&n.cQ()?n.cQ().get_identifier():
""};this.zO=function(){return n&&n.cQ()?n.cQ().get_encodedIdentifier():""};this.mc=function(){return n&&n.cQ()?n.cQ().ba:-1};this.Vg=function(){return n&&n.cQ()?n.cQ().ef:0};this.mw=function(){return n&&n.cQ()?n.cQ().width:0};this.mr=function(){return n&&n.cQ()?n.cQ().height:0};this.wF=function(){var a;q?(a=new IPCC.Web.UI.ThumbnailViewState,a.documentIdentifier=q.documentIdentifier,a.encodedDocumentIdentifier=q.encodedDocumentIdentifier,a.pageNumber=q.pageNumber,a.referenceDocumentIdentifier=q.documentIdentifier,
a.referencePageNumber=q.pageNumber,a.selected=q.selected,a.artPage=q.artPage,a.imGearPage=q.imGearPage,a.transientArtPage=q.transientArtPage):a=e();return a};this.asE=function(){return w};this.aoU=function(a){w=a};var H=function(){var a=n.bV(),b=n.cQ(),c=n.dS(),d=a.hj();d.adq(b,c);d.adS(b,c);d.lq(b,c);a.hK(d)};this.dR=function(){n.dR()};this.WS=function(a){if(0<IPCC.Web.mI.length)if(Array.prototype.indexOf){if(0<=IPCC.Web.mI.indexOf(a))return!0}else if(0<=IPCC.Web.hk(IPCC.Web.mI,a))return!0;return!1};
this.Et=function(a){u++;var b=u;IPCC.gE.Ss(a);q=new IPCC.Web.UI.ThumbnailViewState;for(var d in a)a.hasOwnProperty(d)&&(q[d]=a[d]);if(""===a.documentIdentifier)this.yX();else{IPCC.Web.UI.ArtPage&&q&&(q.artPage||(d=new IPCC.Web.UI.ArtPage,q.artPageJson&&d.loadFromJson(q.artPageJson),q.artPage=d),!0===this.jv()&&(q.imGearPage||(d=new IPCC.Web.UI.ImGearDocument({documentIdentifier:a.documentIdentifier,imageServicePath:this.lK()}),d.jF(m.ej()),q.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:a.pageNumber,
bP:d}),q.imGearPage.jF(m.ej()),d.get_pages().addPage(q.imGearPage)),q.transientArtPage||(q.transientArtPage=new IPCC.Web.UI.ArtPage)));J("pageOpening",a);y&&g();var f=new IPCC.gE(a.encodedDocumentIdentifier,a.pageNumber,0,0,0,0);d=function(){if(b===u){var d=null;n.cQ()&&(d=e());n.vW(f);a.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService?q&&q.artPage&&(n.km(q.artPage),n.eA().loadFromJson(f.afc)):q&&(q.artPage&&n.km(q.artPage),!0===n.jv()&&(q.imGearPage&&n.uV(q.imGearPage),q.transientArtPage&&
n.ut(q.transientArtPage)));H();void 0!==a.selected&&m.set_selected(a.selected);q=null;c();d&&J("pageClosed",d);c();J("pageOpened",a)}};a.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService?q&&(q.artPageJson?f.IW(n.lK(),n,d):f.axf(n.lK(),n,d,void 0)):f.IW(n.lK(),n,d)}};this.yX=function(){q=null;n.vW(void 0);m.dR();c();J("pageClosed",{})};this.FK=function(a){n.FK(a)};this.km=function(a){n.km(a)};this.eA=function(){return n.eA()};this.kP=function(){return n.kP()};this.ut=function(a){n.ut(a)};
this.yQ=function(){return n.yQ()};this.VR=function(a){n.VR(a)};this.tZ=function(a){n.tZ(a)};this.nY=function(){return n.nY()};this.Pv=function(a,b){n.Pv(a,b)};this.xs=function(a){n.xs(a)};this.yi=function(){return n.yi()};this.LU=function(){return y};this.Ph=function(a){y!==a&&(y=a,c(),y&&g(),this.raisePropertyChanged("selected"))};this.lK=function(){return n.lK()};this.EW=function(a){IPCC.aJ.jf(a,"value");n.EW(a);IPCC.Web.rF||!1===IPCC.Web.xa&&IPCC.Web.Qq(a)};this.Kp=function(){return r};this.Ix=
function(a){IPCC.aJ.jf(a,"value");r=a};this.Vz=function(){return l};this.XA=function(a){l=a};this.arx=function(){return C};this.aqW=function(a){C!==a&&(C=a,E=null,this.raisePropertyChanged("pageViewClientID"))};this.Pm=function(a){n.Pm(a)};this.KV=function(){return n.KV()};this.xC=function(a){n.xC(a)};this.Jy=function(){return n.Jy()};var B="";this.pQ=function(a){n.pQ(a);B=a};this.fQ=function(){return B};this.jv=function(){return n.jv()};this.xE=function(a){n.xE(a)};this.cA=function(){return n.cA()};
this.mx=function(){return n.mx()};this.uV=function(a){n.uV(a)};this.iR=function(){return n.iR()};this.sg=function(a){n.sg(a)};this.ej=function(){return n.ej()};this.jF=function(a){n.jF(a)};this.initialize=function(){var a;n.acS(this.fQ().id);a=this.fQ();a.ak=this;var b;for(b=a.childNodes.length-1;0<=b;b--)"INPUT"!==a.childNodes[b].tagName&&a.removeChild(a.childNodes[b]);n.adT();n.bV().set_cursor(IPCC.ao.None);n.bV().set_scrollBars(IPCC.Web.UI.ScrollBars.None);n.bV().set_presentationQuality(100);L("mouseDown");
L("mouseMove");L("mouseUp");L("pageOpenFailed");L("contextMenu");L("textPageReady");L("pageDisplayed");F("markAdded");F("markChanged");F("markRemoved");F("markReordered");F("marksLoaded");p();n.anw(k);a.ak=this};n=new IPCC.akz;n.acI("ThumbnailView")};
IPCC.Web.UI.ThumbnailView.prototype={dispose:function(){this.aO("dispose",arguments);this.yX()},get_debug:function(){try{var a=this.sz();this.bh("get_debug",arguments,a);return a}catch(b){throw this.K("get_debug",b),b;}},set_debug:function(a){try{this.aO("set_debug",arguments);var b=this.sz();this.Bf(a);b||this.aO("set_debug",arguments)}catch(d){throw this.K("set_debug",d),d;}},get_debugErrorLevel:function(){try{var a=this.ox();this.bh("get_debugErrorLevel",arguments,a);return a}catch(b){throw this.K("get_debugErrorLevel",
b),b;}},set_debugErrorLevel:function(a){try{this.aO("set_debugErrorLevel",arguments);var b=this.ox();this.uM(a);b<IPCC.Web.UI.DebugErrorLevel.Development&&this.aO("set_debugErrorLevel",arguments)}catch(d){throw this.K("set_debugErrorLevel",d),d;}},get_artServiceOption:function(){try{var a=this.yi();this.bh("get_artServiceOption",arguments,a);return a}catch(b){throw this.K("get_artServiceOption",b),b;}},set_artServiceOption:function(a){try{this.aO("set_artServiceOption",arguments),this.xs(a)}catch(b){throw this.K("set_artServiceOption",
b),b;}},add_pageOpening:function(a){try{this.Kv(a)}catch(b){throw this.K("add_pageOpening",b),b;}},remove_pageOpening:function(a){try{this.JN(a)}catch(b){throw this.K("remove_pageOpening",b),b;}},add_pageOpened:function(a){try{this.GQ(a)}catch(b){throw this.K("add_pageOpened",b),b;}},remove_pageOpened:function(a){try{this.Kq(a)}catch(b){throw this.K("remove_pageOpened",b),b;}},add_pageClosed:function(a){try{this.Zi(a)}catch(b){throw this.K("add_pageClosed",b),b;}},remove_pageClosed:function(a){try{this.aaR(a)}catch(b){throw this.K("remove_pageClosed",
b),b;}},add_pageOpenFailed:function(a){try{this.zc(a)}catch(b){throw this.K("add_pageOpenFailed",b),b;}},remove_pageOpenFailed:function(a){try{this.AY(a)}catch(b){throw this.K("remove_pageOpenFailed",b),b;}},add_pageDisplayed:function(a){try{this.HM(a)}catch(b){throw this.K("add_pageDisplayed",b),b;}},remove_pageDisplayed:function(a){try{this.LG(a)}catch(b){throw this.K("remove_pageDisplayed",b),b;}},add_mouseDown:function(a){try{this.Bz(a)}catch(b){throw this.K("add_mouseDown",b),b;}},remove_mouseDown:function(a){try{this.DV(a)}catch(b){throw this.K("remove_mouseDown",
b),b;}},add_mouseMove:function(a){try{this.Bm(a)}catch(b){throw this.K("add_mouseMove",b),b;}},remove_mouseMove:function(a){try{this.Ed(a)}catch(b){throw this.K("remove_mouseMove",b),b;}},add_mouseUp:function(a){try{this.CE(a)}catch(b){throw this.K("add_mouseUp",b),b;}},remove_mouseUp:function(a){try{this.Ef(a)}catch(b){throw this.K("remove_mouseUp",b),b;}},add_contextMenu:function(a){try{this.aaI(a)}catch(b){throw this.K("add_contextMenu",b),b;}},remove_contextMenu:function(a){try{this.aaK(a)}catch(b){throw this.K("remove_contextMenu",
b),b;}},writeToLog:function(a){try{this.iB(a)}catch(b){throw this.K("writeToLog",b),b;}},get_documentIdentifier:function(){try{var a=this.vH();this.bh("get_documentIdentifier",arguments,a);return a}catch(b){throw this.K("get_documentIdentifier",b),b;}},get_encodedDocumentIdentifier:function(){try{var a=this.zO();this.bh("get_encodedDocumentIdentifier",arguments,a);return a}catch(b){throw this.K("get_encodedDocumentIdentifier",b),b;}},get_pageNumber:function(){try{var a=this.mc();this.bh("get_pageNumber",
arguments,a);return a}catch(b){throw this.K("get_pageNumber",b),b;}},get_documentPageCount:function(){try{var a=this.Vg();this.bh("get_documentPageCount",arguments,a);return a}catch(b){throw this.K("get_documentPageCount",b),b;}},get_pageWidth:function(){try{var a=this.mw();this.bh("get_pageWidth",arguments,a);return a}catch(b){throw this.K("get_pageWidth",b),b;}},get_pageHeight:function(){try{var a=this.mr();this.bh("get_pageHeight",arguments,a);return a}catch(b){throw this.K("get_pageHeight",b),
b;}},get_currentState:function(){try{var a=this.wF();this.bh("get_currentState",arguments,a);return a}catch(b){throw this.K("get_currentState",b),b;}},openPage:function(a){try{this.aO("openPage",arguments,1),this.Et(a)}catch(b){throw this.K("openPage",b),b;}},closePage:function(){try{this.aO("closePage",arguments),this.yX()}catch(a){throw this.K("closePage",a),a;}},saveArtPage:function(a){try{this.aO("saveArtPage",arguments),this.FK(a)}catch(b){throw this.K("saveArtPage",b),b;}},display:function(){try{this.aO("display",
arguments),this.dR()}catch(a){throw this.K("display",a),a;}},get_controlStateElementId:function(){try{var a=this.Kp();this.bh("get_controlStateElementId",arguments,a);return a}catch(b){throw this.K("get_controlStateElementId",b),b;}},set_controlStateElementId:function(a){try{this.aO("set_controlStateElementId",arguments),this.Ix(a)}catch(b){throw this.K("set_controlStateElementId",b),b;}},get_includeArtInPostBack:function(){try{var a=this.Vz();this.bh("get_includeArtInPostBack",arguments,a);return a}catch(b){throw this.K("get_includeArtInPostBack",
b),b;}},set_includeArtInPostBack:function(a){try{this.aO("set_includeArtInPostBack",arguments),this.XA(a)}catch(b){throw this.K("set_includeArtInPostBack",b),b;}},get_pageViewClientID:function(){try{var a=this.arx();this.bh("get_pageViewClientID",arguments,a);return a}catch(b){throw this.K("get_pageViewClientID",b),b;}},set_pageViewClientID:function(a){try{this.aO("set_pageViewClientID",arguments),this.aqW(a)}catch(b){throw this.K("set_pageViewClientID",b),b;}},get_artPage:function(){try{var a=this.eA();
this.bh("get_artPage",arguments,a);return a}catch(b){throw this.K("get_artPage",b),b;}},set_artPage:function(a){try{this.aO("set_artPage",arguments),this.km(a)}catch(b){throw this.K("set_artPage",b),b;}},get_transientArtPage:function(){try{var a=this.kP();this.bh("get_transientArtPage",arguments,a);return a}catch(b){throw this.K("get_transientArtPage",b),b;}},set_transientArtPage:function(a){try{this.aO("set_transientArtPage",arguments),this.ut(a)}catch(b){throw this.K("set_transientArtPage",b),b;
}},get_resourcePath:function(){try{var a=this.nY();this.bh("get_resourcePath",arguments,a);return a}catch(b){throw this.K("get_resourcePath",b),b;}},set_resourcePath:function(a){try{this.aO("set_resourcePath",arguments),this.tZ(a)}catch(b){throw this.K("set_resourcePath",b),b;}},get_imageHandlerUrl:function(){try{var a=this.lK();this.bh("get_imageHandlerUrl",arguments,a);return a}catch(b){throw this.K("get_imageHandlerUrl",b),b;}},set_imageHandlerUrl:function(a){try{this.aO("set_imageHandlerUrl",
arguments),this.EW(a)}catch(b){throw this.K("set_imageHandlerUrl",b),b;}},get_selected:function(){try{var a=this.LU();this.bh("get_selected",arguments,a);return a}catch(b){throw this.K("get_selected",b),b;}},set_selected:function(a){try{this.aO("set_selected",arguments),this.Ph(a)}catch(b){throw this.K("set_selected",b),b;}},get_textRequired:function(){try{var a=this.jv();this.bh("get_textRequired",arguments,a);return a}catch(b){throw this.K("get_textRequired",b),b;}},set_textRequired:function(a){try{this.aO("set_textRequired",
arguments),this.xE(a)}catch(b){throw this.K("set_textRequired",b),b;}},get_textPage:function(){try{var a=this.cA();this.bh("get_textPage",arguments,a);return a}catch(b){throw this.K("get_textPage",b),b;}},set_textPage:function(a){try{this.aO("set_textPage",arguments),this.apr(a)}catch(b){throw this.K("set_textPage",b),b;}},get_imGearPage:function(){try{var a=this.mx();this.bh("get_imGearPage",arguments,a);return a}catch(b){throw this.K("get_imGearPage",b),b;}},set_imGearPage:function(a){try{this.aO("set_imGearPage",
arguments),this.uV(a)}catch(b){throw this.K("set_imGearPage",b),b;}},add_textPageReady:function(a){try{this.wn(a)}catch(b){throw this.K("add_textPageReady",b),b;}},remove_textPageReady:function(a){try{this.xH(a)}catch(b){throw this.K("remove_textPageReady",b),b;}},get_requireRequestsOptimize:function(){try{var a=this.oe();this.bh("get_requireRequestsOptimize",arguments,a);return a}catch(b){throw this.K("oe",b),b;}},set_requireRequestsOptimize:function(a){try{this.aO("set_requireRequestsOptimize",
arguments),this.rM(a)}catch(b){throw this.K("set_requireRequestsOptimize",b),b;}},get_serviceResponseTimeout:function(){try{var a=this.iR();this.bh("get_serviceResponseTimeout",arguments,a);return a}catch(b){throw this.K("get_serviceResponseTimeout",b),b;}},set_serviceResponseTimeout:function(a){try{this.aO("set_serviceResponseTimeout",arguments),this.sg(a)}catch(b){throw this.K("set_serviceResponseTimeout",b),b;}},get_encryption:function(){try{var a=this.ej();this.bh("get_encryption",arguments,a);
return a}catch(b){throw this.K("get_encryption",b),b;}},set_encryption:function(a){try{this.aO("set_encryption",arguments),this.jF(a)}catch(b){throw this.K("set_encryption",b),b;}}};IPCC.Web.UI.ThumbnailView.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ThumbnailView.registerClass("IPCC.Web.UI.ThumbnailView",IPCC.Sys.UI.Control);
IPCC.eu=function(a,b,d,c,e,f){0===arguments.length&&(a=c=1,b=d=e=f=0);this.afp=function(){return a*c-b*d};this.aEO=function(){return 1===a&&0===b&&0===d&&1===c&&0===e&&0===f};this.rm=function(){return a};this.pF=function(){return b};this.rS=function(){return d};this.uo=function(){return c};this.xD=function(){return e};this.ys=function(){return f};this.append=function(g){var k=a*g.rm()+b*g.rS(),m=a*g.pF()+b*g.uo(),q=d*g.rm()+c*g.rS(),n=d*g.pF()+c*g.uo(),u=e*g.rm()+f*g.rS()+g.xD();g=e*g.pF()+f*g.uo()+
g.ys();a=k;b=m;d=q;c=n;e=u;f=g};this.equals=function(g){return a!==g.rm()||b!==g.pF()||d!==g.rS()||c!==g.uo()||e!==g.xD()||f!==g.ys()?!1:!0};this.AC=function(){if(!this.aek())throw new IPCC.Web.UI.ImGearArgumentException(null,"Matrix has no inverse");var g=this.afp(),k=-b/g,m=-d/g,q=a/g,n=(d*f-c*e)/g,u=(b*e-a*f)/g;a=c/g;b=k;d=m;c=q;e=n;f=u};this.Ct=function(g){var k=g.rm()*a+g.pF()*d,m=g.rm()*b+g.pF()*c,q=g.rS()*a+g.uo()*d,n=g.rS()*b+g.uo()*c,u=g.xD()*a+g.ys()*d+e;g=g.xD()*b+g.ys()*c+f;a=k;b=m;d=
q;c=n;e=u;f=g};this.yS=function(a,b,c,d){e-=c;f-=d;this.scale(a,b);e+=c;f+=d};this.aoR=function(){a=c=1;b=d=e=f=0};this.transform=function(g){return new IPCC.Web.UI.Point(g.x*a+g.y*d+e,g.y*c+g.x*b+f)};this.oV=function(a,b){e+=a;f+=b};this.aDt=function(g){return 1E-8<Math.abs(a-g.rm())||1E-8<Math.abs(b-g.pF())||1E-8<Math.abs(d-g.rS())||1E-8<Math.abs(c-g.uo())||1E-8<Math.abs(e-g.xD())||1E-8<Math.abs(f-g.ys())?!1:!0};this.toString=function(){return"{"+a.toFixed(6)+", "+b.toFixed(6)+", "+d.toFixed(6)+
", "+c.toFixed(6)+", "+e.toFixed(3)+", "+f.toFixed(3)+"}"};this.parse=function(){};this.clone=function(){return new IPCC.eu(a,b,d,c,e,f)};this.Sa=function(g){a=g.rm();b=g.pF();d=g.rS();c=g.uo();e=g.xD();f=g.ys()};this.adq=function(g,k){a=1;c=k.hc*g.he/(g.hc*k.he);b=d=e=f=0};this.XP=function(a,b,c){switch(a){case IPCC.Web.UI.FitType.FullImage:this.adS(b,c);break;case IPCC.Web.UI.FitType.FullWidth:this.agD(b,c);break;case IPCC.Web.UI.FitType.FullHeight:this.afw(b,c);break;case IPCC.Web.UI.FitType.ActualSize:this.aft(b,
c);break;case IPCC.Web.UI.FitType.OneToOne:b.tj?this.apj(b,c):this.aft(b,c)}};this.agD=function(a,b){var c=this.rw(a);b=b.width-2;1>b&&(b=1);c=b/c.width;this.scale(c,c);c=this.rw(a);0>c.y&&this.oV(0,-c.y)};this.afw=function(a,b){var c=this.rw(a);b=b.height-2;1>b&&(b=1);c=b/c.height;this.scale(c,c);c=this.rw(a);0>c.x&&this.oV(-c.x,0)};this.adS=function(c,d){var f=this.clone();f.agD(c,d);this.afw(c,d);Math.max(Math.abs(a),Math.abs(b))>Math.max(Math.abs(f.rm()),Math.abs(f.pF()))&&this.Sa(f)};this.aft=
function(a,b){a=this.rw({x:0,y:0,width:a.he,height:a.hc});b=b.he/a.width;this.scale(b,b)};this.apj=function(b,d){b=this.rw({x:0,y:0,width:1,height:1});b=1/Math.min(b.width,b.height);this.scale(b,b);1E-4>Math.abs(a-1)&&(a=1);1E-4>Math.abs(c-1)&&(c=1)};return this};IPCC.eu.prototype.aek=function(){return 1E-14<Math.abs(this.afp())};IPCC.eu.prototype.rotate=function(a){this.aby(a,0,0)};
IPCC.eu.prototype.aby=function(a,b,d){var c=a*Math.PI*2/360;a=Math.sin(c);c=Math.cos(c);b=new IPCC.eu(c,a,-a,c,b*(1-c)+d*a,d*(1-c)-b*a);this.append(b)};IPCC.eu.prototype.azZ=function(a,b,d){var c=a*Math.PI*2/360;a=Math.sin(c);c=Math.cos(c);b=new IPCC.eu(c,a,-a,c,b*(1-c)+d*a,d*(1-c)-b*a);this.Ct(b)};IPCC.eu.prototype.aDr=function(a){this.azZ(a,0,0)};IPCC.eu.prototype.scale=function(a,b){a=new IPCC.eu(a,0,0,b,0,0);this.append(a)};
IPCC.eu.prototype.aEH=function(a,b,d,c){a=new IPCC.eu(a,0,0,b,d*(1-a),c*(1-b));this.Ct(a)};IPCC.eu.prototype.aEa=function(a,b){a=new IPCC.eu(a,0,0,b,0,0);this.Ct(a)};IPCC.eu.prototype.skew=function(a,b){a=new IPCC.eu(1,Math.tan(b*Math.PI*2/360),Math.tan(a*Math.PI*2/360),1,0,0);this.append(a)};IPCC.eu.prototype.aEW=function(a,b){a=new IPCC.eu(1,Math.tan(b*Math.PI*2/360),Math.tan(a*Math.PI*2/360),1,0,0);this.Ct(a)};IPCC.eu.prototype.aFp=function(a,b){a=new IPCC.eu(1,0,0,1,a,b);this.Ct(a)};
IPCC.eu.prototype.tq=function(a){var b=this.transform({x:a.x,y:a.y}),d=b.x,c=b.x,e=b.y,f=b.y,b=this.transform({x:a.x+a.width,y:a.y}),d=Math.min(d,b.x),c=Math.max(c,b.x),e=Math.min(e,b.y),f=Math.max(f,b.y),b=this.transform({x:a.x+a.width,y:a.y+a.height}),d=Math.min(d,b.x),c=Math.max(c,b.x),e=Math.min(e,b.y),f=Math.max(f,b.y),b=this.transform({x:a.x,y:a.y+a.height}),d=Math.min(d,b.x),c=Math.max(c,b.x),e=Math.min(e,b.y),f=Math.max(f,b.y);return new IPCC.Web.UI.Rectangle(d,e,c-d,f-e)};
IPCC.eu.prototype.aoJ=function(a,b,d){var c=this.clone();c.AC();c=c.transform({x:d.x+d.width/2,y:d.y+d.height/2});d=Math.min(b.width/d.width,b.height/d.height);d-=1E-10;var e=this.vg();e*d>a.sI&&(d=a.sI/e);e*d<a.tJ&&(d=a.tJ/e);this.scale(d,d);this.afh(b,c)};IPCC.eu.prototype.QF=function(a,b,d){this.aoJ(a,b,this.tq(d))};IPCC.eu.prototype.aFE=function(a){this.yS(1,-1,a.width/2,a.height/2)};IPCC.eu.prototype.alH=function(a){this.yS(-1,1,a.width/2,a.height/2)};
IPCC.eu.prototype.WN=function(a,b){a=this.transform(a);this.oV(b.x-a.x,b.y-a.y)};IPCC.eu.prototype.afh=function(a,b){b=this.transform(b);this.oV(a.width/2-b.x,a.height/2-b.y)};IPCC.eu.prototype.lq=function(a,b){var d=0,c=0,e=this.rw(a);e.width<b.width?d=(b.width-e.width)/2-e.x:(a=e.x+e.width,a<b.width&&(d=b.width-a),0<e.x&&(d=-e.x));e.height<b.height?c=(b.height-e.height)/2-e.y:(a=e.y+e.height,a<b.height&&(c=b.height-a),0<e.y&&(c=-e.y));this.oV(d,c)};
IPCC.eu.prototype.rw=function(a){return this.tq({x:0,y:0,width:a.width,height:a.height})};IPCC.eu.prototype.Kf=function(){var a,b,d;a=this.transform({x:0,y:0});b=this.transform({x:0,y:1});d=this.transform({x:1,y:0});a=Math.atan2(b.y-a.y,b.x-a.x)-Math.atan2(d.y-a.y,d.x-a.x);a>Math.PI&&(a-=2*Math.PI);a<-Math.PI&&(a+=2*Math.PI);return 0>a};
IPCC.eu.prototype.BA=function(){var a,b;a=this.transform({x:0,y:0});b=this.transform({x:0,y:1});a=Math.atan2(b.y-a.y,b.x-a.x)-Math.PI/2;0>a&&(a+=2*Math.PI);return 360*a/(2*Math.PI)};IPCC.eu.prototype.vg=function(){var a,b,d;b=this.transform({x:0,y:0});d=this.transform({x:1,y:0});a=d.x-b.x;b=d.y-b.y;a=a*a+b*b;this.transform({x:0,y:1});this.transform({x:1,y:1});this.transform({x:1,y:-1});return Math.sqrt(a)};IPCC.eu.aEU=function(){return new IPCC.eu(1,0,0,1,0,0)};
IPCC.Fe=function(a,b,d,c){this.width=a;this.height=b;this.he=d;this.hc=c;return this};IPCC.Fe.prototype=new IPCC.Web.UI.Rectangle(0,0,0,0);IPCC.Fe.prototype.toString=function(){return"Space("+this.width+" x "+this.height+", "+this.he+", "+this.hc+")"};
IPCC.gE=function(a,b,d,c,e,f){function g(a,b){if(b.KV())k.tj=!0,k.Bx=!1;else{a=a.split(",");for(var c=!1,d=0;d<a.length;d++)if("SVG"===a[d]||"svg"===a[d]){IPCC.vP.As()?(k.Bx=!0,k.tj=!1):k.Bx=!1;c=!0;break}c||(k.Bx=!1,k.tj=!0);b&&b.Rz&&b.Rz(k.Bx)}}this.width=d;this.height=c;this.he=e;this.hc=f;this.ba=b||0;this.ef=0;this.tj=!0;this.afc={};this.Bx=!1;var k=this;this.ba=b;this.get_url=function(c,d,f){d=d||"Image";f=f||"";var e=IPCC.gE.GV(a),g=!1;/^[\x00-\x7F]*$/.test(e)&&(g=!0);return null!==f&&""!==
f||"Attributes"!==d?"SvgImage"===d?g?c+"/Page/q/"+b.toString()+"?DocumentID=u"+encodeURIComponent(e)+"&"+f:c+"/Page/q/"+b.toString()+"?DocumentID=e"+a+"&"+f:g?c+"/Page/q/"+b.toString()+"/"+d+"?DocumentID=u"+encodeURIComponent(e)+"&"+f:c+"/Page/q/"+b.toString()+"/"+d+"?DocumentID=e"+a+"&"+f:(f="",IPCC.vP.As()||(f="&ContentType=png"),g?c+"/Page/q/"+b.toString()+"/"+d+"?DocumentID=u"+encodeURIComponent(e)+f:c+"/Page/q/"+b.toString()+"/"+d+"?DocumentID=e"+a+f)};this.get_urlArt=function(c,d,f){d=d||"Art";
f=f||"";if(null===f||""===f){if("Art"===d)return c+"/Page/q/"+b.toString()+"/"+d+"?DocumentID=e"+a}else return c+"/Page/q/"+b.toString()+"/"+d+"?DocumentID=e"+a+"&"+f};this.get_identifier=function(){return IPCC.gE.GV(a)};this.get_encodedIdentifier=function(){return a};this.toString=function(){return'Image("'+a+'", '+this.ba+", "+this.width+" x "+this.height+", "+this.he+", "+this.hc+")"};this.IW=function(a,b,c){function d(){C=!1;1>e&&(t.open("GET",k.get_url(a,"Attributes"),!0),t.setRequestHeader("Content-Type",
"application/json"),t.onreadystatechange=f,e++,!0===E&&(D=!1,y=setTimeout(J,b.iR())),t.send())}function f(){try{var a,g,m,r,K,M=a;if(4===t.readyState)if(a=t.status,200===t.status){g=null;try{if(!0===E&&y&&(clearTimeout(y),y=null),C){var Z;if("true"===t.getResponseHeader("Accusoft-Data-Encrypted")&&!0===b.ej()){var A=IPCC.Web.hA.qM.sJ(t.getResponseHeader("Accusoft-Data-SK")),F=IPCC.Web.EE(A,L),J=IPCC.Web.ED(t),T=IPCC.Web.BS(J,F,L);Z=IPCC.Web.hA.Bs.lW(T)}else Z=t.responseText;var W=1E3<=Z.length?Z.substring(0,
1E3):Z.substring(0,Z.length),ha,ja;try{ha=W.match(/width=\"([0-9.]+)\"/);ja=W.match(/height=\"([0-9.]+)\"/);if(ha&&ja)ha=Number(ha[1]),ja=Number(ja[1]);else throw"error";if(isNaN(ha)||isNaN(ja))throw"error";k.width=ha;k.height=ja;k.he=72;k.hc=72;k.Bx=!0;k.tj=!1;b&&typeof("function"===b.Rz)&&b.Rz(k.Bx);c&&c()}catch(aa){var ka,V;try{V="undefined"!==typeof JSON?JSON.parse(W):IPCC.bY.pk(W)}catch(Na){V=void 0,C=!0}if(ka=V)w(ka,t.status);else if(C&&1>e)C=!1,setTimeout(d,10);else if(b.K("openPage",aa),"function"===
typeof b.aR){var ma=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs;ma.exception=aa;ma.pageNumber=b.ba;b.aR("pageOpenFailed",ma)}}}else g="undefined"!==typeof JSON?JSON.parse(t.responseText):IPCC.bY.pk(t.responseText),w(g,t.status)}catch(aa){if(C&&(C=!1,1>e)){setTimeout(d,10);return}m="Attributes parsing error, Error meesage = "+aa.message;throw new IPCC.Web.UI.ImGearArgumentException(null,m);}}else if(200>a||300<=a){!0===E&&y&&(clearTimeout(y),y=null);if(480===a)throw e++,m=t.statusText&&""!==t.statusText?
m="PDF file password required, error message from the server: "+t.statusText:"PDF file password required.",new IPCC.Web.UI.ImGearHttpException(a,m);if(403===a)throw e++,m=t.statusText&&""!==t.statusText?"Expired viewer session ID, error message from the server: "+t.statusText:"Expired viewer session ID. Np error text message was received from the server:",new IPCC.Web.UI.ImGearHttpException(a,m);if(C&&(C=!1,1>e)){setTimeout(d,10);return}M=t.status;if(r=t.getResponseHeader("Accusoft-Status-Message")){var da;
K=t.getResponseHeader("Accusoft-Status-Number");IPCC.Web.vq(K)&&(da=parseInt(K,10));throw new IPCC.Web.UI.ImGearHttpException(M,r,da);}if(D)throw new IPCC.Web.UI.ImGearHttpException(M,"Client timed out on load");m=t.statusText&&""!==t.statusText?"Error message from the service: "+t.statusText:"HTTP Error was received from the image server but the server did not provide any error description.";throw new IPCC.Web.UI.ImGearHttpException(M,m);}}catch(aa){if(C&&(C=!1,1>e)){setTimeout(d,10);return}b.K("openPage",
aa);"function"===typeof b.aR&&(a=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs,a.exception=aa,a.pageNumber=b.ba,b.aR("pageOpenFailed",a))}}b.ba=this.ba;var e=0,C=b.oe();C&&9>document.documentMode&&(C=!1);var E=!0;0===b.iR()&&(E=!1);var w=function(a){try{if(null===a)throw new IPCC.Web.UI.ImGearArgumentException(null,"Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null");a.errorCode?"SvgNotAvailable"===a.errorCode&&(C=!1,k.width=+a.pageAttributes.imageWidth,
k.height=+a.pageAttributes.imageHeight,k.he=+a.pageAttributes.imageXResolution,0>=k.he&&(k.he=72),k.hc=+a.pageAttributes.imageYResolution,0>=k.hc&&(k.hc=72),k.ef=+a.pageAttributes.pageCount,k.tj="false"!==a.pageAttributes.isRaster,g(a.pageAttributes.contentType,b)):(k.width=+a.imageWidth,k.height=+a.imageHeight,k.he=+a.imageXResolution,0>=k.he&&(k.he=72),k.hc=+a.imageYResolution,0>=k.hc&&(k.hc=72),k.ef=+a.pageCount,k.tj="false"!==a.isRaster,g(a.contentType,b));a=!1;"true"===t.getResponseHeader("Accusoft-Data-Encrypted")&&
(a=!0);b.adx(a);c&&c()}catch(d){b.K("openPage",d),"function"===typeof b.aR&&(a=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs,a.exception=d,a.pageNumber=b.ba,b.aR("pageOpenFailed",a))}},t=new XMLHttpRequest,y,D,J=function(){y=null;D=!0;t.abort()},L=IPCC.Web.ot.Ox(4,IPCC.Web.RR()),F=IPCC.Web.hA.Fd.lW(L);C?(!0===b.ej()?(L=IPCC.Web.ot.VA(4,IPCC.Web.RR()),F=IPCC.Web.hA.Fd.lW(L),F=this.get_url(a,"SvgImage","Scale=1&ContentType="+IPCC.bg.Mb+"&iv="+F)):F=this.get_url(a,"SvgImage","Scale=1&ContentType="+IPCC.bg.Mb),
t.open("GET",F,!0),t.responseType="text",t.open("GET",F,!0)):(t.open("GET",this.get_url(a,"Attributes"),!0),t.setRequestHeader("Content-Type","application/json"));t.onreadystatechange=f;!0===E&&(D=!1,y=setTimeout(J,b.iR()));t.send()};this.axz=function(a,b,c){b.ba=this.ba;var d=0,f=!0;0===b.iR()&&(f=!1);var e=new XMLHttpRequest,g,E,w=function(){g=null;E=!0;e.abort()};e.open("GET",this.get_url(a,"Attributes"),!0);e.setRequestHeader("Content-Type","application/json");e.onreadystatechange=function(){try{var a,
m,w,J,L,F=a;if(4===e.readyState)if(a=e.status,200===e.status){m=null;try{!0===f&&g&&(clearTimeout(g),g=null);a=m="undefined"!==typeof JSON?JSON.parse(e.responseText):IPCC.bY.pk(e.responseText);try{if(null===a)throw new IPCC.Web.UI.ImGearArgumentException(null,"Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null");k.width=+a.imageWidth;k.height=+a.imageHeight;k.he=+a.imageXResolution;0>=k.he&&(k.he=72);k.hc=+a.imageYResolution;0>=k.hc&&(k.hc=
72);k.ef=+a.pageCount;k.tj=!0;a=!1;"true"===e.getResponseHeader("Accusoft-Data-Encrypted")&&(a=!0);b.adx(a);c&&c()}catch(B){if(b.K("openPage",B),"function"===typeof b.aR){var p=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs;p.exception=B;p.pageNumber=b.ba;b.aR("pageOpenFailed",p)}}}catch(B){throw w="Attributes parsing error, Error meesage = "+B.message,new IPCC.Web.UI.ImGearArgumentException(null,w);}}else if(200>a||300<=a){!0===f&&g&&(clearTimeout(g),g=null);if(480===a)throw d++,w=e.statusText&&""!==
e.statusText?w="PDF file password required, error message from the server: "+e.statusText:"PDF file password required.",new IPCC.Web.UI.ImGearHttpException(a,w);if(403===a)throw d++,w=e.statusText&&""!==e.statusText?"Expired viewer session ID, error message from the server: "+e.statusText:"Expired viewer session ID. No error text message was received from the server:",new IPCC.Web.UI.ImGearHttpException(a,w);F=e.status;if(J=e.getResponseHeader("Accusoft-Status-Message")){var H;L=e.getResponseHeader("Accusoft-Status-Number");
IPCC.Web.vq(L)&&(H=parseInt(L,10));throw new IPCC.Web.UI.ImGearHttpException(F,J,H);}if(E)throw new IPCC.Web.UI.ImGearHttpException(F,"Client timed out on load");w=e.statusText&&""!==e.statusText?"Error message from the service: "+e.statusText:"HTTP Error was received from the image server but the server did not provide any error description.";throw new IPCC.Web.UI.ImGearHttpException(F,w);}}catch(B){b.K("openPageForRaster",B),"function"===typeof b.aR&&(w=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs,
w.exception=B,w.pageNumber=b.ba,b.aR("pageOpenFailed",w))}};!0===f&&(E=!1,g=setTimeout(w,b.iR()));e.send()};return this};IPCC.gE.prototype=new IPCC.Fe(0,0,0,0);IPCC.gE.prototype.clone=function(){var a=new IPCC.gE(this.get_encodedIdentifier(),this.ba,this.width,this.height,this.he,this.hc);a.ef=this.ef;a.tj=this.tj;return a};IPCC.gE.prototype.equals=function(a){return this.get_encodedIdentifier()!==a.get_encodedIdentifier()||this.ba!==a.ba?!1:!0};IPCC.gE.prototype.sI=8;IPCC.gE.prototype.tJ=1E-6;
IPCC.gE.Ss=function(a){var b=a.referenceDocumentIdentifier,d=IPCC.gE.sH(b),c=a.encodedDocumentIdentifier,e=a.documentIdentifier,f;""===c&&(c=void 0);""===e&&(e=void 0);b&&""!==b&&(c===d&&(c=void 0),e===b&&(e=void 0));if(e)if(f=IPCC.gE.sH(e),c){if(c!==f)throw new IPCC.Web.UI.ImGearArgumentException("documentIdentifier","When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).");}else c=f;else c&&
(e=IPCC.gE.GV(c));c||(e=b,c=d);b=a.pageNumber;d=a.referencePageNumber;b===d&&(b=void 0);0===b||b||(b=d);a.encodedDocumentIdentifier=c;a.documentIdentifier=e;a.pageNumber=b};
IPCC.gE.sH=function(a){if(!a||""===a)return"";var b=[],d;for(d=0;d<a.length;d++)b.push(a.charCodeAt(d)%256),b.push(Math.floor(a.charCodeAt(d)/256));b.push(0);b.push(0);var c=[],e;for(d=0;d<b.length-1;d+=3)e=65536*b[d]+256*b[d+1]+b[d+2],c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(Math.floor(e/262144))),c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(Math.floor(e/4096)%64)),c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(Math.floor(e/
64)%64)),c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(e%64));for(a=Math.ceil(16*a.length/6);c.length>a;)c.pop();3===c.length%4?c.push("1"):2===c.length%4?c.push("2"):0===c.length%4&&c.push("0");return c.join("")};
IPCC.gE.GV=function(a){if(!a||""===a)return"";var b=a.length-1,d=[],c,e=[],f=[],g;for(g=0;g<b;g++)if(c=a.charCodeAt(g),64<c&&91>c)f.push(c-65);else if(96<c&&123>c)f.push(c-97+26);else if(47<c&&58>c)f.push(c-48+52);else if(45===c)f.push(62);else if(95===c)f.push(63);else return"";f.push(0);f.push(0);f.push(0);for(g=0;g<f.length-3;g+=4)a=262144*f[g]+4096*f[g+1]+64*f[g+2]+f[g+3],e.push(Math.floor(a/65536)),e.push(Math.floor(a/256)%256),e.push(a%256);for(g=0;g<e.length-1;g+=2)d.push(String.fromCharCode(e[g]+
256*e[g+1]));for(b=Math.floor(6*b/16);d.length>b;)d.pop();return d.join("")};IPCC.us=function(){this.V=this.aA=!1};IPCC.us.prototype.mR=function(a){a.bV().set_cursor(IPCC.ao.Magnifier);this.V=a};IPCC.us.prototype.gp=function(){this.V=!1};IPCC.us.prototype.aU=function(){this.aA&&(this.V.bV().hideMagnifier(),this.V.bV().set_cursor(this.il),this.aA=!1)};IPCC.us.prototype.rJ=function(){this.aU()};
IPCC.us.prototype.kN=function(a){this.aU();0===a.domEvent.button&&(this.il=this.V.bV().get_cursor(),this.V.bV().set_cursor(IPCC.ao.None),this.aA=!0,this.V.bV().showMagnifier(a.windowPoint),this.V.dR())};IPCC.us.prototype.jO=function(a){0!==a.domEvent.button&&this.aU();this.aA&&(this.V.bV().showMagnifier(a.windowPoint),this.V.dR())};IPCC.us.prototype.iX=function(){this.aU();this.V.dR()};
IPCC.us.prototype.qj=function(a){var b=this.V.dS();(0>=a.windowPoint.x||a.windowPoint.x>=b.width-2)&&this.aU();(0>=a.windowPoint.y||a.windowPoint.y>=b.height-2)&&this.aU()};IPCC.nz=function(){this.V=this.aA=!1};IPCC.nz.prototype.mR=function(a){a.bV().set_cursor(IPCC.ao.RectangleZoom);this.V=a};IPCC.nz.prototype.gp=function(){this.V=!1};IPCC.nz.prototype.aU=function(){this.aA&&(this.V.bV().qw(),this.V.bV().set_cursor(this.il),this.aA=!1,this.V.dR())};IPCC.nz.prototype.rJ=function(){this.aU();this.V.dR()};
IPCC.nz.prototype.kN=function(a){this.aU();if(0===a.domEvent.button){var b=this.V.bV();this.il=b.get_cursor();b.set_cursor(IPCC.ao.RectangleZoom);this.aA=!0;b.Eq(a.constrainedImagePoint);this.uq=a.windowPoint;this.V.dR()}};IPCC.nz.prototype.jO=function(a){0!==a.domEvent.button&&this.aU();this.aA&&(this.V.bV().AW(a.constrainedImagePoint),this.V.dR())};
IPCC.nz.prototype.iX=function(a){if(this.aA&&0===a.domEvent.button){var b=a.windowPoint.x-this.uq.x,d=b*b,b=a.windowPoint.y-this.uq.y;if(25<d+b*b){var b=this.V,d=b.bV(),c=d.hj(),e=b.dS(),f=e.width,g=e.height,k=b.cQ();d.AW(a.constrainedImagePoint);a=d.xm();d.qw();b.aR("userModifiedViewState",{});c.QF(k,e,a);c.lq(k,e);d.hK(c);b.dR();if(f!==e.width||g!==e.height)c=d.hj(),c.QF(k,e,a),c.lq(k,e),d.hK(c)}}this.aU()};
IPCC.nz.prototype.qj=function(a){var b=this.V.dS();(0>=a.windowPoint.x||a.windowPoint.x>=b.width-2)&&this.aU();(0>=a.windowPoint.y||a.windowPoint.y>=b.height-2)&&this.aU()};IPCC.nz.prototype.mG=function(){this.aU()};IPCC.sq=function(){this.V=this.aA=!1};IPCC.sq.prototype.mR=function(a){a.bV().set_cursor(IPCC.ao.HandOpen);this.V=a};IPCC.sq.prototype.gp=function(){this.V=!1};IPCC.sq.prototype.aU=function(){this.aA&&(this.V.bV().set_cursor(this.il),this.aA=!1)};IPCC.sq.prototype.rJ=function(){this.aU()};
IPCC.sq.prototype.kN=function(a){this.aU();0===a.domEvent.button&&(this.il=this.V.bV().get_cursor(),this.V.bV().set_cursor(IPCC.ao.HandClosed),this.aA=!0,this.Ow=a.imagePoint)};IPCC.sq.prototype.jO=function(a){0!==a.domEvent.button&&this.aU();if(this.aA){var b=this.V,d=b.bV(),c=d.hj(),e=b.dS();c.WN(this.Ow,a.windowPoint);c.lq(b.cQ(),e);b.aR("userModifiedViewState",{});d.hK(c);b.dR()}};IPCC.sq.prototype.iX=function(){this.aU()};
IPCC.sq.prototype.qj=function(a){var b=this.V.dS();(0>=a.windowPoint.x||a.windowPoint.x>=b.width-2)&&this.aU();(0>=a.windowPoint.y||a.windowPoint.y>=b.height-2)&&this.aU()};IPCC.sq.prototype.mG=function(){this.aU()};IPCC.rY=function(){this.V=this.aA=!1};IPCC.rY.prototype.mR=function(a){a.bV().set_cursor(IPCC.ao.Crosshair);this.V=a};IPCC.rY.prototype.gp=function(){this.V=!1};IPCC.rY.prototype.aU=function(){this.aA&&(this.V.qw(),this.V.bV().set_cursor(this.il),this.aA=!1,this.V.dR())};
IPCC.rY.prototype.rJ=function(){this.aU()};IPCC.rY.prototype.kN=function(a){this.aU();if(0===a.domEvent.button){var b=this.V.bV();this.il=b.get_cursor();b.set_cursor(IPCC.ao.Crosshair);this.aA=!0;b.Eq(a.constrainedImagePoint);this.V.dR()}};IPCC.rY.prototype.jO=function(a){0!==a.domEvent.button&&this.aU();this.aA&&(this.V.bV().AW(a.constrainedImagePoint),this.V.dR())};IPCC.rY.prototype.iX=function(a){0===a.domEvent.button&&(this.aA=!1);this.aU()};
IPCC.rY.prototype.qj=function(a){var b=this.V.dS();(0>=a.windowPoint.x||a.windowPoint.x>=b.width-2)&&this.aU();(0>=a.windowPoint.y||a.windowPoint.y>=b.height-2)&&this.aU()};IPCC.rY.prototype.mG=function(){this.aU()};IPCC.fN=function(){this.V=!1;this.apG=1.5};IPCC.fN.prototype.mR=function(a){this.V=a};IPCC.fN.prototype.gp=function(){this.V=!1};IPCC.fN.prototype.aU=function(){};
IPCC.fN.prototype.mG=function(a){var b=this.V.bV(),d=this.V.cQ(),c=this.V.dS(),e=b.hj(),f=a.wheelDelta/120;if(a.domEvent.ctrlKey){a.domEvent.preventDefault();var g=(this.apG-1)/2+1;0>f&&(g=1/g);f=e.vg();f*g>d.sI&&(g=d.sI/f);f*g<d.tJ&&(g=d.tJ/f);e.yS(g,g,a.windowPoint.x,a.windowPoint.y);e.lq(d,c);this.V.aR("userModifiedViewState",{});b.hK(e)}else if(g=e.transform({x:0,y:0}),e.oV(0,f*c.hc),e.lq(d,c),d=e.transform({x:0,y:0}),.001<Math.abs(g.x-d.x)||.001<Math.abs(g.y-d.y))a.domEvent.preventDefault(),
this.V.aR("userModifiedViewState",{}),b.hK(e);this.V.dR()};
IPCC.eL=function(a){this.V=this.aA=!1;this.aQ=a;switch(this.aQ){case IPCC.Web.UI.MarkType.Rectangle:this.df=IPCC.ao.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.df=IPCC.ao.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:this.df=IPCC.ao.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.df=IPCC.ao.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.df=IPCC.ao.AddImageStampMark;
break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.df=IPCC.ao.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:this.df=IPCC.ao.AddRectangleMark}};IPCC.eL.prototype.mR=function(a){a.bV().set_cursor(this.df);this.V=a};IPCC.eL.prototype.gp=function(){this.V=!1};
IPCC.eL.prototype.aU=function(){this.aA&&(this.G=null,this.V.oH(null),this.V.bV().set_cursor(this.il),this.aA=!1,this.V.dR())};IPCC.eL.prototype.rJ=function(){this.aU()};IPCC.eL.prototype.kN=function(a){this.aU();if(0===a.domEvent.button){var b=this.V.bV();this.il=b.get_cursor();b.set_cursor(this.df);this.aA=!0;this.G=new IPCC.Web.UI.Mark(this.aQ);this.G.set_rectangle({x:a.imagePoint.x,y:a.imagePoint.y,width:0,height:0});this.V.oH(this.G);this.sK=a.imagePoint;this.uq=a.windowPoint}};
IPCC.eL.prototype.jO=function(a){0!==a.domEvent.button&&this.aU();if(this.aA){var b={x:Math.min(a.imagePoint.x,this.sK.x),y:Math.min(a.imagePoint.y,this.sK.y)};b.width=Math.max(a.imagePoint.x,this.sK.x)-b.x;b.height=Math.max(a.imagePoint.y,this.sK.y)-b.y;this.G.set_rectangle(b);this.V.dR()}};
IPCC.eL.prototype.iX=function(a){if(this.aA&&0===a.domEvent.button){var b=a.windowPoint.x-this.uq.x,d=b*b,b=a.windowPoint.y-this.uq.y;25<d+b*b&&(b={x:Math.min(a.imagePoint.x,this.sK.x),y:Math.min(a.imagePoint.y,this.sK.y)},b.width=Math.max(a.imagePoint.x,this.sK.x)-b.x,b.height=Math.max(a.imagePoint.y,this.sK.y)-b.y,this.V.oH(null),this.G.set_rectangle(b),b=this.G,d=this.V,a={clientX:a.domEvent.clientX,clientY:a.domEvent.clientY},this.V.eA().addMark(this.G,a),b.jJ()!==IPCC.Web.UI.MarkType.Text&&b.jJ()!==
IPCC.Web.UI.MarkType.TextLine||d.AV(b),d.dR())}this.aU()};IPCC.eL.prototype.qj=function(a){var b=this.V.dS();(0>=a.windowPoint.x||a.windowPoint.x>=b.width-2)&&this.aU();(0>=a.windowPoint.y||a.windowPoint.y>=b.height-2)&&this.aU()};IPCC.eL.prototype.mG=function(){this.aU()};IPCC.pJ=function(){this.V=this.aA=!1;this.df=IPCC.ao.AddLineMark};IPCC.pJ.prototype.mR=function(a){a.bV().set_cursor(this.df);this.V=a};IPCC.pJ.prototype.gp=function(){this.V=!1};
IPCC.pJ.prototype.aU=function(){this.aA&&(this.G=null,this.V.oH(null),this.V.bV().set_cursor(this.il),this.aA=!1,this.V.dR())};IPCC.pJ.prototype.rJ=function(){this.aU()};
IPCC.pJ.prototype.kN=function(a){this.aU();if(0===a.domEvent.button){var b=this.V.bV();this.il=b.get_cursor();b.set_cursor(this.df);this.aA=!0;this.G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.G.get_points().setPoint(0,a.imagePoint);this.G.get_points().setPoint(1,a.imagePoint);this.V.oH(this.G);this.sK=a.imagePoint;this.uq=a.windowPoint}};IPCC.pJ.prototype.jO=function(a){0!==a.domEvent.button&&this.aU();this.aA&&(this.G.get_points().setPoint(1,a.imagePoint),this.V.dR())};
IPCC.pJ.prototype.iX=function(a){if(this.aA&&0===a.domEvent.button){var b=a.windowPoint.x-this.uq.x,d=b*b,b=a.windowPoint.y-this.uq.y;25<d+b*b&&(b=this.V,d={clientX:a.domEvent.clientX,clientY:a.domEvent.clientY},this.G.get_points().setPoint(1,a.imagePoint),this.V.oH(null),this.V.eA().addMark(this.G,d),b.dR())}this.aU()};IPCC.pJ.prototype.qj=function(a){var b=this.V.dS();(0>=a.windowPoint.x||a.windowPoint.x>=b.width-2)&&this.aU();(0>=a.windowPoint.y||a.windowPoint.y>=b.height-2)&&this.aU()};
IPCC.pJ.prototype.mG=function(){this.aU()};IPCC.qZ=function(){this.V=this.aA=!1;this.df=IPCC.ao.AddFreehandMark};IPCC.qZ.prototype.mR=function(a){a.bV().set_cursor(this.df);this.V=a};IPCC.qZ.prototype.gp=function(){this.V=!1};IPCC.qZ.prototype.aU=function(){this.aA&&(this.nV=this.G=null,this.V.oH(null),this.V.bV().set_cursor(this.il),this.aA=!1)};IPCC.qZ.prototype.rJ=function(){this.aU()};
IPCC.qZ.prototype.kN=function(a){this.aU();if(0===a.domEvent.button){var b=this.V.bV();this.il=b.get_cursor();b.set_cursor(this.df);this.aA=!0;this.G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.G.get_points().addPoint(a.imagePoint);this.nV=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.V.oH(this.G,this.nV);this.G.set_lineWidth(this.nV.ep);this.G.set_lineColor(this.nV.hG);this.G.set_opacity(this.nV.cv);this.sK=a.imagePoint;this.uq=a.windowPoint;this.V.dR()}};
IPCC.qZ.prototype.jO=function(a){0!==a.domEvent.button&&this.aU();this.aA&&(this.G.get_points().addPoint(a.imagePoint),this.V.dR())};
IPCC.qZ.prototype.iX=function(a){if(this.aA&&0===a.domEvent.button){this.G.get_points().addPoint(a.imagePoint);for(var b=this.G.get_points(),d=[],c=Number.MAX_VALUE,e=0,f=Number.MAX_VALUE,g=0,k=0,k=0;k<b.get_length();k++){var m=b.getPoint(k);m.x<c&&(c=m.x);m.x>e&&(e=m.x);m.y<f&&(f=m.y);m.y>g&&(g=m.y);d.push({x:m.x,y:m.y})}var q,b=3>d.length?d:IPCC.bg.filter(d,function(a){if(q){var b=a.x-q.x,d=a.y-q.y;if(4>Math.sqrt(b*b+d*d))return!1}a.x-=c;a.y-=f;q=a;return!0});3>b.length&&(b=[d[0],d[d.length-1]]);
d="";q=void 0;3>b.length?d+=this.RN(b):(d="M"+IPCC.bg.bspline(b),d=d.replace(/\d*\.?\d*/g,function(a){var b=a.indexOf(".");return a.length&&0<b?a.substr(0,b+3):a}));e-=c;g-=f;a={clientX:a.domEvent.clientX,clientY:a.domEvent.clientY};this.nV.set_rectangle({x:c,y:f,width:e,height:g});this.nV.set_pathString(d);this.nV.set_pathWidth(e);this.nV.set_pathHeight(g);this.V.oH(null);this.V.eA().addMark(this.nV,a);this.V.dR()}this.aU()};
IPCC.qZ.prototype.RN=function(a,b){var d=b&&IPCC.bg.DZ?"m":"M",c=b&&IPCC.bg.DZ?"l":"L";return IPCC.bg.map(a,function(a,b){return 0===b?d+a.x+","+a.y:c+a.x+","+a.y}).join("")};IPCC.qZ.prototype.qj=function(a){var b=this.V.dS();(0>=a.windowPoint.x||a.windowPoint.x>=b.width-2)&&this.aU();(0>=a.windowPoint.y||a.windowPoint.y>=b.height-2)&&this.aU()};IPCC.qZ.prototype.mG=function(){this.aU()};
IPCC.oy=function(a){this.V=this.aA=!1;this.aQ=a;switch(this.aQ){case IPCC.Web.UI.MarkType.Polygon:this.df=IPCC.ao.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.df=IPCC.ao.AddPolylineMark,this.YT=!1}};IPCC.oy.prototype.mR=function(a){a.bV().set_cursor(this.df);this.V=a};IPCC.oy.prototype.gp=function(){this.V=!1};
IPCC.oy.prototype.aU=function(a){this.aA&&(a&&!0===a&&this.G&&!1===this.YT&&(this.V.eA().addMark(this.G),this.YT=!0,this.V.dR()),this.G=null,this.V.oH(null),this.V.bV().set_cursor(this.il),this.aA=!1,this.V.dR())};IPCC.oy.prototype.rJ=function(){this.aU()};
IPCC.oy.prototype.kN=function(a){if(0===a.domEvent.button){if(!this.aA){var b=this.V.bV();this.il=b.get_cursor();b.set_cursor(this.df);this.aA=!0;this.G=new IPCC.Web.UI.Mark(this.aQ);this.G.get_points().addPoint(a.imagePoint);this.V.oH(this.G)}b=this.G.get_points();0<b.get_length()&&b.setPoint(b.get_length()-1,a.imagePoint);b.addPoint(a.imagePoint);this.sK=a.imagePoint;this.uq=a.windowPoint;this.V.dR()}else this.aU()};
IPCC.oy.prototype.wI=function(a){if(this.aA&&0===a.domEvent.button){var b=this.G.get_points(),d=b.get_length(),c,e;if(2<d)for(var f=!0;f;)d=b.get_length(),c=b.getPoint(d-1),e=b.getPoint(d-2),c.x===e.x&&c.y===e.y?b.removePoint(d-1):f=!1;0<b.get_length()&&b.setPoint(b.get_length()-1,a.imagePoint);this.V.oH(null);a={clientX:a.domEvent.clientX,clientY:a.domEvent.clientY};this.V.eA().addMark(this.G,a);this.YT=!0;this.V.dR()}this.aU()};
IPCC.oy.prototype.jO=function(a){0!==a.domEvent.button&&this.aU();if(this.aA){var b=this.G.get_points();0<b.get_length()&&b.setPoint(b.get_length()-1,a.imagePoint);this.V.dR()}};IPCC.oy.prototype.qj=function(a){var b=this.V.dS();(0>=a.windowPoint.x||a.windowPoint.x>=b.width-2)&&this.aU();(0>=a.windowPoint.y||a.windowPoint.y>=b.height-2)&&this.aU()};IPCC.oy.prototype.mG=function(){this.aU()};IPCC.iE=!0;
IPCC.eJ={aci:1,aaT:2,VS:3,aiR:4,ajZ:5,JT:6,PN:7,amI:8,amB:9,akk:10,akh:11,ajM:12,ajS:13,ahc:14,aaz:15,adD:16};IPCC.amw=null;
IPCC.gQ=function(a,b){this.V=!1;this.abc=a;a=IPCC.Web.UI;b&&null!==b||(b=IPCC.amw);this.aB=b;var d={bz:b.panToolMenuItem,h:a.MouseTool.HandPan},c={bz:b.areaSelectionToolMenuItem,h:a.MouseTool.Select},e={bz:b.zoomRectangleToolMenuItem,h:a.MouseTool.RectangleZoom},f={bz:b.flyingMagnifierToolMenuItem,h:a.MouseTool.Magnifier},g={bz:b.createTextMarkToolMenuItem,h:a.MouseTool.CreateTextMark},k={bz:b.createLineMarkToolMenuItem,h:a.MouseTool.CreateLineMark},m={bz:b.createRectangleMarkToolMenuItem,h:a.MouseTool.CreateRectangleMark},
q={bz:b.createEllipseMarkToolMenuItem,h:a.MouseTool.CreateEllipseMark},n={bz:b.editMarksToolMenuItem,h:a.MouseTool.EditMarks},u={bz:b.createStampMarkToolMenuItem,h:a.MouseTool.CreateStampMark},r={bz:b.createHighlightMarkToolMenuItem,h:a.MouseTool.CreateHighlightTextMark},l={bb:55,eE:[{bz:b.thicknessMenu.item1,h:1},{bz:b.thicknessMenu.item2,h:2},{bz:b.thicknessMenu.item3,h:3},{bz:b.thicknessMenu.item4,h:4},{bz:b.thicknessMenu.item5,h:5},{bz:b.thicknessMenu.item6,h:6},{bz:b.thicknessMenu.item7,h:7},
{bz:b.thicknessMenu.item8,h:8}]},C={bz:b.borderThicknessMenuItem,fn:IPCC.eJ.JT,cZ:"lineWidth",lE:l},E={bz:b.borderColorMenuItem,fn:IPCC.eJ.PN,cZ:"lineColor"},w={bz:b.fillColorMenuItem,fn:IPCC.eJ.PN,cZ:"fillColor"},t={bz:b.lineThicknessMenuItem,fn:IPCC.eJ.JT,cZ:"lineWidth",lE:l},y={bz:b.lineColorMenuItem,fn:IPCC.eJ.PN,cZ:"lineColor"},D={bz:b.opacityMenuItem,fn:IPCC.eJ.JT,cZ:"opacity",lE:{bb:145,eE:[{bz:b.opacityMenu.translucent,h:127},{bz:b.opacityMenu.opaque,h:255}]}},l={bz:b.deleteMarkMenuItem,fn:IPCC.eJ.ahc},
J={bb:150,bz:b.rectangleMarkPropertiesMenuItem,lE:{bb:150,eE:[w,C,E,null,D]}},L={bb:150,bz:b.rectangleMarkPropertiesMenuItem,lE:{bb:150,eE:[w,C,E,null,null]}},F={bz:b.textMarkPropertiesMenuItem,lE:{bb:150,eE:[{bz:b.fontMenuItem,fn:IPCC.eJ.amI},w,C,E,null,null,null,D]}},C={bz:b.polygonMarkPropertiesMenuItem,lE:{bb:150,eE:[w,C,E,null,D]}},E={bz:b.polylineMarkPropertiesMenuItem,lE:{bb:140,eE:[t,y,null,D]}},t={bz:b.lineMarkPropertiesMenuItem,lE:{bb:140,eE:[t,y,null,null]}},y={bz:b.markOrderingMenuItem,
lE:{bb:140,eE:[{bz:b.moveToFrontMenuItem,fn:IPCC.eJ.ajS},{bz:b.moveForwardMenuItem,fn:IPCC.eJ.ajM},{bz:b.moveBackwardMenuItem,fn:IPCC.eJ.akh},{bz:b.moveToBackMenuItem,fn:IPCC.eJ.akk}]}},w={bz:b.stampMarkPropertiesMenuItem,lE:{bb:150,eE:[w]}};this.anX={bb:180,eE:[{bz:b.zoomInMenuItem,fn:IPCC.eJ.aci,h:1.25},{bz:b.zoomOutMenuItem,fn:IPCC.eJ.aaT,h:1.25},{bz:b.zoomToFitMenuItem,fn:IPCC.eJ.aaz,lE:{bb:180,eE:[{bz:b.fullImageMenuItem,h:a.FitType.FullImage},{bz:b.fullWidthMenuItem,h:a.FitType.FullWidth},{bz:b.fullHeightMenuItem,
h:a.FitType.FullHeight},{bz:b.oneToOneRatioMenuItem,h:a.FitType.OneToOne},{bz:b.actualSizeMenuItem,h:a.FitType.ActualSize}]}},{bz:b.orientationMenuItem,lE:{bb:200,eE:[{bz:b.rotateRightMenuItem,fn:IPCC.eJ.VS,h:90},{bz:b.rotateLeftMenuItem,fn:IPCC.eJ.VS,h:-90},{bz:b.mirrorHorizontalMenuItem,fn:IPCC.eJ.aiR},{bz:b.mirrorVerticalMenuItem,fn:IPCC.eJ.ajZ}]}},{bz:b.mouseToolsMenuItem,fn:IPCC.eJ.adD,lE:IPCC.bD?!1===IPCC.iE?{bb:180,eE:[d,e,f,c,null]}:{bb:180,eE:[d,e,f,c,null,n,g,k,m,q,u,r]}:{bb:180,eE:[d,e,
f,c]}}]};this.aoc={bb:140,eE:[F,y,l]};this.aAv={bb:140,eE:[J,y,l]};this.app={bb:140,eE:[w,y,l]};this.aph={bb:140,eE:[null,y,l]};this.apI={bb:140,eE:[L,y,l]};this.axA={bb:140,eE:[C,y,l]};this.axW={bb:140,eE:[E,y,l]};this.aCI={bb:140,eE:[t,y,l]};this.aEe={bb:140,eE:[w,null,l]}};IPCC.gQ.prototype.mR=function(a){this.V=a};IPCC.gQ.prototype.gp=function(){this.V=!1};IPCC.gQ.prototype.aU=function(){};
IPCC.gQ.prototype.Sc=function(a){function b(d){if(q&&(d=d.target,!d||null!==d)){for(var f,e;d&&d!==document.body&&null!==d.parentNode;)d&&null!==d&&(d===q&&(e=!0),!f&&d.ImGearCommand&&(f=d.ImGearCommand),d=d.parentNode);if(!e||f)IPCC.Web.UI.aE.removeHandler(document.body,"mousedown",b),IPCC.Web.UI.aE.removeHandler(document.body,"mousemove",c),document.body.removeChild(q),q=null,f&&(f.TI=a,m.aqC(f))}}function d(a,b,c,f){var e=!1,g;for(g=0;g<b.length;g++)a===b[g]&&(e=!0);a.style.display=e||"menu"!==
a.ImGearType?"block":"none";for(a=a.firstChild;a;)"menuItemHighlight"===a.ImGearType&&(a.style.display=a===f?"block":"none"),a.firstChild&&d(a,b,c,f),a=a.nextSibling}function c(a){if(q&&(a=a.target,!a||null!==a)){for(var b=[q],c,f;a&&a!==document.body&&null!==a.parentNode;)c||"menuItem"!==a.ImGearType||(c=a),"menu"===a.ImGearType&&b.push(a),a=a.parentNode;if(c)for(a=c.firstChild;a;)"menuItemHighlight"===a.ImGearType?f=a:"menu"===a.ImGearType&&b.push(a),a=a.nextSibling;d(q,b,c,f)}}var e;if(a.mark&&
this.abc){var f=a.mark.hX();switch(a.mark.get_type()){case IPCC.Web.UI.MarkType.Line:e=this.aCI;break;case IPCC.Web.UI.MarkType.Polyline:e=this.axW;break;case IPCC.Web.UI.MarkType.Rectangle:e=this.aAv;break;case IPCC.Web.UI.MarkType.Ellipse:e=this.apI;break;case IPCC.Web.UI.MarkType.Polygon:e=this.axA;break;case IPCC.Web.UI.MarkType.Text:e=this.aoc;break;case IPCC.Web.UI.MarkType.Stamp:e=!0===f?this.aph:this.app;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:"y"===
a.mark.ly&&(e=this.aEe)}}e||(e=this.anX);var f=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft,g=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop,k=new IPCC.Web.UI.Point(a.domEvent.clientX+f,a.domEvent.clientY+g),m=this,q=this.alX(e,!1,!1,k,k,!0,window.innerWidth?{x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight}:
document.documentElement.clientWidth?{x:f,y:g,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}:{x:f,y:g,width:document.body.clientWidth,height:document.body.clientHeight},document.body,a.mark);d(q,[q],null,null);document.body.appendChild(q);IPCC.Web.UI.aE.addHandler(document.body,"mousedown",b);IPCC.Web.UI.aE.addHandler(document.body,"mousemove",c)};
IPCC.gQ.prototype.alX=function(a,b,d,c,e,f,g,k,m){function q(a){var b=document.createElement("div"),c;for(c in a)a.hasOwnProperty(c)&&(b.style[c]=a[c]);return b}var n,u=0;for(n=0;n<a.eE.length;n++)u=a.eE[n]?u+24:u+1;var r;f&&(r=e.x+a.bb,r>g.x+g.width&&(f=!1));f||(r=c.x-a.bb,r<g.x&&(f=!0));r=e.x;e=e.y;f||(r=c.x-a.bb-2,e=c.y-2);n=g.y+g.height-u-8;e>n&&(e=n);e<g.y+2&&(e=g.y+2);c=q({zIndex:2,width:a.bb+"px",left:r+"px",top:e+"px",margin:"0px",padding:"0px",border:"1px solid #C0C0C0",position:"absolute",
backgroundColor:"#F0F0F0",color:"Black",fontSize:"11px",fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",boxShadow:"0 2px 3px rgba(0,0,0,.2)"});c.ImGearType="menu";for(n=0;n<a.eE.length;n++){var u=a.eE[n],l;if(u){l=q({position:"relative",height:"24px"});l.ImGearType="menuItem";var C=q({position:"absolute",width:"24px",overflow:"hidden",borderRight:"1px solid #E0E0E0",height:"24px",textAlign:"center"});l.appendChild(C);var E=q({textOverflow:"ellipsis",whiteSpace:"nowrap",width:a.bb-44+"px",
position:"absolute",left:"25px",padding:"0 0 0 4px",overflow:"hidden",borderLeft:"1px solid #FFFFFF",height:"24px",lineHeight:"24px"});l.appendChild(E);var w=q({display:"none",position:"absolute",height:"24px",width:a.bb+"px",backgroundColor:"#00C0E0",filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=30)",opacity:".3"});w.ImGearType="menuItemHighlight";l.appendChild(w);E.appendChild(document.createTextNode(u.bz));E=u.fn||b;if(w=u.cZ||d)E===IPCC.eJ.JT?m["get_"+w]()===u.h&&(this.V.nY()?C.style.backgroundImage=
"url('"+this.V.nY()+"/MenuIcons.png')":C.style.backgroundImage="url('<%=WebResource(\"IPCC.Web.UI.MenuIcons.png\")%>')",C.style.backgroundPosition="0px"):E===IPCC.eJ.amB&&m["get_"+w]()&&(this.V.nY()?C.style.backgroundImage="url('"+this.V.nY()+"/MenuIcons.png')":C.style.backgroundImage="url('<%=WebResource(\"IPCC.Web.UI.MenuIcons.png\")%>')",C.style.backgroundPosition="24px 0px");u.lE?this.alX(u.lE,E,w,{x:0,y:-1},{x:a.bb,y:-1},f,{x:g.x-r,y:g.y-e,width:g.width,height:g.height},l,m):l.ImGearCommand=
{fn:E,cZ:w,h:u.h};e+=24}else l=q({height:"1px",overflow:"hidden",backgroundColor:"#E0E0E0"}),e+=1;c.appendChild(l)}k.appendChild(c);return c};
IPCC.gQ.prototype.apZ=function(a,b,d){var c,e,f,g;function k(a){a=Math.floor(+a.value);isFinite(a)||(a=0);0>a&&(a=0);255<a&&(a=255);return a}function m(){IPCC.Web.UI.aE.removeHandler(w,"click",q);IPCC.Web.UI.aE.removeHandler(t,"click",n);IPCC.Web.UI.aE.removeHandler(document.body,"mousedown",u)}function q(){var c=65536*k(l)+256*k(C)+k(E);a["set_"+b]("#"+(16777216+c).toString(16).slice(1));m();document.body.removeChild(r);r=null;d.dR()}function n(){m();document.body.removeChild(r);r=null}function u(a){if(r){a=
a.target;for(var b;a!==document.body;)a===r&&(b=!0),a=a.parentNode;b||(m(),document.body.removeChild(r),r=null)}}c=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;e=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;window.innerWidth?(c=window.pageXOffset,e=window.pageYOffset,f=window.innerWidth,g=window.innerHeight):document.documentElement.clientWidth?(f=document.documentElement.clientWidth,
g=document.documentElement.clientHeight):(f=document.body.clientWidth,g=document.body.clientHeight);c+=f/2;e+=g/2;var r=document.createElement("div");r.innerHTML='\t<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;background-color:#F0F0F0;position:absolute;top:'+(e-85)+"px;left:"+(c-80)+'px;width:160px;height:170px;"><div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.aB.selectColor+
'</div><div style="position:relative;"><div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aB.red+':</div><input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" /><div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aB.green+':</div><input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" /><div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+
this.aB.blue+':</div><input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" /><button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aB.ok+'</button><button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aB.cancel+"</button></div></div>";
document.body.appendChild(r);var l=document.getElementById("ImGearColorRed"),C=document.getElementById("ImGearColorGreen"),E=document.getElementById("ImGearColorBlue"),w=document.getElementById("ImGearColorOKButton"),t=document.getElementById("ImGearColorCancelButton");c=a["get_"+b]();var y;7===c.length&&"#"===c.charAt(0)&&(y=parseInt(c.slice(1),16));l.value=y>>16;C.value=y>>8&255;E.value=y&255;IPCC.Web.UI.aE.addHandler(w,"click",q);IPCC.Web.UI.aE.addHandler(t,"click",n);IPCC.Web.UI.aE.addHandler(document.body,
"mousedown",u);l.focus()};
IPCC.gQ.prototype.aqj=function(a,b){var d,c,e,f;function g(){IPCC.Web.UI.aE.removeHandler(t,"click",k);IPCC.Web.UI.aE.removeHandler(y,"click",m);IPCC.Web.UI.aE.removeHandler(document.body,"mousedown",q)}function k(){a.set_fontName(u.value);var c=Math.floor(+r.value);isFinite(c)||(c=12);.1>c&&(c=.1);288<c&&(c=288);a.set_fontSize(c);c=0;l.checked&&(c|=IPCC.Web.UI.FontStyle.Italic);C.checked&&(c|=IPCC.Web.UI.FontStyle.Bold);E.checked&&(c|=IPCC.Web.UI.FontStyle.Underline);w.checked&&(c|=IPCC.Web.UI.FontStyle.Strikeout);
a.set_fontStyle(c);g();document.body.removeChild(n);n=null;b.dR()}function m(){g();document.body.removeChild(n);n=null}function q(a){if(n){a=a.target;for(var b;a!==document.body;)a===n&&(b=!0),a=a.parentNode;b||(g(),document.body.removeChild(n),n=null)}}d=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;c=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;window.innerWidth?
(d=window.pageXOffset,c=window.pageYOffset,e=window.innerWidth,f=window.innerHeight):document.documentElement.clientWidth?(e=document.documentElement.clientWidth,f=document.documentElement.clientHeight):(e=document.body.clientWidth,f=document.body.clientHeight);d+=e/2;c+=f/2;var n=document.createElement("div");n.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;background-color:#F0F0F0;position:absolute;top:'+
(c-85)+"px;left:"+(d-200)+'px;width:400px;height:170px;z-index:2"><div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.aB.selectFont+'</div><div style="position:relative;"><div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aB.font+':</div><input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" /><div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+
this.aB.size+':</div><input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" /><div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aB.italic+'</div></div><div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+
this.aB.bold+'</div></div><div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aB.underline+'</div></div><div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aB.strikeout+
'</div></div><button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aB.ok+'</button><button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aB.cancel+"</button></div></div>";document.body.appendChild(n);var u=document.getElementById("ImGearFontFamily"),r=document.getElementById("ImGearFontSize"),
l=document.getElementById("ImGearFontItalic"),C=document.getElementById("ImGearFontBold"),E=document.getElementById("ImGearFontUnderline"),w=document.getElementById("ImGearFontStrikeout"),t=document.getElementById("ImGearFontOKButton"),y=document.getElementById("ImGearFontCancelButton");d=a.get_fontName();c=a.get_fontSize();f=a.get_fontStyle();u.value=d;r.value=c;l.checked=f&IPCC.Web.UI.FontStyle.Italic;C.checked=f&IPCC.Web.UI.FontStyle.Bold;E.checked=f&IPCC.Web.UI.FontStyle.Underline;w.checked=f&
IPCC.Web.UI.FontStyle.Strikeout;IPCC.Web.UI.aE.addHandler(t,"click",k);IPCC.Web.UI.aE.addHandler(y,"click",m);IPCC.Web.UI.aE.addHandler(document.body,"mousedown",q);u.focus()};
IPCC.gQ.prototype.aqC=function(a){var b=a.TI.mark;switch(a.fn){case IPCC.eJ.JT:b["set_"+a.cZ](a.h);this.V.dR();break;case IPCC.eJ.PN:this.apZ(b,a.cZ,this.V);break;case IPCC.eJ.amI:this.aqj(b,this.V);break;case IPCC.eJ.amB:b["set_"+a.cZ](!b["get_"+a.cZ]());this.V.dR();break;case IPCC.eJ.akk:b.moveToBack();this.V.dR();break;case IPCC.eJ.akh:b.moveBackward();this.V.dR();break;case IPCC.eJ.ajM:b.moveForward();this.V.dR();break;case IPCC.eJ.ajS:b.moveToFront();this.V.dR();break;case IPCC.eJ.ahc:b.removeFromPage();
this.V.dR();break;default:this.V.axY(a)}};IPCC.dP=function(){this.V=!1;this.JB=0;this.aDw=1;this.aen=2;this.adn=3};IPCC.dP.prototype.mR=function(a){this.V=a;this.cO=this.JB};IPCC.dP.prototype.gp=function(){this.V=!1};IPCC.dP.prototype.aU=function(){this.cO=this.JB};IPCC.dP.prototype.ahN=function(a){if(750>new Date-this.apm){var b=this.ahC.x-a.windowPoint.x;a=this.ahC.y-a.windowPoint.y;if(2500>b*b+a*a)return!0}return!1};
IPCC.dP.prototype.acp=function(a){this.apm=new Date;this.ahC=new IPCC.Web.UI.Point(a.windowPoint.x,a.windowPoint.y)};IPCC.dP.prototype.Ru=function(a){1===a.domEvent.rawEvent.touches.length?(this.cO===this.aen&&this.ahN(a)?this.cO=this.adn:this.cO=this.aDw,this.acp(a),this.V.gU("kN",a)):(this.cO=this.JB,this.V.gU("rJ",a))};IPCC.dP.prototype.Rm=function(a){1===a.domEvent.rawEvent.touches.length&&this.V.gU("jO",a)};
IPCC.dP.prototype.QH=function(a){0===a.domEvent.rawEvent.touches.length&&(this.ahN(a)?this.cO===this.adn?(this.cO=this.JB,this.V.gU("iX",a),this.V.gU("wI",a)):(this.acp(a),this.cO=this.aen,this.V.gU("iX",a)):(this.cO=this.JB,this.V.gU("iX",a)))};IPCC.dP.prototype.Jh=function(a){this.V.gU("rJ",a)};IPCC.cF=function(a){this.aeY=a;this.TK=0;this.Oi=1;this.Nb=2;this.Uk=3;this.SA=4;this.cO=this.TK;this.V=!1;this.xJ=0};IPCC.cF.prototype.mR=function(a){this.V=a;this.am=a.bV()};
IPCC.cF.prototype.gp=function(){this.V=!1};IPCC.cF.prototype.aU=function(){this.cO===this.Nb&&this.V.bV().hideMagnifier();this.cO=this.TK};
IPCC.cF.prototype.Ru=function(a){var b=a.domEvent.rawEvent;switch(this.cO){case this.TK:1===b.touches.length?this.are(a):2===b.touches.length?this.ajr(a):3===b.touches.length?this.Zf(a):this.aU();break;case this.Oi:2===b.touches.length?this.ajr(a):3===b.touches.length?this.Zf(a):this.aU();break;case this.SA:3!==b.touches.length&&this.aU();break;case this.Nb:this.aU();break;case this.Uk:3===b.touches.length?this.Zf(a):2!==b.touches.length&&this.aU()}};
IPCC.cF.prototype.Rm=function(a){switch(this.cO){case this.Oi:this.xJ++;break;case this.Nb:this.acz(a);break;case this.Uk:this.axx(a);break;case this.SA:this.apY(a)}};IPCC.cF.prototype.QH=function(){this.aU()};IPCC.cF.prototype.Jh=function(){this.aU()};IPCC.cF.prototype.are=function(a){this.cO=this.Oi;this.xJ++;var b=this.xJ,d=this;setTimeout(function(){d.cO===this.Oi&&b===d.xJ&&d.apw(a)},1E3)};IPCC.cF.prototype.apw=function(a){this.V.gU("rJ",a);this.acz(a);this.cO=this.Nb};
IPCC.cF.prototype.Zf=function(a){a=a.domEvent.rawEvent;if(3!==a.touches.length)this.aU();else{a=a.touches[0];a={x:a.screenX,y:a.screenY};var b=this.am.hj();b.AC();this.axu=this.PY=a;this.abr=b.transform(a);this.cO=this.SA;this.aED=this.am.hj();this.ajy=this.ajq=!0}};
IPCC.cF.prototype.apY=function(a){a=a.domEvent.rawEvent;if(3!==a.touches.length)this.aU();else{a=a.touches[0];a={x:a.screenX,y:a.screenY};var b=Math.abs(a.y-this.PY.y);35<Math.abs(a.x-this.PY.x)&&(this.ajy=!1);35<b&&(this.ajq=!1);this.ajq&&(a.y=this.PY.y);this.ajy&&(a.x=this.PY.x);this.axu=a;var b=this.am.hj(),d=this.V.dS(),c=this.V.cQ();b.WN(this.abr,a);b.lq(c,d);this.am.hK(b)}};IPCC.cF.prototype.aGy=function(){};
IPCC.cF.prototype.ahJ=function(a){var b=a.domEvent.rawEvent;if(2!==b.touches.length)return this.aU(),{};a=b.touches[0];var b=b.touches[1],d=a.screenX-b.screenX,c=a.screenY-b.screenY;return{qD:Math.sqrt(d*d+c*c),jq:180*Math.atan2(d,c)/Math.PI,ajP:{x:(a.screenX+b.screenX)/2,y:(a.screenY+b.screenY)/2}}};IPCC.cF.prototype.ajr=function(a){this.cO=this.Uk;this.PR=this.aCd=this.ahJ(a);a=this.am.hj();a.AC();this.abr=a.transform(this.PR.ajP);this.Hh=this.PR.jq};
IPCC.cF.prototype.acz=function(a){a=a.domEvent.rawEvent.touches[0];this.am.showMagnifier({x:a.screenX,y:a.screenY})};IPCC.cF.prototype.axx=function(a){a=this.ahJ(a);var b=a.qD/this.PR.qD,d=this.am.hj(),c=this.V.dS(),e=this.V.cQ();d.scale(b,b);var b=this.Hh-a.jq,f=this.Hh-a.jq-360,g=this.Hh-a.jq+360;Math.abs(b)>Math.abs(f)&&(b=f);Math.abs(b)>Math.abs(g)&&(b=g);-40>b?(d.rotate(-90),this.Hh=a.jq):40<b&&(d.rotate(90),this.Hh=a.jq);d.WN(this.abr,a.ajP);d.lq(e,c);this.am.hK(d);this.PR=a};
IPCC.cF.prototype.Yp=function(a){a=this.am.hj();var b=this.V.dS(),d=this.V.cQ();a.XP(IPCC.Web.UI.FitType.FullImage,d,b);a.lq(d,b);this.am.hK(a)};IPCC.cF.prototype.mG=function(){this.aU()};IPCC.nr=function(){this.V=this.aA=!1};IPCC.nr.prototype.mR=function(a){a.bV().set_cursor(IPCC.ao.Text);this.V=a};IPCC.nr.prototype.gp=function(){this.V=!1};IPCC.nr.prototype.aU=function(){this.aA&&(this.V.bV().aaH(),this.V.bV().set_cursor(this.il),this.aA=!1)};IPCC.nr.prototype.rJ=function(){this.aU()};
IPCC.nr.prototype.kN=function(a){if(0===a.domEvent.button){var b=this.V.bV();this.il=b.get_cursor();b.set_cursor(IPCC.ao.Text);this.aA=!0;a=this.V.Kr(a.constrainedImagePoint);if(this.V.fY=a)this.V.ze(a),b.ze(a),b.wu(void 0),this.V.dR()}};IPCC.nr.prototype.jO=function(a){var b=this.V;b.aCQ=!0;0!==a.domEvent.button&&this.aU();if(this.aA){var d=b.bV();a=b.Kr(a.constrainedImagePoint);d.ES()!==a&&(b.wu(a),b.dR())}};
IPCC.nr.prototype.iX=function(a){0===a.domEvent.button&&(this.aA=!1);a=this.V;var b=this.V.bV(),d=b.jE.length;if(0!==d){var c=b.jE[0].cu,e=b.jE[d-1].cu;if(!0===a.IA){c>e&&(c=e);e=IPCC.Ez();this.G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.G.aV=c;this.G.cI=a.EF();this.G.dk=d;this.G.set_fillColor(a.uz);this.G.ly="y";this.G.bx=e;for(c=0;c<b.jE.length;c++){var f=b.jE[c],g=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight),k=f.G.fz();g.set_fillColor(a.uz);g.set_opacity(f.G.get_opacity());
g.set_rectangle(k);g.bx=e;g.ly="y";this.V.eA().addMark(g)}b.jE=[];0<d&&this.V.eA().addMark(this.G);a.kP().removeAllMarks()}b=new IPCC.Web.UI.TextSelectedEventArgs;b.text=a.EF();a.aR("selectTextMouseToolCompleted",b);a.dR()}this.aU()};IPCC.nr.prototype.qj=function(a){var b=this.V.dS();(0>=a.windowPoint.x||a.windowPoint.x>=b.width-2)&&this.aU();(0>=a.windowPoint.y||a.windowPoint.y>=b.height-2)&&this.aU()};IPCC.nr.prototype.mG=function(){this.aU()};
IPCC.akz=function(a){function b(a,b){A=!0;b.pageIndex=w.ba;w.aR("markAdded",b);w.gU("iM",b)}function d(a,b){A=!0;b.pageIndex=w.ba;w.aR("markChanged",b);w.gU("rf",b)}function c(a,b){b=new IPCC.Web.UI.MarkEventArgs;b.mark=B;b.pageIndex=w.ba;w.aR("inProgressMarkChanged",b);w.gU("_onInProgressMarkChanged",b)}function e(a,b){A=!0;b.pageIndex=w.ba;w.aR("markRemoved",b);w.gU("FS",b)}function f(a,b){w.aR("textPageReady",b)}function g(a,b){w.aR("textExtractionFailed",b)}function k(a,b){A=!0;b.pageIndex=w.ba;
w.aR("markReordered",b);w.gU("ajR",b)}function m(a,b){b.pageIndex=w.ba;w.aR("marksLoaded",b);w.gU("ali",b)}function q(a,b){b.pageIndex=w.ba;w.aR("markSelectionChanged",b);w.gU("EQ",b)}function n(a,b){b.pageIndex=w.ba;w.aR("markTextSelectionChanged",b)}function u(a,b){b.pageIndex=w.ba;w.aR("propertyChanged",b)}var r,l,C,E,w=this,t,y="",D=!1,J=IPCC.Web.UI.DebugErrorLevel.Production,L=[],F=new IPCC.Web.UI.gR,p,H,B=null,x=!1,K=!1,M,Z=IPCC.Web.UI.ImGearArtDataServices.None,A=!1,Da="",ga,T=!1,W=!1,ha=0,
ja=!0,ka,V,ma=!1,da=!0,aa=!1,Na=!1;this.MU=0;this.jy=function(a){return D?J>=a:!1};this.iB=function(a,b,c){IPCC.fF.iB(a,b,c,y,t)};this.K=function(a,b){if(this.jy(IPCC.Web.UI.DebugErrorLevel.Production)){var c=a+"() threw an exception ("+b.name+'), "'+b.message+'"',c=c.replace(/\n/g," ");this.iB(c,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);w.aR("exceptionThrown",{function_name:a,exception:b,pageNumber:w.ba})}};this.get_debug=function(){return D};this.set_debug=function(a){a=
!!a;D!==a&&(D=a,this.bm("debug"))};this.ox=function(){return J};this.uM=function(a){J!==a&&(J=a,this.bm("debugErrorLevel"))};this.acI=function(a){y=a};this.arZ=function(){return y};this.acS=function(a){t=a};this.ee=function(a){this.pM(!1);var b;for(b=L.length-1;0<=b;b--)L[b]instanceof IPCC.oy?L[b].aU(!0):L[b].aU(),L[b]instanceof IPCC.oY?L[b].gp(!0):L[b].gp();L=a;r.set_cursor(IPCC.ao.Default);for(b=0;b<L.length;b++)L[b].mR(this)};this.aDB=function(){var a;for(a=0;a<L.length;a++)L[a].aU()};this.gU=
function(a,b){var c;for(c=0;c<L.length&&!(b&&b.ahd&&b.ahd());c++)if(L[c][a])L[c][a](b)};this.axV=function(a,b){switch(a){case "touchstart":C.Yb&&C.Yb(b);break;case "touchmove":C.ZJ&&C.ZJ(b);break;case "touchend":C.Yj&&C.Yj(b);break;case "doubleTap":C.agR&&C.agR(b)}};this.ix=function(a){F.addHandler("propertyChanged",a)};this.mP=function(a){F.removeHandler("propertyChanged",a)};this.add_mouseDown=function(a){F.addHandler("mouseDown",a)};this.remove_mouseDown=function(a){F.removeHandler("mouseDown",
a)};this.add_mouseMove=function(a){F.addHandler("mouseMove",a)};this.remove_mouseMove=function(a){F.removeHandler("mouseMove",a)};this.add_mouseUp=function(a){F.addHandler("mouseUp",a)};this.remove_mouseUp=function(a){F.removeHandler("mouseUp",a)};this.add_contextMenu=function(a){F.addHandler("contextMenu",a)};this.remove_contextMenu=function(a){F.removeHandler("contextMenu",a)};this.awR=function(a){F.addHandler("contextMenuCommand",a)};this.aFv=function(a){F.removeHandler("contextMenuCommand",a)};
this.add_mouseWheel=function(a){F.addHandler("mouseWheel",a)};this.remove_mouseWheel=function(a){F.removeHandler("mouseWheel",a)};this.add_mouseOut=function(a){F.addHandler("mouseOut",a)};this.remove_mouseOut=function(a){F.removeHandler("mouseOut",a)};this.anw=function(a){F.addHandler("resize",a)};this.aFO=function(a){F.removeHandler("resize",a)};this.awC=function(a){F.addHandler("userModifiedViewState",a)};this.aFP=function(a){F.removeHandler("userModifiedViewState",a)};this.add_scaleChanged=function(a){F.addHandler("scaleChanged",
a)};this.remove_scaleChanged=function(a){F.removeHandler("scaleChanged",a)};this.add_markAdded=function(a){F.addHandler("markAdded",a)};this.remove_markAdded=function(a){F.removeHandler("markAdded",a)};this.add_markCreating=function(a){F.addHandler("markCreating",a)};this.remove_markCreating=function(a){F.removeHandler("markCreating",a)};this.add_markChanged=function(a){F.addHandler("markChanged",a)};this.remove_markChanged=function(a){F.removeHandler("markChanged",a)};this.add_inProgressMarkChanged=
function(a){F.addHandler("inProgressMarkChanged",a)};this.remove_inProgressMarkChanged=function(a){F.removeHandler("inProgressMarkChanged",a)};this.add_markRemoved=function(a){F.addHandler("markRemoved",a)};this.remove_markRemoved=function(a){F.removeHandler("markRemoved",a)};this.add_markReordered=function(a){F.addHandler("markReordered",a)};this.remove_markReordered=function(a){F.removeHandler("markReordered",a)};this.add_marksLoaded=function(a){F.addHandler("marksLoaded",a)};this.remove_marksLoaded=
function(a){F.removeHandler("marksLoaded",a)};this.add_marksSaved=function(a){F.addHandler("marksSaved",a)};this.remove_marksSaved=function(a){F.removeHandler("marksSaved",a)};this.add_markSelectionChanged=function(a){F.addHandler("markSelectionChanged",a)};this.remove_markSelectionChanged=function(a){F.removeHandler("markSelectionChanged",a)};this.add_markTextSelectionChanged=function(a){F.addHandler("markTextSelectionChanged",a)};this.remove_markTextSelectionChanged=function(a){F.removeHandler("markTextSelectionChanged",
a)};this.add_pageOpenFailed=function(a){F.addHandler("pageOpenFailed",a)};this.add_pageDisplayed=function(a){F.addHandler("pageDisplayed",a)};this.remove_pageOpenFailed=function(a){F.removeHandler("pageOpenFailed",a)};this.add_textPageReady=function(a){F.addHandler("textPageReady",a)};this.remove_textPageReady=function(a){F.removeHandler("textPageReady",a)};this.add_selectTextMouseToolCompleted=function(a){F.addHandler("selectTextMouseToolCompleted",a)};this.remove_selectTextMouseToolCompleted=function(a){F.removeHandler("selectTextMouseToolCompleted",
a)};this.add_exceptionThrown=function(a){F.dv("exceptionThrown",a)};this.remove_exceptionThrown=function(a){F.cX("exceptionThrown",a)};this.add_textExtractionFailed=function(a){F.dv("textExtractionFailed",a)};this.remove_textExtractionFailed=function(a){F.cX("textExtractionFailed",a)};this.bm=function(a,b){var c=F.getHandler("propertyChanged");c&&c(this,new IPCC.qY(a,b))};this.kw=function(){return document.getElementById(t)};this.bV=function(){return r};this.aFV=function(){return F};this.axK=function(a,
b){this.gU("_onTextMarkEditCompleted",b)};this.km=function(a){if(a!==p){p&&(p.remove_markAdded(b),p.remove_markChanged(d),p.remove_markRemoved(e),p.remove_markReordered(k),p.remove_marksLoaded(m),p.remove_markSelectionChanged(q),p.mP(u),p.GA(!0));if(p=a)p.add_markAdded(b),p.add_markChanged(d),p.add_markRemoved(e),p.add_markReordered(k),p.add_marksLoaded(m),p.add_markSelectionChanged(q),p.add_markTextSelectionChanged(n),p.ix(u);this.bm("artPage")}};this.eA=function(){return p};this.Kb=function(a){if(a!==
H){H&&(H.remove_markAdded(b),H.remove_markChanged(d),H.remove_markRemoved(e),H.remove_markReordered(k),H.remove_marksLoaded(m),H.remove_markSelectionChanged(q),H.mP(u),H.GA(!0));if(H=a)H.add_markAdded(b),H.add_markChanged(d),H.add_markRemoved(e),H.add_markReordered(k),H.add_marksLoaded(m),H.add_markSelectionChanged(q),H.add_markTextSelectionChanged(n),H.ix(u);this.bm("documentArtPage")}};this.Nr=function(){return H};this.kP=function(){return V};this.ut=function(a){if(a!==V){V&&(V.remove_markAdded(b),
V.remove_markChanged(d),V.remove_markRemoved(e),V.remove_markReordered(k),V.remove_marksLoaded(m),V.remove_markSelectionChanged(q),V.mP(u));if(V=a)V.add_markAdded(b),V.add_markChanged(d),V.add_markRemoved(e),V.add_markReordered(k),V.add_marksLoaded(m),V.add_markSelectionChanged(q),V.ix(u);this.bm("transientArtPage")}};var h;this.yQ=function(){!h&&IPCC.Web.UI.Mark&&(h=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight),h.set_opacity(100),h.set_fillColor("#3366CC"),h.set_fillVisible(!0));return h};
this.xs=function(a){Z=a;this.bm("artServiceOption")};this.yi=function(){return Z};this.oH=function(a,b){if(B!==a){B&&B.remove_propertyChanged(c);if(a&&!B){var d=new IPCC.Web.UI.MarkEventArgs;d.mark=b?b:a;d.pageIndex=this.ba;this.aR("markCreating",d)}(B=a)&&B.add_propertyChanged(c);this.bm("inProgressMark")}};this.auK=function(){return B};this.vW=function(a){a!==l&&(l=a,this.zk=!1,r.qw(),this.bm("image"))};this.cQ=function(){return l};this.adk=function(a){a!==x&&(x=a,this.bm("EK"))};this.aex=function(){return x};
this.AV=function(a){this.pM(!1);C.aCu(a);K=!0;M=a;this.bm("vT")};this.Pv=function(a,b){if(this.jv()&&!0===this.cA().mF())for(var c=this.cA().eO(),d=a;d<a+b;d++){var f=c.le(d);V.WW(f.ax,"#3366CC","#3366CC",!1,d)}};this.aEF=function(a){var b;try{var c=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);h||(h=w.yQ());for(b in h)h.hasOwnProperty(b)&&(c[b]=h[b]);c.set_rectangle({x:a.x,y:a.y,width:a.width,height:a.height});w.oH(c);V.addMark(c);return c}catch(d){window.console.log(d.message)}};this.Kr=
function(a){var b,c;w.cA();b=w.cA().eO();if(!c)for(var d=0;d<b.fj();d++){var f;f=b.le(d).wM();f=a.x>=f.x-10&&a.x<=f.x+f.width+1&&a.y>=f.y-1&&a.y<=f.y+f.height+1?!0:void 0;if(f){c=d;break}}return c};this.aCQ=!1;this.ze=function(a){if(void 0!==a&&w.jv()&&!0===w.cA().mF()){var b=w.cA().eO().fj();IPCC.aJ.ps(a,"textIndex",0,b);w.bV().ze(a);w.kP().Gy(function(a){!0!==a.AG&&w.kP().wm(a)});!0===w.Bh()&&w.dR()}};this.Xh=function(){for(var a=w.bV().get_transientHighlightMarks();0<a.length;)w.kP().removeMark(a.pop())};
this.Np=function(a,b){if(w.jv()&&!0===w.cA().mF()){var c=a,d=this.cA().eO();a+=b;h||(h=w.yQ());for(b=w.bV().get_transientHighlightMarks();c<a;c++){var f=d.le(c);b.push(V.apy(f.ax,h,c))}}};this.aER=function(a,b){a=w.bV();for(var c=b-1;c>b;c--)V.removeMark(a.jE[c].G)};this.wu=function(a){function b(a,c){for(k=f.jE.length-1;0<=k;k--){var d=f.jE[k];if(d.cu===a)return f.jE.splice(k,1),V.removeMark(d.G),f.azb(c),f.ame(a),k}return-1}function c(a){d=m.le(a);var b=V.WW(d.ax,"#3366CC",g,!1,p,a);!1===f.wu(a,
b,d.ko)&&V.removeMark(b)}if(void 0!==a){var d,f=w.bV(),e=f.ES(),g="#3366CC",p=100;h||(h=w.yQ());(p=h.get_opacity())||(p=100);g=h.get_fillColor();void 0===g&&(g="#3366CC");var m=w.cA().eO();if(void 0===e)d=m.le(a),e=V.WW(d.ax,"#3366CC",g,!1,p,a),f.wu(a,e,d.ko);else{var k,n=f.aeE(),q;if(a>e)for(q=e;q<=a;q++)q===a?q<n||c(q):q>=n?q!==e&&c(q):b(q,a);else if(a<e)for(q=e;q>=a;q--)q===a?q>=n||c(q):q<n?q!==e&&c(q):b(q,a)}}};this.EF=function(){var a="";try{var b=w.bV();if(w.bV().Lb()){var c=w.cA().eO();if(0<
b.jE.length){for(var d=[],f=0;f<b.jE.length;f++)d.push(b.jE[f].cu);d[0]>d[1]&&d.reverse();for(f=0;f<d.length;f++)a+=c.le(d[f]).asH()}}return a}catch(e){window.console.log(e.message)}};this.pM=function(a){K&&(a&&C.aAe(),K=!1,M=null,this.axK(),this.bm("vT"),w.dR())};this.afG=function(){return K};this.aes=function(){return M};this.Pm=function(a){W=a};this.KV=function(){return W};this.xC=function(a){a!==ha&&(ha=a,this.bm("yf"))};this.Jy=function(){return ha};this.GA=function(a){p&&p.GA(a)};this.GD=function(){return p?
p.GD():!0};this.adT=function(a){a=C.agU(this.kw());this.aoX(a)};this.aoX=function(a){a!==E&&(E=a,this.bm("windowSpace"))};this.dS=function(){return E};this.dR=function(){C.dR(l,r,E)};this.tZ=function(a){ga=a};this.nY=function(){return ga};this.cA=function(){return ka.cA()};var Ga=0;this.mx=function(){return ka};this.uV=function(a){a!==this.mx()&&(ka=a)&&(ka.wn(f),ka.zS(g))};this.jv=function(){return ja};this.xE=function(a){ja=a;this.bm("textRequired")};this.oe=function(){return ma};this.rM=function(a){ma!==
a&&(ma=a,this.bm("requireRequestsOptimize"))};this.Bh=function(){return da};this.XM=function(a){da=a;this.bm("autoUpdate")};var Oa=!1;this.mt=function(){return Oa};this.qi=function(a){if("boolean"===typeof a&&a!==Oa&&(Oa=a,p)){var b=!1;p.forEachMark(function(a){a.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&(b=!0)});!0===b&&p.qi(Oa)}};this.iR=function(){return Ga};this.sg=function(a){Ga===a||isNaN(a)||(Ga=a,this.bm("serviceResponseTimeout"))};var pa="";this.Un=function(a,b){""!==a&&(a="/"+
a);b=b||"";return null===b||""===b?"/Attributes"===a?/^[\x00-\x7F]*$/.test(l.get_identifier())?pa+"/Page/q/"+l.ba.toString()+a+"?DocumentID=u"+encodeURIComponent(l.get_identifier()):pa+"/Page/q/"+l.ba.toString()+a+"?DocumentID=e"+l.get_encodedIdentifier():/^[\x00-\x7F]*$/.test(l.get_identifier())?pa+"/Page/q/"+l.ba.toString()+a+"?DocumentID=u"+encodeURIComponent(l.get_identifier())+"&Quality=85&ContentType=jpeg":pa+"/Page/q/"+l.ba.toString()+a+"?DocumentID=e"+l.get_encodedIdentifier()+"&Quality=85&ContentType=jpeg":
/^[\x00-\x7F]*$/.test(l.get_identifier())?pa+"/Page/q/"+l.ba.toString()+a+"?DocumentID=u"+encodeURIComponent(l.get_identifier())+"&"+b:pa+"/Page/q/"+l.ba.toString()+a+"?DocumentID=e"+l.get_encodedIdentifier()+"&"+b};this.atF=function(a,b){a=a||"Art";b=b||"";if(null===b||""===b){if("Art"===a)return pa+"/Page/q/"+l.ba.toString()+"/"+a+"?DocumentID=e"+l.get_encodedIdentifier()}else return pa+"/Page/q/"+l.ba.toString()+"/"+a+"?DocumentID=e"+l.get_encodedIdentifier()+"&"+b};this.FK=function(a){if(!1===
A)a&&a();else{var b=new XMLHttpRequest,c=p.saveToJson();b.open("POST",this.atF("Art"),!0);b.setRequestHeader("Content-Type","application/json");b.onreadystatechange=function(){4===b.readyState&&(200===b.status||304===b.status)&&a&&a()};b.send(c)}};this.lK=function(){return pa};this.EW=function(a){pa=a;this.bm("imageHandlerUrl");IPCC.Web.rF||!1===IPCC.Web.xa&&IPCC.Web.Qq(a)};this.te=function(){return T};this.Rz=function(a){T=a};this.Oq=function(){return Na};this.adx=function(a){Na=a};this.fQ=function(){return Da};
this.pQ=function(a){Da=a;Da.tabIndex=-1};this.ej=function(){return aa};this.jF=function(a){"boolean"===typeof a&&a!==aa&&(aa=a)};this.axJ=function(a){K?this.pM(!0):(this.aR("mouseDown",a),this.gU("kN",a))};this.axe=function(a){this.aR("mouseMove",a);this.gU("jO",a)};this.ayi=function(a){this.aR("mouseUp",a);this.gU("iX",a)};this.axC=function(a){this.aR("mouseWheel",a);this.gU("mG",a)};this.ayu=function(a){this.aR("mouseDoubleClick",a);this.gU("wI",a)};this.axp=function(a){this.aR("contextMenu",a);
this.gU("Sc",a)};this.axY=function(a){this.aR("contextMenuCommand",a)};this.axi=function(a){this.aR("mouseOut",a);this.gU("qj",a)};this.ayZ=function(a){this.aR("touchStart",a);this.gU("kN",a)};this.ayU=function(a){this.aR("touchMove",a);this.gU("jO",a)};this.ayM=function(a){this.aR("touchEnd",a);this.gU("iX",a)};this.ayr=function(a){this.aR("touchCancel",a);this.gU("Jh",a)};this.aR=function(a,b){a=F.getHandler(a);null!==a&&a(w,b)};var la=function(a,b){r=new IPCC.anO;r.ix(function(a,b){w.aR("propertyChanged",
b)});C=IPCC.vP.As()?new IPCC.ama(a,b):new IPCC.HD(a);IPCC.bD&&(C.rA=new IPCC.bD.aW(a),C.avL=new IPCC.bD.aW(a))};!1===a?la(this,!1):la(this,!0);return this};IPCC.vP={As:function(){var a=IPCC.vP;null===a.wg&&(a.wg=!0);return a.wg},wg:null};
IPCC.ao={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,fp:function(a){switch(a){case IPCC.ao.Arrow:case IPCC.ao.EditMarks:return"default";
case IPCC.ao.Crosshair:case IPCC.ao.RectangleZoom:case IPCC.ao.AddRectangleMark:case IPCC.ao.AddEllipseMark:case IPCC.ao.AddLineMark:case IPCC.ao.AddFreehandLineMark:case IPCC.ao.AddPolygonMark:case IPCC.ao.AddPolylineMark:case IPCC.ao.AddTextMark:case IPCC.ao.AddRectangleRedactionMark:case IPCC.ao.AddImageStampMark:case IPCC.ao.AddStampMark:return"crosshair";case IPCC.ao.Link:return"pointer";case IPCC.ao.HandOpen:case IPCC.ao.HandClosed:case IPCC.ao.Move:return"move";case IPCC.ao.ResizeN:return"n-resize";
case IPCC.ao.ResizeE:return"e-resize";case IPCC.ao.ResizeS:return"s-resize";case IPCC.ao.ResizeW:return"w-resize";case IPCC.ao.ResizeNW:return"nw-resize";case IPCC.ao.ResizeNE:return"ne-resize";case IPCC.ao.ResizeSE:return"se-resize";case IPCC.ao.ResizeSW:return"sw-resize";case IPCC.ao.Text:return"text"}return"auto"}};
IPCC.anO=function(){var a,b,d,c,e=new IPCC.eu,f=!1,g=!1,k=new IPCC.Fe(200,150,96,96),m=0,q=0,n=3,u=0,r=0,l=.2,C=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose,E=new IPCC.eu,w=0,t=0,y=!1,D;this.jE=[];var J=IPCC.Web.UI.ScrollBars.Auto,L=[];this.get_transientHighlightMarks=function(){return L};this.get_scrollBars=function(){return J};this.get_overflow=function(){switch(J){case IPCC.Web.UI.ScrollBars.None:return"hidden";case IPCC.Web.UI.ScrollBars.Both:return"scroll"}return"auto"};this.set_scrollBars=
function(a){J=a;this.bm("scrollBars")};var F=new IPCC.Web.UI.gR;this.ix=function(a){F.addHandler("propertyChanged",a)};this.mP=function(a){F.removeHandler("propertyChanged",a)};this.bm=function(a){var b=F.getHandler("propertyChanged");b&&b(this,new IPCC.qY(a))};var p=function(a){a.xm();a.bm("selection")};this.qw=function(){b=a=c=d=0;f&&(f=!1,p(this))};this.showSelection=function(e){d=e.x;c=e.y;a=e.x+e.width;b=e.y+e.height;f=!0;p(this)};this.Eq=function(e){d=e.x;c=e.y;a=e.x;b=e.y;f=!0;p(this)};this.AW=
function(c){a=c.x;b=c.y;p(this)};this.AT=function(){return f};this.xm=function(){var f=new IPCC.Web.UI.Rectangle(Math.min(d,a),Math.min(c,b),0,0);f.width=Math.max(d,a)-f.x;f.height=Math.max(c,b)-f.y;return f};var H=function(){g?(E.Sa(e),E.oV(-m,-q),E.scale(n,n),E.oV(k.width/2,k.height/2)):E.aoR()};this.hideMagnifier=function(){g=!1;H();this.bm("magnifierIsVisible")};this.showMagnifier=function(a){m=a.x;q=a.y;g=!0;H();this.bm("magnifierWindowPosition");this.bm("magnifierIsVisible")};this.get_magnifierIsVisible=
function(){return g};this.get_magnifierWindowPosition=function(){return{x:m,y:q}};this.get_magnifierMagnification=function(){return n};this.set_magnifierMagnification=function(a){n=a;H();this.bm("magnifierMagnification")};this.Mj=function(){return u};this.Wn=function(a){u=a;this.bm("magnifierXOffset")};this.Ns=function(){return r};this.Wf=function(a){r=a;this.bm("magnifierYOffset")};this.vJ=function(){return{width:k.width,height:k.height}};this.set_magnifierWindowSize=function(a){k.width=a.width;
k.height=a.height;H();this.bm("magnifierWindowSize")};this.auD=function(){return E.clone()};this.hj=function(){return e.clone()};this.VQ=function(){return l};this.Wq=function(a){l=a;this.bm("markHandleSize")};this.AX=function(){return C};this.LL=function(a){C=a;this.bm("markHandleMode")};this.hK=function(a){if(a!==e&&!a.aDt(e)){if(!a.aek())throw new IPCC.Web.UI.ImGearInvalidOperationException("The viewing state of the control is invalid.");e.Sa(a);H();this.bm("displayedPageRectangle")}};var B="0";
this.get_presentationQuality=function(){return B};this.set_presentationQuality=function(a){B=a;this.bm("presentationQuality")};var x=IPCC.ao.Default;this.get_cursor=function(){return x};this.set_cursor=function(a){x!==a&&-1!==x&&(x=a,this.bm("cursor"))};var K=IPCC.ao.Default;this.Gp=function(){return K===IPCC.ao.Default?x:K};this.CX=function(a){K!==a&&(K=a,this.bm("markCursor"))};this.ze=function(a){w=a;y=!1;t=0};this.Np=function(a,b){a!==w&&(w=a);t=b;y=!0};this.aaH=function(){if(!0===y){for(var a=
0;a<this.jE.length;a++)this.jE[a].G.set_visible(!1);y=!1}};this.Lb=function(){return y};this.wu=function(a,b,c){D=a;if(void 0!==a){if(0<this.jE.length&&this.jE[this.jE.length-1].cu===a)return!1;this.jE.push({cu:a,G:b,ko:c});y=!0;t++}else this.jE=[],t=0;return!0};this.ES=function(){return D};this.azb=function(a){void 0!==a&&(D=a)};var M;this.aGv=function(){return M};this.ame=function(a){void 0!==a&&(M=a)};this.aeE=function(){return w};this.aFR=function(){return w+t};this.DA=function(){return this.jE.length};
this.qw();this.hideMagnifier();return this};IPCC.aW=function(){this.Vf=this.KZ=!1;this.Dn=!0;this.JD=this.ZL=!1;this.xK=this.xp=0;return this};IPCC.aW.viewerCounter=0;IPCC.aW.tileCounter=0;IPCC.aW.imageIDCounter=0;
IPCC.aW.prototype.afi=function(a){function b(a,b){d.aDD(b)}this.Ab=IPCC.aW.viewerCounter.toString();IPCC.aW.viewerCounter++;this.V=a;IPCC.bD&&(this.sA=new IPCC.Web.UI.MarkCollection);var d=this;a.ix(function(a,b){d.aCT(b)});a.add_markAdded(b);a.add_markChanged(b);a.add_inProgressMarkChanged(b);a.add_markRemoved(b);a.add_markReordered(b);a.add_marksLoaded(b);a.add_markSelectionChanged(b);a.add_markTextSelectionChanged(b)};
IPCC.aW.prototype.WI=function(){var a="igtile"+IPCC.aW.tileCounter.toString();IPCC.aW.tileCounter++;return a};IPCC.aW.prototype.yd=function(){this.KZ=!0;this.Dn=this.Dn&&this.Vf;var a=this;window.setTimeout(function(){a.KZ&&(a.dR(a.V.cQ(),a.V.bV(),a.V.dS()),a.Dn=!0)},0)};
IPCC.aW.prototype.aCT=function(a){switch(a.get_propertyName()){case "magnifierWindowSize":case "magnifierWindowPosition":case "magnifierMagnification":if(!this.V.bV().get_magnifierIsVisible())return;break;case "cursor":case "markCursor":this.HQ=!0;!0===this.V.Bh()&&this.yd();return;case "displayedPageRectangle":if(!0===this.V.zk){this.yd();return}break;case "redactionDraftMode":this.HQ=!0;this.yd();return}!0===this.V.Bh()&&this.yd()};
IPCC.aW.prototype.aDD=function(a){a.mark&&!this.HQ?this.sA.addMark(a.mark):this.HQ=!0;!0===this.V.Bh()&&this.yd()};IPCC.aW.prototype.ZS=function(){this.qC=this.du.clone();this.qC.oV(this.akN,this.akj);this.qC.lq(this.V.cQ(),this.V.dS());this.rV=this.qC.clone();this.rV.AC()};
IPCC.aW.prototype.dR=function(a,b,d){try{if(this.KZ=!1,!0!==this.PK){var c=this.V.kw();if(null!==c){var e=c.igElements;try{this.PK=!0;if(void 0===this.HW||void 0===a||!this.HW.equals(a)){if(this.ZL){if(this.ku){this.ahp(this.ku);var f=e.ny;IPCC.Web.UI.aE.removeHandler(f,"mousedown",this.Sn);IPCC.Web.UI.aE.removeHandler(f,"mousemove",this.TN);IPCC.Web.UI.aE.removeHandler(f,"mouseup",this.Wd);IPCC.Web.UI.aE.removeHandler(f,"contextmenu",this.Xq);IPCC.Web.UI.aE.removeHandler(e.jr,"blur",this.aad);IPCC.Web.UI.aE.removeHandler(e.gV,
"blur",this.Ww)}delete this.ku;this.agp(e.sa);this.agp(e.FI);this.ZL=!1;void 0!==this.HX&&this.HX.unlockAllItems();void 0!==this.Ig&&this.Ig.unlockAllItems();this.Ig=this.HX=void 0;c.igElements.oi.onscroll=null;c.igElements.oi.onresize=null}c.querySelectorAll&&0===c.querySelectorAll(".pccPageLoadFail").length&&(c.innerHTML="");this.V.pM(!0);if(void 0===a){this.PK=!1;this.HW=void 0;this.agF();return}this.HW=a.clone();this.HX=new IPCC.zL;this.HX.createPyramid(this,this.V);this.Ig=new IPCC.zL;this.Ig.createPyramid(this,
this.V);this.ZL=!0;this.arN(this.Ab)}this.du=b.hj();var g=this.du.rw(a);this.du.oV(-g.x,-g.y);this.awd=this.du.clone();this.awd.AC();this.akN=Math.round(g.x);this.akj=Math.round(g.y);this.ZS();this.aok(a,b,d);0===a.ba&&this.ZS()}finally{this.HQ=this.PK=!1,this.sA&&this.sA.removeAllMarks()}this.aaP(!0)}}}catch(k){throw this.V.K("display",k),k;}};IPCC.aW.prototype.pE=function(a,b,d){a[b]!==d&&(a[b]=d)};IPCC.aW.prototype.kE=function(a,b,d){a.getAttribute(b)!==d&&a.setAttribute(b,d)};
IPCC.aW.prototype.fi=function(a,b,d){a.style[b]!==d&&(a.style[b]=d)};IPCC.aW.prototype.aaP=function(a){if(!(this.PK||this.KZ&&!this.Dn||a))try{this.Vf=!0;var b=this.V.kw();b&&(this.xp=b.igElements.oi.scrollLeft,this.xK=b.igElements.oi.scrollTop);this.amn();this.ZS();this.V.bV().hK(this.qC);this.V.aR("userModifiedViewState",{});this.V.pM(!1)}finally{this.Vf=!1}};
IPCC.aW.prototype.azF=function(a,b,d){d=a.azi(b,d);!this.V.zk&&0===d.tilesToRequest.length&&0<d.opaqueTiles.length+d.translucentTiles.length&&(this.V.zk=!0,this.V.aR("pageDisplayed",{ag:this.V.ba}));a.aCz(d);!1===this.V.te()&&(this.alW(d.tilesToRequest),this.YR(d.opaqueTiles,1,b),this.YR(d.translucentTiles,d.opacity,b))};
IPCC.aW.prototype.arN=function(a){function b(a){var b=document.createElement("div"),c;for(c in a)a.hasOwnProperty(c)&&(b.style[c]=a[c]);return b}var d=this.V,c=d.kw(),e=d.bV(),f=this,g={};c.igElements=g;var k=b({width:"100%",height:"100%",position:"relative",overflow:e.get_overflow(),margin:"0px",borderWidth:"0px","-moz-user-select":"text","-webkit-user-select":"text"});g.oi=k;k.setAttribute("class","igViewerScroller");k.onscroll=function(){f.aaP(!1)};k.onresize=function(){var a=d.dS();a.width=k.clientWidth;
a.height=k.clientHeight;d.aR("resize",{})};var m=b({width:"2px",height:"2px",position:"relative",overflow:"hidden",margin:"0px",left:"0",top:"0","-ms-touch-action":"none"});k.appendChild(m);g.ny=m;m.setAttribute("class","igViewerGraphics");this.CC=this.Cf=2;this.xK=this.xp=0;var q={};q.oT=this.HX;q.abw="ig"+a+"level";g.sa=q;this.agE(q,m,b);q.rA=this.rA;q=!1===d.te()?b({position:"absolute",display:"none",width:e.vJ().width+4+"px",height:e.vJ().height+4+"px",backgroundColor:"#000000"}):b({position:"absolute",
display:"none",width:e.vJ().width+4+"px",height:e.vJ().height+4+"px",backgroundColor:"#cccccc"});m.appendChild(q);g.mK=q;q.setAttribute("class","igMagnifierFrame");e=b({width:"0px",height:"0px",position:"absolute",overflow:"hidden",margin:"0px",left:"0",top:"0"});g.sL=e;q.appendChild(e);q={};q.oT=this.Ig;q.abw="ig"+a+"maglevel";g.FI=q;this.agE(q,e,b);q.rA=this.avL;q=document.createTextNode("");g.OS=q;a=document.createElement("textarea");a.appendChild(q);a.style.position="absolute";a.style.overflow=
"auto";a.style.width="80px";a.style.height="80px";a.style.resize="none";a.style.display="none";k.appendChild(a);g.jr=a;q=document.createTextNode("");g.XD=q;var n=document.createElement("input");n.type="text";n.style.position="absolute";n.style.overflow="hidden";n.style.width="80px";n.style.height="80px";n.style.resize="none";n.style.display="none";n.style.padding="0px";n.style.margin="0px";n.style.lineHeight="normal";n.className="no-ms-clear";var u=function(a){a=parseFloat(n.style.width);var b=parseFloat(n.style.height),
c=IPCC.bg.wy(n.value,n.style.fontFamily,{vR:"pre",ei:g.sa.Gk});n.style.fontSize=.9*Math.floor(Math.min(12*a/(c.width||1),12*b/(c.height||1)))+"px"};n.onkeyup=u;n.onfocus=function(a){u(a);n.setSelectionRange&&(a=2*n.value.length,n.setSelectionRange(a,a))};k.appendChild(n);g.gV=n;this.ku={};this.aeq(this.ku);IPCC.Web.UI.aE.addHandler(m,"mousedown",this.Sn);IPCC.Web.UI.aE.addHandler(m,"mousemove",this.TN);IPCC.Web.UI.aE.addHandler(m,"mouseup",this.Wd);IPCC.Web.UI.aE.addHandler(m,"contextmenu",this.Xq);
IPCC.Web.UI.aE.addHandler(a,"blur",this.aad);IPCC.Web.UI.aE.addHandler(n,"blur",this.Ww);c.appendChild(k)};
IPCC.aW.prototype.agE=function(a,b,d){var c=d({width:"2px",height:"2px",position:"absolute"});a.gd=b;b.appendChild(c);a.abd=c;c.setAttribute("class","igAnchor");this.agP(a,c,a.oT,a.abw);a.xV=d({position:"absolute",width:"10px",height:"10px",left:"0px",top:"0px",overflow:"visible"});c.appendChild(a.xV);b=d({overflow:"hidden",display:"none",position:"absolute",backgroundColor:"#00C0E0",border:"#006070 2px solid"});b.style[this.ajV]=this.akV(.5);c.appendChild(b);a.lc=b};
IPCC.aW.prototype.agp=function(a){a&&a.JD&&(a.rA.agS(),a.JD=!1);a.gd=null};
IPCC.aW.prototype.aok=function(a,b,d){var c=this.V,e=this.qC.rw(a),f=c.kw(),g=c.arZ(),k=f.igElements,m=k.sa,q=k.FI,f=k.oi,n=k.ny,u=m.abd,r=k.mK,l=k.sL,C=q.abd,E=Math.max(0,-e.x),w=Math.max(0,-e.y),t=Math.max(e.width,d.width),y=Math.max(e.height,d.height),D=Math.max(0,e.x),J=Math.max(0,e.y),L=e=!1;b.AT()&&(L=b.xm());var F=this.Cf;this.Cf=Math.floor(t-1);0>this.Cf&&(this.Cf=0);t=this.CC;this.CC=Math.floor(y-1);0>this.CC&&(this.CC=0);!0===c.te()&&(0===this.CC&&(this.CC=2),0===this.Cf&&(this.Cf=2));var y=
this.xp,p=this.xK;this.Dn||(this.xp=Math.floor(E),this.xK=Math.floor(w));this.YG&&(this.fi(u,"left",D+"px"),this.fi(u,"top",J+"px"));var H=b.hj();H.oV(E-D,w-J);this.ajC(m,b.hj(),H,a,d,L,D,J);this.fi(f,"overflow",b.get_overflow());if(d.width!==f.clientWidth||d.height!==f.clientHeight)d.width=f.clientWidth,d.height=f.clientHeight,e=!0;this.pE(u.style,"visibility","visible");b.get_magnifierIsVisible()?(D=b.get_magnifierWindowPosition(),m=b.vJ(),H=b.Mj(),J=b.Ns(),u=b.auD(),E=Math.round(D.x-m.width/2+
E+H),J=Math.round(D.y-m.height/2+w+J),H=u.rw(a),w=Math.max(0,-H.x),D=Math.max(0,-H.y),this.fi(C,"left",H.x+"px"),this.fi(C,"top",H.y+"px"),r.style.width=m.width+4+"px",r.style.height=m.height+4+"px",l.style.width=m.width+"px",l.style.height=m.height+"px",l.style.left="2px",l.style.top="2px",r.style.left=E+"px",r.style.top=J+"px",l=u.clone(),l.oV(w,D),this.ajC(q,u,l,a,m,L,0,0),r.style.display="block"):r.style.display="none";if(c.afG()){if(a=c.aes(),k=a.fz(),k=this.qC.tq(k),l=a.get_type()===IPCC.Web.UI.MarkType.Text?
64:0,r=q=0,k.width<l&&(k.width=l),k.height<l&&(k.height=l),k.width>d.width&&(k.width=d.width),k.height>d.height&&(k.height=d.height),0>k.x&&(k.x=0),0>k.y&&(k.y=0),k.x+k.width+1>=d.width&&(k.x=d.width-k.width,q=-8),k.y+k.height+1>=d.height&&(k.y=d.height-k.height,r=-8),d=this.Ur(a),d.style.left=this.xp+k.x+1+"px",d.style.top=this.xK+k.y+1+"px",d.style.width=k.width+q+"px",d.style.height=k.height+r+"px","block"!==d.style.display){d.style.display="block";k=a.eC;q="";k&IPCC.Web.UI.FontStyle.Italic&&(d.style.fontStyle=
"italic");k&IPCC.Web.UI.FontStyle.Bold&&(d.style.fontWeight="bold");k&IPCC.Web.UI.FontStyle.Underline&&(q+="underline");k&IPCC.Web.UI.FontStyle.Strikeout&&(q=k&IPCC.Web.UI.FontStyle.Underline?q+" line-through":"line-through");d.style.textDecoration=q;d.style.color=a.oR;d.style.backgroundColor=a.da;d.style.fontFamily=a.hv;d.style["z-index"]=100;k=a.mX*this.qC.vg();d.style.fontSize=k+"px";switch(a.pz){case IPCC.Web.UI.HorizontalAlignment.Center:d.style.textAlign="center";break;case IPCC.Web.UI.HorizontalAlignment.Right:d.style.textAlign=
"right";break;default:d.style.textAlign="left"}d.focus()}}else k.jr.style.display="none",k.gV.style.display="none",document.activeElement===k.jr&&k.jr.blur(),document.activeElement===k.gV&&k.gV.blur();-1!==b.get_cursor()&&(b=IPCC.ao.fp(b.get_cursor()),this.pE(n.style,"cursor",b));e&&c.aR("resize",{});this.Cf!==F&&this.fi(n,"width","100%");this.CC!==t&&this.fi(n,"height","100%");this.xp!==y&&(f.scrollLeft=this.xp);this.xK!==p&&(f.scrollTop=this.xK);if("PageView"===g&&!this.Dn){b=c.bV();var B=+b.hj().vg().toFixed(6);
c.MU!==B&&(c.MU=B,setTimeout(function(){c.aR("scaleChanged",{scaleFactor:B,pageNumber:c.ba})},1),c.aR("scaleChanged",{scaleFactor:B,pageNumber:c.ba}))}};
IPCC.aW.prototype.ajC=function(a,b,d,c,e,f,g,k){var m=b.rw(c),q={};q.width=Math.max(m.width,e.width);q.height=Math.max(m.height,e.height);this.aqY(a,b,d,c,e,g,k);this.XV(a,d,q,c,g,k);b=b.clone();b.AC();e=b.tq({x:0,y:0,width:e.width,height:e.height});!1===this.V.te()?this.azF(a.oT,d,e):this.aCp(a);f?(d=d.tq(f),this.YG?(a.lc.style.left=d.x-2+"px",a.lc.style.top=d.y-2+"px"):(a.lc.style.left=d.x-2+g+"px",a.lc.style.top=d.y-2+k+"px"),a.lc.style.width=d.width+"px",a.lc.style.height=d.height+"px",a.lc.style.display=
"block"):a.lc.style.display="none"};
IPCC.aW.prototype.aqY=function(a,b,d,c,e,f,g){function k(a){(u.V.jv()&&!0===u.V.cA().mF()||a.get_type()!==IPCC.Web.UI.MarkType.Highlight)&&l.push(a)}function m(a){l.push(a)}b=this.V.eA();e=this.V.kP();var q=this.V.Nr(),n=0,u=this;a.jW&&(n=a.jW.length);if(a.rA&&b){var r=this.V.auK();if(!(0>=b.get_markCount()&&0>=e.get_markCount()&&0>=q.get_markCount()&&0>=n)||r){a.JD||(a.rA.agk(this.V,a,c),a.jW=[],a.JD=!0);e=this.V.kP();var l=[];q.forEachMark(m);this.V.jv()&&!0===this.V.cA().mF()&&e.forEachMark(m);
b.forEachMark(k);r&&l.push(r);b=a.jW;for(c=0;c<b.length;c++){for(;c<b.length&&(c>=l.length||b[c].G!==l[c]);)a.rA.Hy(b[c]),b.splice(c,1);c<b.length&&(this.HQ||this.sA.contains(b[c].G))&&a.rA.ME(b[c])}for(c=b.length;c<l.length;c++)b[c]={G:l[c]},a.rA.aho(b[c]);this.YG||(d=d.clone(),d.oV(f,g));a.rA.aiM(this.V,a,l,d,this.V.aex())}}};IPCC.aW.prototype.XV=function(){};IPCC.aW.prototype.amn=function(){var a=this.V.kw();a&&(this.akN=a.igElements.ny.offsetLeft-this.xp,this.akj=a.igElements.ny.offsetTop-this.xK)};
IPCC.aW.prototype.sC=function(a,b){var d=this.V.kw().igElements;b=a.domEvent;var c;if(d.ny.getBoundingClientRect)c=d.ny.getBoundingClientRect();else{var e=d.ny;c=document.documentElement;c={left:c.clientLeft-c.scrollLeft,top:c.clientTop-c.scrollTop};for(e=e.offsetParent;e;)c.top+=e.offsetTop-e.scrollTop,c.left+=e.offsetLeft-e.scrollLeft,e=e.offsetParent}b.rawEvent.touches?(0<b.rawEvent.touches.length&&(this.MY=new IPCC.Web.UI.Point(b.rawEvent.touches[0].clientX-d.oi.scrollLeft-c.left,b.rawEvent.touches[0].clientY-
d.oi.scrollTop-c.top)),this.MY||(this.MY=new IPCC.Web.UI.Point(0,0)),a.windowPoint=new IPCC.Web.UI.Point(this.MY.x,this.MY.y),b.button=0):a.windowPoint=new IPCC.Web.UI.Point(b.clientX-c.left-d.oi.scrollLeft,b.clientY-c.top-d.oi.scrollTop);d=this.rV.transform(a.windowPoint);a.imagePoint=new IPCC.Web.UI.Point(d.x,d.y);a.constrainedImagePoint=new IPCC.Web.UI.Point(d.x,d.y);a.constrainedImagePoint.x=Math.min(Math.max(a.constrainedImagePoint.x,0),this.HW.width);a.constrainedImagePoint.y=Math.min(Math.max(a.constrainedImagePoint.y,
0),this.HW.height);a.pointLiesWithinImage=a.constrainedImagePoint.x===a.imagePoint.x&&a.constrainedImagePoint.y===a.imagePoint.y;a.mark=null;try{for(var f=b.target;!f.ImGearMarkRelation&&f.parentNode&&f!==document.body;)f=f.parentNode;f.ImGearMarkRelation&&(a.mark=f.ImGearMarkRelation.G)}catch(g){}};IPCC.aW.prototype.kN=function(a){try{a.preventDefault();var b=new IPCC.Web.UI.MouseEventArgs;b.domEvent=a;this.sC(b);this.V.axJ(b)}catch(d){this.V.K("mouseDown",d)}};
IPCC.aW.prototype.jO=function(a){try{a.preventDefault();var b=new IPCC.Web.UI.MouseEventArgs;b.domEvent=a;this.sC(b);this.V.axe(b)}catch(d){this.V.K("mouseMove",d)}};IPCC.aW.prototype.mG=function(a){try{var b=new IPCC.Web.UI.MouseEventArgs;b.domEvent=a;this.sC(b);b.wheelDelta=a.rawEvent.wheelDelta?a.rawEvent.wheelDelta:120*-a.rawEvent.detail;this.V.axC(b)}catch(d){this.V.K("mouseWheel",d)}};
IPCC.aW.prototype.wI=function(a){try{a.preventDefault();var b=new IPCC.Web.UI.MouseEventArgs;b.domEvent=a;this.sC(b);this.V.ayu(b)}catch(d){this.V.K("mouseDoubleClick",d)}};IPCC.aW.prototype.iX=function(a){try{a.preventDefault();var b=new IPCC.Web.UI.MouseEventArgs;b.domEvent=a;this.sC(b);this.V.ayi(b)}catch(d){this.V.K("mouseUp",d)}};IPCC.aW.prototype.Sc=function(a){try{a.preventDefault();var b=new IPCC.Web.UI.MouseEventArgs;b.domEvent=a;this.sC(b);this.V.axp(b)}catch(d){this.V.K("contextMenu",d)}};
IPCC.aW.prototype.alB=function(a){try{this.V.pM(!0)}catch(b){this.V.K("textAreaBlur",b)}};IPCC.aW.prototype.ajL=function(a){try{this.V.pM(!0)}catch(b){this.V.K("textInputBlur",b)}};IPCC.aW.prototype.aCu=function(a){this.Ur(a).value=a.bz||""};IPCC.aW.prototype.aAe=function(){var a=this.V,b=a.aes();b&&a.afG()&&(a=this.Ur(b).value,a=a.replace(/(\n|\n\r|\r\n|\r)/g,"\n"),b.set_text(a))};
IPCC.aW.prototype.Ur=function(a){var b=this.V.kw().igElements,d=null;a.get_type()===IPCC.Web.UI.MarkType.TextLine?d=b.gV:a.get_type()===IPCC.Web.UI.MarkType.Text&&(d=b.jr);return d};IPCC.zL=function(){this.fm=[];return this};
IPCC.zL.prototype.azi=function(a,b){var d=a.vg(),c,e,f=1;e=[];var g=[],k=[],m;e=this.fm.length;for(c=0;c<this.fm.length;c++)if(this.fm[c].de>d){e=c;break}c=e-1;0>c&&(c=0);e>=this.fm.length&&(e=this.fm.length-1);c!==e&&(f=(d-this.fm[c].de)/(this.fm[e].de-this.fm[c].de),f*=1,.15<=f&&(f=1,c=e),.15>=f&&(f=1,e=c));var g=this.fm[c].Ri(b),k=this.fm[e].Ri(b),q=function(a){var b;for(b=0;b<a.length;b++)a[b].level.pool.aab(a[b])},n=function(a){var b=[],c;for(c=0;c<a.length;c++)a[c].get_isLockedAndLoaded()||
b.push(a[c]);return b},u=function(a){var b=[],c;for(c=0;c<a.length;c++)a[c].get_isLockedAndLoaded()&&b.push(a[c]);return b};0<c&&c===e&&1<this.fm[e].tiles.length&&(c=e-1,g=this.fm[c].Ri(b));q(g);e=n(g);if(0<e.length){for(--c;0<=c&&!(m=this.fm[c].Ri(b),q(m),1>n(m).length);c--);0>c?g=u(g):(g=m,f=1)}else q(k),e=n(k);q(k);k=u(k);3<e.length&&e.splice(3,e.length-3);return{opaqueTiles:g,translucentTiles:k,opacity:f,tilesToRequest:e,toString:function(){function a(b){var c,d,f;if(1>b.length)return"";f=b[0].level;
c=""+("level "+f.id.toString()+" - ");for(d=0;d<b.length;d++)0<d&&(c+=", "),c+="("+(b[d].x/f.og).toString()+","+(b[d].y/f.BC).toString()+")",b[d].get_isLockedAndLoaded()&&(c+="*");return c}var b;b="tilesToRequest: "+a(this.tilesToRequest)+"<br/>";b+="opaqueTiles: "+a(this.opaqueTiles)+"<br/>";b+="translucentTiles: "+a(this.translucentTiles)+"<br/>";b+="opacity: "+this.opacity.toString()+"<br/>";b+="anx: "+this.anx.toString()+"<br/>";return b+="dF: "+this.dF.toString()+"<br/>"},anx:d,dF:a.toString()}};
IPCC.zL.prototype.aCz=function(a){var b=[],d=[],c,e,f;for(c=0;c<this.fm.length;c++)for(d=this.fm[c],e=0;e<d.tiles.length;e++)f=d.tiles[e],void 0!==f.poolItem&&b.push(f);c=function(a,b){var c,d,f,e;for(c=0;c<b.length;c++){f=b[c];e=!0;for(d=0;d<a.length;d++)if(f===a[d]){e=!1;break}e&&a.push(f)}};d=a.tilesToRequest.concat();c(d,a.opaqueTiles);c(d,a.translucentTiles);for(c=b.length-1;0<=c;c--)for(a=b[c],e=0;e<d.length;e++)if(d[e]===a){b.splice(c,1);break}for(c=0;c<b.length;c++)b[c].unlock();for(c=0;c<
d.length;c++)d[c].relock();for(c=0;c<d.length;c++)void 0===d[c].poolItem&&d[c].lock()};IPCC.zL.prototype.unlockAllItems=function(){var a,b,d;for(a=0;a<this.fm.length;a++)for(d=this.fm[a],b=0;b<d.tiles.length;b++)void 0!==d.tiles[b].poolItem&&d.pool.agZ(d.tiles[b])};IPCC.zL.prototype.aGb=function(){var a;for(a=0;a<this.fm.length;a++)this.fm[a].pool.aqT()};
IPCC.zL.prototype.toString=function(){var a="",b,d,c;for(b=0;b<this.fm.length;b++){c=this.fm[b];a+="Level "+b.toString()+":   scaleFactor="+c.de.toString()+"  image="+c.width.toString()+"x"+c.height.toString()+"  tile="+c.og.toString()+"x"+c.BC.toString()+"\n";for(d=0;d<c.tiles.length;d++)0<d&&(a+=", "),a+="("+c.tiles[d].x.toString()+", "+c.tiles[d].y.toString()+")";a+="\n"}return a};
IPCC.zL.prototype.createPyramid=function(a,b){var d=b.cQ(),c=d.width*d.height*3,e,f,g,k,m,q,n;this.fm=[];if(d.tj)for(g=1,e=c*g*g;2>this.fm.length||5E3<e;)f=new IPCC.Nq,f.de=g,this.fm.unshift(f),g*=.5,e=c*g*g;else if(!0===b.te()&&(c=d.width*d.height),g=Math.sqrt(5E3/c),g=Math.ceil(g*d.he)/d.he,e=c*g*g,!1===b.te())for(;471859200>e;)f=new IPCC.Nq,f.de=g,this.fm.push(f),g/=.5,e=c*g*g;else f=new IPCC.Nq,f.de=1,this.fm.push(f);d.sI=8*this.fm[this.fm.length-1].de;for(g=0;g<this.fm.length;g++)for(f=this.fm[g],
f.OA=85,g===this.fm.length-1&&(f.OA=100),f.pyramid=this,f.id=g,f.pool=new IPCC.adZ,f.pool.uiDirector=a,e=c*f.de*f.de,f.width=Math.round(d.width*f.de),f.height=Math.round(d.height*f.de),f.og=f.width,f.BC=f.height,2<g&&g>this.fm.length-2&&(f.og=Math.min(512,f.width),f.BC=Math.min(512,f.height)),6E6<e&&(f.og=Math.min(1024,f.width),f.BC=Math.min(1024,f.height)),f.tiles=[],e=0;e<f.width;e+=q)for(q=f.og,e+1.25*q>f.width&&(q=f.width-e),k=0;k<f.height;k+=n){n=f.BC;k+1.25*n>f.height&&(n=f.height-k);m=new IPCC.Hl;
m.level=f;m.x=e;m.y=k;m.right=m.x+q;m.right<f.width&&m.right++;m.bottom=m.y+n;m.bottom<f.height&&m.bottom++;if(!1===b.te()){var u="jpeg";100<=f.OA&&(u="png");m.url=q!==f.width||n!==f.height?b.Un("Tile/"+e.toString()+"/"+k.toString()+"/"+q.toString()+"/"+n.toString(),"Scale="+f.de.toString()+"&Quality="+f.OA+"&ContentType="+u):b.Un("","Scale="+f.de.toString()+"&Quality="+f.OA+"&ContentType="+u)}else m.url=b.Un("","Scale="+f.de.toString()+"&ContentType="+IPCC.bg.Mb),m.aEV=a.WI();f.tiles.push(m)}};
IPCC.Nq=function(){this.de=1;this.BC=this.og=this.height=this.width=0;this.pool=void 0;return this};IPCC.Nq.prototype.Ri=function(a){if(1>a.width||1>a.height)return[];var b=Math.floor(a.x*this.de),d=Math.floor(a.y*this.de),c=Math.ceil((a.x+a.width)*this.de);a=Math.ceil((a.y+a.height)*this.de);var e=[],f,g,k=this.tiles.length;for(f=0;f<k;f++)g=this.tiles[f],g.x<=c&&g.right>=b&&g.y<=a&&g.bottom>=d&&e.push(g);return e};
IPCC.Hl=function(){this.bottom=this.right=this.y=this.x=0;this.url="";this.level=this.poolItem=void 0;return this};IPCC.Hl.prototype.unlock=function(){this.level.pool.agZ(this)};IPCC.Hl.prototype.lock=function(){this.level.pool.lockTile(this)};IPCC.Hl.prototype.relock=function(){return this.level.pool.aab(this)};IPCC.Hl.prototype.get_isLockedAndLoaded=function(){return void 0!==this.poolItem&&this.poolItem.loaded?!0:!1};
IPCC.adZ=function(){this.eE=[];this.parentElementID="";this.lockTile=function(a){var b,d,c;if(!this.aab(a)){d=0;for(b=this.eE.length-1;0<=b;b--)this.eE[b].locked||(d++,c=b);4<d&&(b=this.eE[c],this.uiDirector.ZH(b),this.eE.splice(c,1));b=new IPCC.aBQ;b.pool=this;this.uiDirector.adY(b);this.eE.push(b);b.locked=!0;b.tile=a;a.poolItem=b}};this.aab=function(a){var b;if(this.locked)return!0;for(b=0;b<this.eE.length;b++)if(this.eE[b].tile===a)return b=this.eE[b],b.locked=!0,a.poolItem=b,!0;return!1};this.agZ=
function(a){var b;b=a.poolItem;if(void 0!==b&&b.locked)for(this.uiDirector.agg(b),b.locked=!1,a.poolItem=void 0,a=0;a<this.eE.length;a++)if(this.eE[a]===b){this.eE.splice(a,1);this.eE.push(b);break}};return this};IPCC.adZ.prototype.aqT=function(){var a;for(a=0;a<this.eE.length;a++)this.eE[a].locked||this.uiDirector.ZH(this.eE[a])};IPCC.aBQ=function(){this.loaded=this.locked=!1;this.pool=this.tile=void 0;this.elementID="";return this};
(function(a){var b={};b.aqA=!!("createElementNS"in document&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect);b.OD=function(){var a=navigator.userAgent,b=-1<a.indexOf("Mozilla/5.0")&&-1<a.indexOf("Android ")&&-1<a.indexOf("AppleWebKit")&&!(-1<a.indexOf("Chrome")),d=new RegExp(/AppleWebKit\/([\d.]+)/),a=null===d.exec(a)?null:parseFloat(d.exec(a)[1]);return b&&null!==a&&537>a}();b.aBi=function(){var a=navigator.userAgent,b=/Android/i.test(a),d=/iPhone|iPad|iPod/i.test(a),
a=/IEMobile/i.test(a);return b||d||a}();b.Mb=function(){var a=navigator.userAgent;return 10===document.documentMode||b.OD?"svg":9===document.documentMode?"svga":/Apple Computer/.test(navigator.vendor||"")&&/Mac OS X.*?Version\/9\..*?Safari/i.test(a)&&!b.aBi?"svga":/Google Inc/.test(navigator.vendor||"")&&/Windows.*?Chrome/i.test(a)?"svga":"svgb"}();var d;8===document.documentMode?(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute"),
document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute"),document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute"),document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute"),document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute"),document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute"),document.createStyleSheet().addRule("v\\:shape",
"behavior:url(#default#VML); position:absolute"),document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute"),document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute"),d=!0):d=!1;b.DZ=d;b.FZ=window.navigator.pointerEnabled||window.navigator.msPointerEnabled;b.HA=b.FZ||"ontouchstart"in document.documentElement;b.aBT=navigator.platform?!!navigator.platform.match(/iPad|iPhone|iPod/g):!1;b.ahn=function(){return b.avq.btoa(Math.random().toString(36).slice(-4)+
"_"+b.yk(new Date)+"_"+Math.random().toString(36).slice(-6))};b.inArray=function(a,b){for(var d=0,g=a.length;d<g;d++)if(a[d]===b)return!0;return!1};b.forEach=function(a,b,d){var g=[].forEach,k=Object.prototype.hasOwnProperty;if(g&&a.forEach===g)b&&a.forEach(b,d);else if(a.length===+a.length)for(g=0,k=a.length;g<k;g++)b&&b.call(d,a[g],g,a);else for(var m in a)k.call(a,m)&&b&&b.call(d,a[m],m,a)};b.map=function(a,d,f){var g=[].map,k=[];g&&a.map===g?k=a.map(d,f):b.forEach(a,function(b,g){k.push(d.call(f,
b,g,a))});return k};b.filter=function(a,d,f){var g=[].filter,k=[],m=!1;g&&a.filter===g?k=a.filter(d,f):b.forEach(a,function(b,g){(m=d.call(f,b,g,a))&&k.push(b)});return k};b.reduce=function(a,b,d,g){var k=[].reduce,m=2===arguments.length?void 0:d;if(k&&"function"===typeof k&&a.reduce===k&&void 0===g)return void 0!==d?a.reduce(b,d,g):a.reduce(b);IPCC.bg.forEach(a,function(d,f){m=void 0===m?d:b.call(g,m,d,f,a)});return m};b.reduceLeft=function(a,d,f,g){a=a.reverse();return b.reduce.call(void 0,a,d,
f,g)};b.contains=function(a,b){for(var d=a.length;d--;)if(a[d]===b)return!0;return!1};b.avM=function(a,b){if(a.length!==b.length)return!1;for(var d=0,g=a.length;d<g;d++)if(a[d]!==b[d])return!1;return!0};b.extend=function(a){var b;if(a){if("object"!==typeof a)throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");for(var d=1;d<arguments.length;d++){b=arguments[d];for(var g in b)b.hasOwnProperty(g)&&(a[g]=b[g])}}else throw new IPCC.Web.UI.ImGearArgumentException("target",
"target must be defined.");return a};b.acs=function(a,b,d){var g;return function(){var k=this,m=arguments,q=d&&!g;clearTimeout(g);g=setTimeout(function(){g=void 0;d||a.apply(k,m)},b);q&&a.apply(k,m)}};b.acD=function(a,b){a.classList?a.classList.add(b):a.className+=" "+b};b.ahW=function(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(b,"")};b.SS=function(a){return{width:a.width||a.right-a.left,height:a.height||a.bottom-a.top,top:a.top,bottom:a.bottom,left:a.left,right:a.right}};
b.Jc=function(a){var b,d=PCCViewer.Deferred(),g={};PCCViewer.Ci.tU(g,{method:"GET",body:null,headers:{}},a);try{b=new XMLHttpRequest}catch(m){d.reject(new PCCViewer.Error("Error",m.message))}b.open(g.method,g.url,!0);b.onreadystatechange=function(){4===b.readyState&&(200<=b.status&&300>b.status?d.resolve(b.responseText):d.reject(new PCCViewer.Error("Error","An AJAX problem occurred: "+b.status+" "+b.statusText)))};a=null;for(a in g.headers)g.headers.hasOwnProperty(a)&&b.setRequestHeader(a,g.headers[a]);
"POST"===g.method&&"undefined"===typeof g.headers["Content-Type"]&&d.reject(new PCCViewer.Error("Error","An Ajax request with a method of POST must have a Content-Type header set."));a=null;if("POST"===g.method&&"application/x-www-form-urlencoded"===g.headers["Content-Type"]&&"json"===g.dataType){var k=[];for(a in g.body)g.body.hasOwnProperty(a)&&k.push(encodeURIComponent(a)+"="+encodeURIComponent(g.body[a]));g.body=k.join("&")}b.send(g.body);return d.getPromise()};b.OR=function(a,b,d){var g=[],k=
null,m;for(m=b;m<d+1;m++){b=a.le(m).ax;var q;q=k?1>Math.abs(b.y-k.y)&&1>Math.abs(b.height-k.height)&&b.x+b.width>=k.x+k.width:!1;q?k.union(b):(k=b.clone(),g.push(k))}return g};b.addEvent=function(a,b,d){a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent&&a.attachEvent("on"+b,d)};b.removeEvent=function(a,b,d){a.removeEventListener?a.removeEventListener(b,d,!1):a.detachEvent&&a.detachEvent("on"+b,d)};b.bspline=function(){function a(b,c){return b[0]*c[0]+b[1]*c[1]+b[2]*c[2]+b[3]*c[3]}function d(b){if(3>
b.length)return b.join("L");var e=1,n=b.length,u=b[0],r=u[0],l=u[1],C=[r,r,r,(u=b[1])[0]],E=[l,l,l,u[1]],r=[r,",",l,"L",a(k,C),",",a(k,E)];for(b.push(b[n-1]);++e<=n;){u=b[e];C.shift();C.push(u[0]);E.shift();E.push(u[1]);var l=C,w=E;r.push("C",a(f,l),",",a(f,w),",",a(g,l),",",a(g,w),",",a(k,l),",",a(k,w))}b.pop();r.push("L",u);return r.join("")}var f=[0,2/3,1/3,0],g=[0,1/3,2/3,0],k=[0,1/6,2/3,1/6];return function(a){a=b.map(a,function(a){return[a.x,a.y]});return d(a)}}();b.aEx=function(a){if(a.match(/[^a-zA-Z0-9\s\,\.]/))throw Error("The path data attribute is not valid. It cannot be parsed.");
a=b.filter(a.replace(/[Mm]/g,"|").split("|"),function(a){return!!a.length});return b.map(a,function(a){a=a.replace(/[a-zA-Z]/g,"|").split("|");return b.map(a,function(a){a=a.split(",");return{x:+a[0],y:+a[1]}})})};b.aem=function(a,d,f,g,k){k.er="12px";var m=b.wy(a,d,k);k.er=Math.min(12*f/(m.width||1),12*g/(m.height||1));return b.aeC(a,d,f,g,k)};b.aeC=function(a,d,f,g,k,m){m=m||1;var q={},n=b.wy(a,d,k),u=k.er;q.width=n.width;q.height=n.height;q.fontSize=u;if(3<m||n.width<f+1&&n.height<g+1)return q;
n=Math.min(u*f/(n.width||1),u*g/(n.height||1));if(n>=k.er)return q;k.er=n;return b.aeC(a,d,f,g,k,m+1)};b.wy=function(a,d,f){f=f||{};return document.createElementNS?b.ayW(a,d,f):b.agM(a,d,f)};b.ayW=function(a,d,f){var g,k=!1;f.ei?g=f.ei:(g=document.createElementNS("http://www.w3.org/2000/svg","svg"),g.setAttribute("style","border: 1px solid black"),g.setAttribute("width","600"),g.setAttribute("height","600"),k=!0,document.body.appendChild(g));var m=f.er||"12px";"number"===typeof m&&(m+="px");var q=
document.createElementNS("http://www.w3.org/2000/svg","text");b.forEach({x:0,y:0,"font-size":m,stroke:"none",fill:"#000000","font-family":d},function(a,b){q.setAttribute(b,a)});f.vR&&q.setAttribute("style","white-space:"+f.vR);m=document.createTextNode(a);q.appendChild(m);g.appendChild(q);var n=q.getBBox(),m=n.width,n=n.height;g.removeChild(q);k&&document.body.removeChild(g);return 0===m&&0===n&&"M"!==a?b.wy("M",d,f):{width:m,height:n}};b.agM=function(a,d,f){var g=document.createTextNode(a),k=document.createElement("div"),
m=f.er||"12px";"number"===typeof m&&(m+="px");b.forEach({position:"absolute",display:"inline-block",top:0,left:0,visibility:"hidden",fontSize:m,fontFamily:d},function(a,b){k.style[b]=a});f.vR&&(k.style.whiteSpace=f.vR);k.appendChild(g);document.body.appendChild(k);g=k.getBoundingClientRect();f=g.width||g.right-g.left;g=g.height||g.bottom-g.top;document.body.removeChild(k);return 0===f&&0===g&&"M"!==a?b.agM("M",d,m):{width:f,height:g}};b.Wb=function(a){function b(a,c){k.push(Number(a));m.push(Number(c))}
for(var d=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g,g=d.exec(a),k=[],m=[];null!==g;)g[1]?b(g[2],g[3]):g[4]?(b(g[5],g[6]),b(g[7],g[8]),b(g[9],g[10])):g[11]&&b(g[12],g[13]),g=d.exec(a);return{width:Math.max.apply(Math,k),height:Math.max.apply(Math,m)}};b.yF=b.aqA?{SVG:function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttribute("viewBox",
a);return b},Path:function(a,b){var d=document.createElementNS("http://www.w3.org/2000/svg","path");d.style.fill="none";d.style.stroke=b.color||"#000000";d.style.strokeWidth=b.thickness||4;a&&d.setAttribute("d",a.toString().trim());return d},Rect:function(a,b,d){var g=document.createElementNS("http://www.w3.org/2000/svg","rect");g.setAttribute("width",a||0);g.setAttribute("height",b||0);d&&g.setAttribute("style",d);return g}}:{SVG:function(a,b){var d=document.createElement("div");d.style.left="0px";
d.style.top="0px";d.style.position="relative";d.baseInit=!1;d.baseX=0;d.baseY=0;var g=d.setAttribute;d.setAttribute=function(a,c){"width"===a?this.style.width=c*(+b||1):"height"===a?this.style.height=c*(+b||1):"x"===a?this.style.left=c:"y"===a?this.style.top=c:"viewBox"===a?(a=c.split(" "),this.style.height=+a.pop()*(+b||1)+"px",this.style.width=+a.pop()*(+b||1)+"px"):g(a,c)};d.setAttribute("viewBox",a);d.setAttribute("data-pcc-mark","signature");return d},Path:function(a,b){var d=document.createElement("v:shape");
d.style.width=b.width*(+b.multiplier||1);d.style.height=b.height*(+b.multiplier||1);d.coordsize=[b.width,b.height].join(", ");d.style.position="absolute";d.setAttribute=function(a,b){if("d"===a){var c=a=0;b=b.replace(/(\d*)((\.*\d*)(e ?-?\d*))/g,"$1");b=b.match(/([MLHVCSQTAZ].*?)(?=[MLHVCSQTAZ]|$)/gi);for(var d="",f,e=0;e<b.length;e++){var r=b[e].substring(0,1),l=b[e].substring(1,b[e].length),l=l.split(/[, ]/);for(f=0;f<l.length;f++)l[f]=Math.round(l[f]);l=l.join();switch(r){case "M":r="m";f=l.split(/[, ]/);
a=parseInt(f[0],10);c=parseInt(f[1],10);break;case "m":r="t";f=l.split(/[, ]/);f[0]=parseInt(f[0],10)+parseInt(a,10);f[1]=parseInt(f[1],10)+parseInt(c,10);a=parseInt(f[0],10);c=parseInt(f[1],10);break;case "A":r="ae";l=l.split(/[, ]+/);l[0]=parseInt(l[0],10);l[1]=parseInt(l[1],10);l[2]=parseInt(l[2],10);l[3]=parseInt(l[3],10);l[4]=parseInt(l[4],10);l[5]=parseInt(l[5],10);l=l[4]+" "+l[5]+" "+2*l[2]+" "+2*l[3]+" 0 360";break;case "L":r="l";f=l.split(/[, ]+/);a=parseInt(f[0],10);c=parseInt(f[1],10);
break;case "l":r="r";f=l.split(/[, ]+/);f[0]=parseInt(f[0],10)+parseInt(a,10);f[1]=parseInt(f[1],10)+parseInt(c,10);a=parseInt(f[0],10);c=parseInt(f[1],10);break;case "c":r="v";break;case "z":r="xe";l="";break;default:r=r.toLowerCase()}d+=r+l}this.path=d}else"stroke"===a?(this.stroked="none"===b?0:1,this.strokecolor=b):"stroke-width"===a?this.strokeweight=parseFloat(b)/1.2+"pt":"fill"===a&&(this.filled="none"===b?0:1,this.fillcolor=b)};a&&d.setAttribute("d",a);d.setAttribute("stroke-width",b.thickness||
4);d.setAttribute("stroke",b.color||"#000000");d.filled=0;d.fillcolor="none";return d},Rect:function(a,b){var d=document.createElement("v:roundrect");d.rxy=0;d.svg2vmlStyle={fill:{value:"#000000",valueSource:"default"},stroke:{value:"none",valueSource:"default"},"stroke-width":{value:"1",valueSource:"default"}};d.setAttribute=function(a,b,c){this.svg2vmlStyle[a]&&(this.svg2vmlStyle[a].value=b,this.svg2vmlStyle[a].valueSource=c||"user");if("x"===a)this.style.left=parseInt(b,10)+"px";else if("y"===
a)this.style.top=parseInt(b,10)+"px";else if("stroke"===a)this.stroked="none"===b?0:1,this.strokecolor=b;else if("stroke-width"===a)this.strokeweight=parseFloat(b)/1.2+"pt";else if("fill"===a)this.filled="none"===b?0:1,this.fillcolor=b;else if("width"===a||"height"===a||"rx"===a||"ry"===a)"width"===a?this.style.width=parseInt(b,10)+"px":"height"===a?this.style.height=parseInt(b,10)+"px":"rx"!==a&&"ry"!==a||!parseInt(b,10)||(this.rxy=parseInt(b,10)),0!==this.rxy?(a=parseInt(this.style.width,10),b=
parseInt(this.style.height,10),a||(a=0),b||(b=0),b<a&&(a=b),this.arcsize=this.rxy/a):this.arcsize=0};a&&d.setAttribute("width",a);b&&d.setAttribute("height",b);for(var g in d.svg2vmlStyle)d.svg2vmlStyle[g].value&&"default"===d.svg2vmlStyle[g].valueSource&&d.setAttribute(g,d.svg2vmlStyle[g].value,"default");return d}};b.IR=function(a){var b=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})\.(\d{1,3})(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/.exec(a);return b?Date.UTC(b[1],(b[2]||1)-1,b[3]||
1,b[4]-(b[8]?b[8]+b[9]:0)||0,b[5]-(b[8]?b[8]+b[10]:0)||0,b[6]||0,((b[7]||0)+"00").substr(0,3)):Error(a+" cannot be parsed as an ISO 8601 date.")};b.yk=function(a){if(a.toISOString&&"function"===typeof a.toISOString)return a.toISOString();if(a instanceof Date){var b=function(a){return 10>a?"0"+a:a};return a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+(a.getUTCMilliseconds()/1E3).toFixed(3).slice(2,5)+"Z"}return Error(a+
" is not a Date object.")};b.vY=function(a){return a?"object"===typeof Node?a instanceof Node:a&&"object"===typeof a&&"number"===typeof a.nodeType&&"string"===typeof a.nodeName:!1};b.Si=function(a){if(b.vY(a))for(;a.firstChild;)a.removeChild(a.firstChild)};b.abk=function(a,b){var d=a.length,g=0,k=function(m){if(m)b(m);else if(0===--d)b();else a[g++](k)};a[g++](k)};b.agC=function(a){a=String(a).replace(/[^0-9a-f]/gi,"");6>a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);var b=parseInt(a.substring(0,2),
16),d=parseInt(a.substring(2,4),16);a=parseInt(a.substring(4,6),16);return{r:b,g:d,b:a}};b.azm=function(a){var b,d=function(a){for(;2>a.length;)a="0"+a;return a};b=""+d(Math.floor(a.r).toString(16));b+=d(Math.floor(a.g).toString(16));b+=d(Math.floor(a.b).toString(16));return"#"+b};b.apS=function(a,d,f){a=b.agC(a);d=b.agC(d);d.r=(1-f)*d.r+a.r*f;d.g=(1-f)*d.g+a.g*f;d.b=(1-f)*d.b+a.b*f;d.r=Math.floor(d.r);d.g=Math.floor(d.g);d.b=Math.floor(d.b);return b.azm(d)};b.alO=function(a,d){return b.reduceLeft(a,
function(a,d){void 0===d.opacity&&(d.opacity=127);return b.apS(d.color,a,d.opacity/255)},d)};b.aaw=function(a){if(0===a.length)return a;a=a.slice(0);a.sort(function(a,b){return a.startIndex-b.startIndex});for(var d=null,f=[],g=0,k=[],m=a[0].startIndex;0<a.length;){for(var g=0,k=null,k=[],q=0;q<a.length&&a[q].startIndex<=m;)m<=a[q].startIndex+a[q].length-1?(g++,k.push(a[q]),q++):a.splice(q,1);0<g?(g=b.alO(k,"#ffffff"),g===d?f[f.length-1].endIndex=m:f.push({startIndex:m,endIndex:m,color:g}),d=g,m++):
(0<a.length&&(m=a[0].startIndex),d=null)}return f};b.Hw=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")};b.Na=function(a,b){for(a=""+a;a.length<b;)a="0"+a;return a};b.aDN=function(a){a=a.getTimezoneOffset();return a=(0>a?"+":"-")+b.Na(parseInt(Math.abs(a/60),10),2)+b.Na(Math.abs(a%60),2)};b.ahg="Sun Mon Tue Wed Thurs Fri Sat".split(" ");b.Tk="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");b.adE=function(a){var d=
/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i.exec(a),f,g,k,m,q;if(d){a=d[1].toLowerCase();f=d[2];g=d[3];k=d[4];m=d[5];q=d[6];for(d=0;12>d&&b.Tk[d].toLowerCase()!==a;d++);return 12<=d?null:new Date(Date.UTC(q,d,f,g,k,m))}return null};b.aet=function(a){return b.ahg[a.getUTCDay()]+" "+b.Tk[a.getUTCMonth()]+" "+a.getUTCDate()+" "+a.getUTCHours()+":"+a.getUTCMinutes()+":"+a.getUTCSeconds()+" GMT+0000 "+a.getUTCFullYear()};b.ath=function(a){return b.ahg[a.getUTCDay()]+" "+b.Tk[a.getUTCMonth()]+
" "+a.getUTCDate()+" "+a.getUTCFullYear()};b.arS=function(a){return a.getUTCHours()+":"+a.getUTCMinutes()+":"+a.getUTCSeconds()+" GMT+0000"};b.Fh=function(a){return a.replace(/[&<>\"\']/g,function(a){switch(a){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";case '"':return"&quot;";case "'":return"&apos;";default:throw Error("Did not find a replacement character.");}})};b.aax=function(a){return a.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&apos;/g,
"'")};b.avq=function(a){function b(a){this.message=a}a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";b.prototype=Error();b.prototype.name="InvalidCharacterError";return{btoa:function(d){d=String(d);for(var g,k,m=0,q=a,n="";d.charAt(m|0)||(q="=",m%1);n+=q.charAt(63&g>>8-m%1*8)){k=d.charCodeAt(m+=.75);if(255<k)throw new b("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");g=g<<8|k}return n},atob:function(d){d=String(d).replace(/=+$/,"");
if(1==d.length%4)throw new b("'atob' failed: The string to be decoded is not correctly encoded.");for(var g=0,k,m,q=0,n="";m=d.charAt(q++);~m&&(k=g%4?64*k+m:m,g++%4)?n+=String.fromCharCode(255&k>>(-2*g&6)):0)m=a.indexOf(m);return n}}}();b.pa=function(){var a="down enter leave move out over up".split(" ");if(window.navigator.pointerEnabled){var b={};a.forEach(function(a){b[a]="pointer"+a});return b}if(window.navigator.msPointerEnabled){for(var d={},g=0;g<a.length;g++){var k=a[g],m="MSPointer"+k.charAt(0).toUpperCase()+
k.slice(1);d[k]=m}return d}return{}}();a.bg=b})(IPCC||{});IPCC.Type.registerNamespace("IPCC.Web.UI");IPCC.Web.UI.MarkType=function(){};IPCC.Web.UI.MarkType.registerEnum=IPCC.Web.regEnum;
IPCC.Web.UI.MarkType.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619,Strikethrough:620};IPCC.Web.UI.MarkType.registerEnum("IPCC.Web.UI.MarkType",!1);IPCC.Web.UI.HighLightType=function(){};
IPCC.Web.UI.HighLightType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.HighLightType.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3,Strikethrough:4};IPCC.Web.UI.HighLightType.registerEnum("IPCC.Web.UI.HighLight",!1);IPCC.Web.UI.MarkInteractionMode=function(){};IPCC.Web.UI.MarkInteractionMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkInteractionMode.prototype={Full:0,SelectionDisabled:1};IPCC.Web.UI.MarkInteractionMode.registerEnum("IPCC.Web.UI.MarkInteractionMode",!1);
IPCC.Web.UI.LineStyle=function(){};IPCC.Web.UI.LineStyle.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.LineStyle.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};IPCC.Web.UI.LineStyle.registerEnum("IPCC.Web.UI.LineStyle",!1);IPCC.Web.UI.LineHeadType=function(){};IPCC.Web.UI.LineHeadType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.LineHeadType.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};IPCC.Web.UI.LineHeadType.registerEnum("IPCC.Web.UI.LineHeadType",!1);IPCC.Web.UI.CalloutType=function(){};
IPCC.Web.UI.CalloutType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.CalloutType.prototype={Line:0,Triangle:1};IPCC.Web.UI.CalloutType.registerEnum("IPCC.Web.UI.CalloutType",!1);IPCC.Web.UI.FontStyle=function(){};IPCC.Web.UI.FontStyle.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.FontStyle.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};IPCC.Web.UI.FontStyle.registerEnum("IPCC.Web.UI.FontStyle",!0);IPCC.Web.UI.HorizontalAlignment=function(){};IPCC.Web.UI.HorizontalAlignment.registerEnum=IPCC.Web.regEnum;
IPCC.Web.UI.HorizontalAlignment.prototype={Left:0,Center:16,Right:32};IPCC.Web.UI.HorizontalAlignment.registerEnum("IPCC.Web.UI.HorizontalAlignment",!1);IPCC.Web.UI.VerticalAlignment=function(){};IPCC.Web.UI.VerticalAlignment.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.VerticalAlignment.prototype={Top:0,Center:1,Bottom:2};IPCC.Web.UI.VerticalAlignment.registerEnum("IPCC.Web.UI.VerticalAlignment",!1);IPCC.Web.UI.Orientation=function(){};IPCC.Web.UI.Orientation.registerEnum=IPCC.Web.regEnum;
IPCC.Web.UI.Orientation.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};IPCC.Web.UI.Orientation.registerEnum("IPCC.Web.UI.Orientation",!1);IPCC.Web.UI.MarkEventArgs=function(){return this};IPCC.Web.UI.MarkEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MarkEventArgs.prototype={};IPCC.Web.UI.MarkEventArgs.registerClass("IPCC.Web.UI.MarkEventArgs");
IPCC.Web.UI.MarkCollection=function(){var a=[],b=new IPCC.Web.UI.gR;this.RA=function(b){if(-1===this.JL(b)){a.push(b);var c=new IPCC.Web.UI.MarkEventArgs;c.mark=b;this.aR("markAdded",c)}};this.avp=function(b){var c=new IPCC.Web.UI.MarkEventArgs;c.length=b.get_length();var e=this;b.forEach(function(b){-1===e.JL(b)&&a.push(b)},{});0<c.length&&this.aR("markAdded",c)};this.mf=function(b,c){var e=[].concat(a),f;for(f=0;f<e.length;f++)b.call(c,e[f],f,this)};this.fj=function(){return a.length};this.wm=function(b){var c=
this.JL(b);-1<c&&(a.splice(c,1),c=new IPCC.Web.UI.MarkEventArgs,c.mark=b,this.aR("markRemoved",c))};this.JL=function(b){var c;for(c=0;c<a.length;c++)if(a[c]===b)return c;return-1};this.zo=function(a){b.addHandler("markAdded",a)};this.xQ=function(a){b.removeHandler("markAdded",a)};this.Al=function(a){b.addHandler("markRemoved",a)};this.xA=function(a){b.removeHandler("markRemoved",a)};this.aR=function(a,c){a=b.getHandler(a);null!==a&&a(this,c)};return this};
IPCC.Web.UI.MarkCollection.prototype={toString:function(){return"MarkCollection with "+this.get_length()+" marks"},addMark:function(a){this.RA(a)},addMarks:function(a){this.avp(a)},forEach:function(a,b){this.mf(a,b)},get_length:function(){return this.fj()},contains:function(a){return-1<this.JL(a)},removeMark:function(a){this.wm(a)},removeAllMarks:function(){this.mf(function(a,b,d){d.wm(a)})},add_markAdded:function(a){this.zo(a)},remove_markAdded:function(a){this.xQ(a)},add_markRemoved:function(a){this.Al(a)},
remove_markRemoved:function(a){this.xA(a)}};IPCC.Web.UI.MarkCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MarkCollection.registerClass("IPCC.Web.UI.MarkCollection");IPCC.Web.UI.aBu=1;
IPCC.Web.UI.Mark=function(a){function b(a,b){a="points";d===IPCC.Web.UI.MarkType.Line&&(a=0===b.index?"startPoint":"endPoint");u.bm(a,b)}var d=a;a=void 0;var c=new Date,e=new Date,f=null,g,k,m,q=new IPCC.Web.UI.Data,n=new IPCC.Web.UI.gR,u=this,r;this.dY=function(a,b){if(0===(r&a))throw new IPCC.Web.UI.ImGearInvalidOperationException(b+" is not a valid property for this type of Mark.");};d===IPCC.Web.UI.MarkType.SignatureText?(this.hG="#000000",this.fU=IPCC.Web.UI.LineStyle.Solid,this.ep=0):(this.hG=
"#000000",this.fU=IPCC.Web.UI.LineStyle.Solid,this.ep=1);this.cv=255;this.qU=IPCC.Web.UI.MarkInteractionMode.Full;a=!1;switch(d){case IPCC.Web.UI.MarkType.Line:a=!0;k=new IPCC.Web.UI.PointCollection;k.addPoint({x:0,y:0});k.addPoint({x:0,y:0});r=1;this.hG="#18385F";this.ep=6;break;case IPCC.Web.UI.MarkType.Polyline:a=!0;this.mn=!1;k=new IPCC.Web.UI.PointCollection;this.ep=r=2;break;case IPCC.Web.UI.MarkType.Rectangle:g=new IPCC.Web.UI.Rectangle(0,0,0,0);r=4;this.da="#FB0404";this.ep=4;break;case IPCC.Web.UI.MarkType.Ellipse:g=
new IPCC.Web.UI.Rectangle(0,0,0,0);r=8;this.da="#FB0404";this.ep=4;break;case IPCC.Web.UI.MarkType.Polygon:k=new IPCC.Web.UI.PointCollection;r=16;break;case IPCC.Web.UI.MarkType.Text:this.Ew="#000000";this.AH=!1;this.rI=IPCC.Web.UI.LineStyle.Solid;this.De=1;this.or=new IPCC.Web.UI.Point(0,0);this.HY=IPCC.Web.UI.CalloutType.Triangle;this.zT=!1;this.hv="Arial";this.er=12;this.eC=IPCC.Web.UI.FontStyle.Regular;this.fU=IPCC.Web.UI.LineStyle.Solid;g=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bz="";this.pz=
IPCC.Web.UI.HorizontalAlignment.Left;this.BV=IPCC.Web.UI.VerticalAlignment.Top;this.oR="#000000";this.tY=255;this.yz=IPCC.Web.UI.Orientation.TopLeft;this.fo=[];this.ep=4;this.cv=127;this.da="#FFFFFF";r=32;break;case IPCC.Web.UI.MarkType.Stamp:g=new IPCC.Web.UI.Rectangle(0,0,0,0);r=128;break;case IPCC.Web.UI.MarkType.Highlight:g=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bx="";this.ly="n";this.aV=0;this.cI="";this.dk=0;this.cv=127;r=256;break;case IPCC.Web.UI.MarkType.HighlightText:g=new IPCC.Web.UI.Rectangle(0,
0,0,0);this.bx="";this.ly="n";this.aV=0;this.cI="";this.dk=0;this.cv=127;this.da="#FFFF00";r=512;this.fo=[];this.bj=[];break;case IPCC.Web.UI.MarkType.Freehand:g=new IPCC.Web.UI.Rectangle(0,0,0,0);r=64;this.ep=4;this.hG="#000000";this.gD=!1;this.Uw=this.TE=1;this.sp="M0,0";break;case IPCC.Web.UI.MarkType.SignaturePath:g=new IPCC.Web.UI.Rectangle(0,0,0,0);r=1024;this.ep=4;this.hG="#000000";this.gD=!1;this.Uw=this.TE=1;this.sp="M0,0";break;case IPCC.Web.UI.MarkType.SignatureText:g=new IPCC.Web.UI.Rectangle(0,
0,0,0);r=2048;this.bz="John Doe";this.da=this.oR="#000000";this.hv="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:g=new IPCC.Web.UI.Rectangle(0,0,0,0);r=4096;this.hv="Arial";this.er=8;this.eC=IPCC.Web.UI.FontStyle.Regular;this.bz="";this.pz=IPCC.Web.UI.HorizontalAlignment.Center;this.BV=IPCC.Web.UI.VerticalAlignment.Center;this.da="#000000";this.oR="#FFFFFF";this.tY=255;this.yz=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:g=new IPCC.Web.UI.Rectangle(0,
0,0,0);this.bj=[];this.bz=this.fK=this.bx="";this.hv="Arial";this.er=8;this.dk=this.aV=0;r=8192;this.fo=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:g=new IPCC.Web.UI.Rectangle(0,0,0,0);this.oz="";this.ep=2;this.bx=this.cI="";this.ly="n";this.dk=this.aV=0;this.da="#3B00FF";r=16384;this.fo=[];this.bj=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:g=new IPCC.Web.UI.Rectangle(0,0,0,0);r=16384;this.rd=this.aF="";break;case IPCC.Web.UI.MarkType.DocumentHyperlink:g=
new IPCC.Web.UI.Rectangle(0,0,0,0);this.zf=this.yN=this.oz="";this.Ep=this.Gx=0;this.oP=255;r=32768;break;case IPCC.Web.UI.MarkType.TextLine:r=65536;g=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bz="";this.oR="#000000";this.hv="Courier New";this.ep=1;this.gD=!0;this.FT=0;this.Js=!1;var l=IPCC.bg.wy("M",this.hv,{vR:"pre"});this.wo=l.width;this.vt=l.height;break;case IPCC.Web.UI.MarkType.Strikethrough:g=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bx="";this.hG="#000000";this.ep=2;this.ly="n";this.aV=0;this.cI=
"";this.dk=0;r=131072;this.fo=[];this.bj=[];break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("type",d);}d!==IPCC.Web.UI.MarkType.SignaturePath&&d!==IPCC.Web.UI.MarkType.Freehand&&d!==IPCC.Web.UI.MarkType.SignatureText&&d!==IPCC.Web.UI.MarkType.DocumentHyperlink&&d!==IPCC.Web.UI.MarkType.HighlightText&&d!==IPCC.Web.UI.MarkType.Strikethrough&&d!==IPCC.Web.UI.MarkType.TextLine&&(a?(this.CW=15,this.DR=25,this.lM=IPCC.Web.UI.LineHeadType.None,this.tx="#000000",this.BK=15,this.CY=25,
this.Ei=IPCC.Web.UI.LineHeadType.None):(this.gD=this.yB=!0,d===IPCC.Web.UI.MarkType.Highlight&&(this.gD=!1,this.cv=100)));this.YY=IPCC.Web.UI.aBu++;this.hh=!0;this.bA={};this.dE=[];var C=!1;m=new IPCC.Web.UI.Conversation(u);m.add_commentAdded(function(a,b){u.aR("commentAdded",b)});m.add_commentChanged(function(a,b){u.aR("commentChanged",b)});m.add_commentRemoved(function(a,b){u.aR("commentRemoved",b)});this.aR=function(a,b){a=n.getHandler(a);null!==a&&a(this,b)};k&&(k.add_pointAdded(b),k.add_pointChanged(b),
k.add_pointRemoved(b));this.jJ=function(){return d};this.adV=function(){return c};this.act=function(a){c=a};this.aeO=function(){return e};this.Wo=function(a){e=a};this.eA=function(){return f};this.km=function(a){f!==a&&(f=a,this.bm("artPage"))};this.hX=function(){return C};this.nj=function(a){C=a};this.aer=function(){var a=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(d){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return k.wM();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Strikethrough:return g.clone();
case IPCC.Web.UI.MarkType.Text:var b=g.x+g.width,c=g.y+g.height,f=g.x+this.or.x,e=g.y+this.or.y;a.x=Math.min(g.x,Math.min(b,f));a.y=Math.min(g.y,Math.min(c,e));a.width=Math.max(g.x,Math.max(b,f))-a.x;a.height=Math.max(g.y,Math.max(c,e))-a.y}return a};this.fz=function(){return g.clone()};this.vW=function(a){this.Dc(16384,"image","aF",a)};this.cQ=function(){return this.aF};this.qy=function(){return k};this.arC=function(){return m};this.yc=function(){return q};this.EV=function(a){if(!g.equals(a)){g=
new IPCC.Web.UI.Rectangle(a.x,a.y,a.width,a.height);if(d===IPCC.Web.UI.MarkType.Stamp||d===IPCC.Web.UI.MarkType.SignatureText||d===IPCC.Web.UI.MarkType.TextLine)if(9>document.documentMode)a=g.width>=g.height?g.width/14/2:g.width/15,15*a>=g.width&&(a=g.width/15/2),this.stampSize=Math.round(a);else{var b=g.width/6;b>g.height&&(b=g.height-g.height/6);var c=this.get_text();c||(c=d===IPCC.Web.UI.MarkType.Stamp?"APPROVED":"");a=c.length*b;a>g.width&&(b=g.width/c.length);this.stampSize=Math.round(b).toString()}this.bm("rectangle")}};
this.hD=function(){return this.YY};this.Kd=function(a,b){if(0!==a||0!==b)switch(d){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:k.ake(a,b);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(d!==
IPCC.Web.UI.MarkType.RectangleRedaction||void 0===this.bx)g.x+=a,g.y+=b,this.bm("rectangle")}};this.Xi=function(a){if(this.fo&&a!==this.fo){for(;0<this.fo.length;)this.fo.pop();a&&(this.fo=a.slice(0));this.aR("markTextSelectionChanged",{})}};this.Hs=function(a){this.fo&&n.addHandler("markTextSelectionChanged",a)};this.LT=function(a){this.fo&&n.removeHandler("markTextSelectionChanged",a)};this.yH=function(a){n.addHandler("commentAdded",a)};this.Dh=function(a){n.removeHandler("commentAdded",a)};this.xk=
function(a){n.addHandler("commentRemoved",a)};this.Ea=function(a){n.removeHandler("commentRemoved",a)};this.uv=function(a){n.addHandler("commentChanged",a)};this.wk=function(a){n.removeHandler("commentChanged",a)};this.ix=function(a){n.addHandler("propertyChanged",a)};this.mP=function(a){n.removeHandler("propertyChanged",a)};this.bm=function(a){var b=n.getHandler("propertyChanged");b&&b(this,new IPCC.qY(a))};this.ix(function(a){a.Wo(new Date)});return this};
IPCC.Web.UI.Mark.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return"Line Mark from "+this.qy().getPoint(0)+" to "+this.qy().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return"Polyline Mark with "+this.qy().fj()+" vertices";case IPCC.Web.UI.MarkType.Rectangle:return"Rectangle Mark at "+this.fz();case IPCC.Web.UI.MarkType.RectangleRedaction:return"Rectangle Redaction Mark at "+this.fz();case IPCC.Web.UI.MarkType.Ellipse:return"Ellipse Mark at "+this.fz();
case IPCC.Web.UI.MarkType.Polygon:return"Polygon Mark with "+this.qy().fj()+" vertices";case IPCC.Web.UI.MarkType.Text:return'Text Mark, "'+this.bz+'", at '+this.fz();case IPCC.Web.UI.MarkType.Stamp:return"Stamp Mark at "+this.fz();case IPCC.Web.UI.MarkType.Highlight:return"Rectangle Mark at "+this.fz();case IPCC.Web.UI.MarkType.HighlightText:return"Highlight Mark at "+this.fz();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return"Text Selection Redaction at "+this.fz();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return"Text Hyperlink Annotation at "+
this.fz();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return"Document Hyperlink at "+this.fz();case IPCC.Web.UI.MarkType.SignaturePath:return'Signature Path Mark, "'+this.sp+'", at '+this.fz();case IPCC.Web.UI.MarkType.Freehand:return'Freehand Mark, "'+this.sp+'", at '+this.fz();case IPCC.Web.UI.MarkType.SignatureText:return"Signature Text Mark at "+this.fz();case IPCC.Web.UI.MarkType.TextLine:return"Text Line Mark at "+this.fz();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return"ImageStamp Mark at "+
this.fz();case IPCC.Web.UI.MarkType.ImageStampRedaction:return"ImageStamp Redaction Mark at "+this.fz();case IPCC.Web.UI.MarkType.Strikethrough:return"Strikethrough Mark at "+this.fz()}return"Mark"},initializeDates:function(a,b){IPCC.aJ.fR(a,"dateCreated");IPCC.aJ.fR(b,"dateModified");this.act(a);this.Wo(b)},get_dateCreated:function(){return this.adV()},get_dateModified:function(){return this.aeO()},nx:function(a,b,d,c){this.dY(a,b);this[d]!==c&&(this[d]=c,this.bm(b))},KA:function(a,b,d,c){IPCC.aJ.XK(c,
b);this.nx(a,b,d,c)},Er:function(a,b,d,c){IPCC.aJ.hV(c,b);this.nx(a,b,d,c)},zF:function(a,b,d,c,e,f){IPCC.aJ.lJ(c,b,e,f);this.nx(a,b,d,c)},VT:function(a,b,d,c,e,f){IPCC.aJ.ps(c,b,e,f);this.nx(a,b,d,c)},Dc:function(a,b,d,c){IPCC.aJ.bk(c,b,"string");this.nx(a,b,d,c)},wr:function(a,b,d,c,e){IPCC.aJ.kK(c,b,e);this.nx(a,b,d,c)},arb:function(a,b,d,c,e){IPCC.aJ.kK(c,b,e,!0);this.nx(a,b,d,c)},amb:function(a,b,d,c){IPCC.aJ.aq(c,b);this.nx(a,b,d,c)},get_artPage:function(){return this.eA()},get_boundingRectangle:function(){return this.aer()},
get_selected:function(){var a=this.eA();return a?a.AD().contains(this):!1},set_selected:function(a){var b=this.eA();if(b)this.qU===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled&&a||(b=b.AD(),a!==b.contains(this)&&(a?b.RA(this):b.wm(this),this.bm("selected")));else if(a)throw new IPCC.Web.UI.ImGearInvalidOperationException("A Mark cannot be selected unless it is associated with an ArtPage.");},get_calloutLineColor:function(){this.dY(32,"calloutLineColor");return this.Ew},set_calloutLineColor:function(a){this.KA(32,
"calloutLineColor","Ew",a)},get_calloutLineIsDistinct:function(){this.dY(32,"calloutLineIsDistinct");return this.AH},set_calloutLineIsDistinct:function(a){this.nx(32,"calloutLineIsDistinct","AH",a)},get_calloutLineStyle:function(){this.dY(32,"calloutLineStyle");return this.rI},set_calloutLineStyle:function(a){this.wr(32,"calloutLineStyle","rI",a,IPCC.Web.UI.LineStyle)},get_calloutLineWidth:function(){this.dY(32,"calloutLineWidth");return this.De},set_calloutLineWidth:function(a){this.zF(32,"calloutLineWidth",
"De",a,0,50)},get_calloutPoint:function(){this.dY(32,"calloutPoint");return this.or},set_calloutPoint:function(a){this.amb(32,"calloutPoint","or",a)},get_calloutType:function(){this.dY(32,"calloutType");return this.HY},set_calloutType:function(a){this.wr(32,"calloutType","HY",a,IPCC.Web.UI.CalloutType)},get_calloutVisible:function(){this.dY(32,"calloutVisible");return this.zT},set_calloutVisible:function(a){if(!this.zT&&a&&this.jJ()===IPCC.Web.UI.MarkType.Text&&0===this.or.x&&0===this.or.y){var b=
this.fz();this.set_calloutPoint({x:b.width,y:1.5*b.height})}this.nx(32,"calloutVisible","zT",a)},get_endHeadAngle:function(){this.dY(3,"endHeadAngle");return this.CW},set_endHeadAngle:function(a){this.zF(3,"endHeadAngle","CW",a,0,180)},get_endHeadLength:function(){this.dY(3,"endHeadLength");return this.DR},set_endHeadLength:function(a){this.zF(3,"endHeadLength","DR",a,0,100)},get_endHeadType:function(){this.dY(3,"endHeadType");return this.lM},set_endHeadType:function(a){this.wr(3,"endHeadType","lM",
a,IPCC.Web.UI.LineHeadType)},get_href:function(){this.dY(49152,"href");return this.oz},set_href:function(a){this.Dc(49152,"href","oz",a)},get_borderType:function(){this.dY(32768,"borderType");return this.yN},set_borderType:function(a){this.Dc(32768,"borderType","yN",a)},get_borderHorizontalRadius:function(){this.dY(32768,"borderHorizontalRadius");return this.Gx},set_borderHorizontalRadius:function(a){this.Er(32768,"borderHorizontalRadius","Gx",a)},get_borderVerticalRadius:function(){this.dY(32768,
"borderVerticalRadius");return this.Ep},set_borderVerticalRadius:function(a){this.Er(32768,"borderVerticalRadius","Ep",a)},get_borderOpacity:function(){this.dY(32768,"oP");return this.oP},set_borderOpacity:function(a){this.VT(32768,"oP","oP",a,0,255)},get_borderPattern:function(){this.dY(32768,"zf");return this.zf},set_borderPattern:function(a){this.nx(32768,"zf","zf",a,0,255)},get_fillColor:function(){this.dY(32764,"fillColor");return this.da},set_fillColor:function(a){this.KA(32764,"fillColor",
"da",a)},get_fillVisible:function(){this.dY(16380,"fillVisible");return this.yB},set_fillVisible:function(a){this.nx(16380,"fillVisible","yB",a)},get_fontName:function(){this.dY(79904,"fontName");return this.hv},set_fontName:function(a){this.Dc(79904,"fontName","hv",a);if(this.jJ()===IPCC.Web.UI.MarkType.SignatureText||this.jJ()===IPCC.Web.UI.MarkType.TextLine)a=this.jJ()===IPCC.Web.UI.MarkType.TextLine?{vR:"pre"}:{},a=IPCC.bg.wy(this.bz,this.hv,a),this.wo=a.width,this.vt=a.height;this.jJ()===IPCC.Web.UI.MarkType.TextLine&&
(this.Js=!1)},get_fontSize:function(){this.dY(14368,"fontSize");return this.er},set_fontSize:function(a){this.zF(14368,"fontSize","er",a,.1,288)},get_fontStyle:function(){this.dY(6176,"fontStyle");return this.eC},set_fontStyle:function(a){this.arb(6176,"fontStyle","eC",a,IPCC.Web.UI.FontStyle)},get_headFillColor:function(){this.dY(3,"headFillColor");return this.tx},set_headFillColor:function(a){this.KA(3,"headFillColor","tx",a)},get_interactionMode:function(){this.dY(-1,"interactionMode");return this.qU},
set_interactionMode:function(a){this.wr(-1,"interactionMode","qU",a,IPCC.Web.UI.MarkInteractionMode);a===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled&&this.set_selected(!1)},get_isClosed:function(){this.dY(2,"isClosed");return this.mn},set_isClosed:function(a){this.nx(2,"isClosed","mn",a)},get_lineColor:function(){return this.hG},set_lineColor:function(a){this.KA(177407,"lineColor","hG",a)},get_lineStyle:function(){return this.fU},set_lineStyle:function(a){this.wr(32831,"lineStyle","fU",a,IPCC.Web.UI.LineStyle)},
get_lineWidth:function(){return this.ep},set_lineWidth:function(a){this.zF(177407,"lineWidth","ep",a,0,50)},get_lineVisible:function(){this.dY(65708,"lineVisible");return this.gD},set_lineVisible:function(a){this.nx(65708,"lineVisible","gD",a)},get_opacity:function(){return this.cv},set_opacity:function(a){this.VT(3967,"opacity","cv",a,0,255)},get_points:function(){this.dY(19,"points");return this.qy()},get_conversation:function(){return this.arC()},get_data:function(){return this.yc()},get_image:function(){this.dY(16384,
"image");return this.cQ()},set_image:function(a){this.dY(16384,"image");this.vW(a)},get_rectangle:function(){this.dY(262124,"rectangle");return this.fz()},set_rectangle:function(a){this.dY(262124,"rectangle");IPCC.aJ.C(a,"rectangle");this.EV(a);this.jJ()===IPCC.Web.UI.MarkType.TextLine&&(this.Js=!1)},get_startHeadAngle:function(){this.dY(3,"startHeadAngle");return this.BK},set_startHeadAngle:function(a){this.zF(3,"startHeadAngle","BK",a,0,180)},get_startHeadLength:function(){this.dY(3,"startHeadLength");
return this.CY},set_startHeadLength:function(a){this.zF(3,"startHeadLength","CY",a,0,100)},get_startHeadType:function(){this.dY(3,"startHeadType");return this.Ei},set_startHeadType:function(a){this.wr(3,"startHeadType","Ei",a,IPCC.Web.UI.LineHeadType)},get_text:function(){this.dY(211104,"text");return this.bz},set_text:function(a){if(this.bz!==a){this.Dc(211104,"text","bz",a);if(this.jJ()===IPCC.Web.UI.MarkType.SignatureText||this.jJ()===IPCC.Web.UI.MarkType.TextLine)a=this.jJ()===IPCC.Web.UI.MarkType.TextLine?
{vR:"pre"}:{},a=IPCC.bg.wy(this.bz,this.hv,a),this.wo=a.width,this.vt=a.height;if(this.fo)for(;0<this.fo.length;)this.fo.pop()}},get_textHorizontalAlignment:function(){this.dY(2080,"textHorizontalAlignment");return this.pz},set_textHorizontalAlignment:function(a){this.wr(2080,"textHorizontalAlignment","pz",a,IPCC.Web.UI.HorizontalAlignment)},get_textVerticalAlignment:function(){this.dY(32,"textVerticalAlignment");return this.BV},set_textVerticalAlignment:function(a){this.wr(32,"textVerticalAlignment",
"BV",a,IPCC.Web.UI.VerticalAlignment)},get_textColor:function(){this.dY(71712,"textColor");return this.oR},set_textColor:function(a){this.KA(71712,"textColor","oR",a)},get_textOpacity:function(){this.dY(32,"textOpacity");return this.tY},set_textOpacity:function(a){this.VT(32,"textOpacity","tY",a,0,255)},get_textOrientation:function(){this.dY(32,"textOrientation");return this.yz},set_textOrientation:function(a){this.wr(32,"textOrientation","yz",a,IPCC.Web.UI.Orientation)},get_type:function(){return this.jJ()},
get_visible:function(){return this.hh},set_visible:function(a){this.nx(262143,"visible","hh",a)},get_markID:function(){return this.hD()},get_pathString:function(){return this.sp},set_pathString:function(a){this.get_pathString()!==a&&(this.NH=!0);this.Dc(1088,"pathString","sp",a)},get_pathWidth:function(){return this.TE},set_pathWidth:function(a){this.Er(1088,"pathWidth","TE",a)},get_pathHeight:function(){return this.Uw},set_pathHeight:function(a){this.Er(1088,"pathHeight","Uw",a)},get_startIndex:function(){this.dY(156160,
"startIndex");return this.aV},set_startIndex:function(a){this.Er(156160,"startIndex","aV",a)},get_textLength:function(){this.dY(156160,"textLength");return this.dk},set_textLength:function(a){this.Er(156160,"textLength","dk",a)},add_propertyChanged:function(a){this.ix(a)},remove_propertyChanged:function(a){this.mP(a)},add_markTextSelectionChanged:function(a){this.Hs(a)},remove_markTextSelectionChanged:function(a){this.LT(a)},move:function(a,b){IPCC.aJ.hV(a,"deltaX");IPCC.aJ.hV(b,"deltaY");this.Kd(a,
b)},moveBackward:function(){if(this.eA()){var a=this.eA().oA(this),b=this.eA().afC();a>b&&this.eA().reorderMark(this,a-1)}else throw new IPCC.Web.UI.ImGearInvalidOperationException("A Mark cannot be reordered unless it is associated with an ArtPage.");},moveForward:function(){if(this.eA()){var a=this.eA().oA(this);a<this.eA().VW()-1&&this.eA().reorderMark(this,a+1)}else throw new IPCC.Web.UI.ImGearInvalidOperationException("A Mark cannot be reordered unless it is associated with an ArtPage.");},moveToBack:function(){if(this.eA()){var a;
a=this.eA().afC();this.eA().reorderMark(this,a)}else throw new IPCC.Web.UI.ImGearInvalidOperationException("A Mark cannot be reordered unless it is associated with an ArtPage.");},moveToFront:function(){if(this.eA())this.eA().reorderMark(this,this.eA().VW()-1);else throw new IPCC.Web.UI.ImGearInvalidOperationException("A Mark cannot be reordered unless it is associated with an ArtPage.");},removeFromPage:function(){this.eA()&&this.eA().removeMark(this)},selectText:function(a){this.Xi(a)},azY:function(){function a(a,
c){b[c]=d[a]}var b={},d=this,c,e,f,g;c=g=e=!1;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:c=e=!0;b.__type="LineMark:#IPCC.Web";break;case IPCC.Web.UI.MarkType.Polyline:c=e=!0;b.__type="PolyLineMark:#IPCC.Web";a("mn","ic");break;case IPCC.Web.UI.MarkType.Rectangle:g=!0;b.__type="RectangleMark:#IPCC.Web";break;case IPCC.Web.UI.MarkType.RectangleRedaction:g=!0;b.__type="RectangleRedactionMark:#IPCC.Web";break;case IPCC.Web.UI.MarkType.Ellipse:g=!0;b.__type="EllipseMark:#IPCC.Web";break;case IPCC.Web.UI.MarkType.Polygon:c=
!0;b.__type="PolygonMark:#IPCC.Web";break;case IPCC.Web.UI.MarkType.Text:g=!0;b.__type="TextMark:#IPCC.Web";a("Ew","clc");a("AH","clid");a("rI","cls");a("De","clw");a("HY","ct");a("zT","cv");a("hv","fn");a("er","fs");a("eC","fst");a("fU","ls");a("bz","te");a("pz","tha");a("BV","tva");a("oR","tc");a("tY","to");a("yz","tor");f=this.or;if(0!==f.x||0!==f.y)b.cp={x:f.x,y:f.y};break;case IPCC.Web.UI.MarkType.Stamp:g=!0;b.__type="StampMark:#IPCC.Web";break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:g=
!0,b.__type="HighlightText:#IPCC.Web"}e?(a("CW","eha"),a("DR","ehl"),a("lM","eht"),a("tx","hfc"),a("BK","sha"),a("CY","shl"),a("Ei","sht")):(a("da","fc"),a("yB","fv"),a("gD","lv"));g&&(f=this.get_rectangle(),b.r={x:f.x,y:f.y,width:f.width,height:f.height});b.t=this.get_type();a("hG","lc");a("fU","ls");a("ep","lw");a("cv","o");a("hh","v");if(c){c=this.qy();e=[];for(g=0;g<c.get_length();g++)f=c.getPoint(g),e.push({x:f.x,y:f.y});b.p=e}return b},aBf:function(a){function b(b,c){a.hasOwnProperty(c)&&(d[b]=
a[c])}var d=this,c,e,f=e=!1,g=!1;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:e=!0;a.p&&2===a.p.length&&(c=this.qy(),c.setPoint(0,new IPCC.Web.UI.Point(a.p[0].x,a.p[0].y)),c.setPoint(1,new IPCC.Web.UI.Point(a.p[1].x,a.p[1].y)));break;case IPCC.Web.UI.MarkType.Polyline:g=e=!0;b("mn","ic");break;case IPCC.Web.UI.MarkType.Rectangle:f=!0;break;case IPCC.Web.UI.MarkType.RectangleRedaction:f=!0;break;case IPCC.Web.UI.MarkType.Ellipse:f=!0;break;case IPCC.Web.UI.MarkType.Polygon:g=!0;break;case IPCC.Web.UI.MarkType.Text:f=
!0;b("Ew","clc");b("AH","clid");b("rI","cls");b("De","clw");b("HY","ct");b("zT","cv");b("hv","fn");b("er","fs");b("eC","fst");b("fU","ls");b("bz","te");b("pz","tha");b("BV","tva");b("oR","tc");b("tY","to");b("yz","tor");a.cp&&(this.or=new IPCC.Web.UI.Point(a.cp.x,a.cp.y));break;case IPCC.Web.UI.MarkType.Stamp:f=!0;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:case IPCC.web.UI.MarkType.Strikethrough:f=!0}e?(b("CW","eha"),b("DR","ehl"),b("lM","eht"),b("tx","hfc"),
b("BK","sha"),b("CY","shl"),b("Ei","sht")):(b("da","fc"),b("yB","fv"),b("gD","lv"));f&&a.r&&this.set_rectangle(new IPCC.Web.UI.Rectangle(a.r.x,a.r.y,a.r.width,a.r.height));a.t=this.get_type();b("hG","lc");b("fU","ls");b("ep","lw");b("cv","o");b("hh","v");if(a.p&&g)for(c=this.qy(),e=0;e<a.p.length;e++)c.addPoint(new IPCC.Web.UI.Point(a.p[e].x,a.p[e].y));return a}};IPCC.Web.UI.Mark.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Mark.registerClass("IPCC.Web.UI.Mark");
IPCC.Web.UI.ArtPage=function(){function a(b,d){b=d.mark;if(!b.bj||!b.bj[0]||!1!==b.bj[0].hh){var c,f=d.mark.get_selected();if(b.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&void 0!==b.bx){J.remove_markAdded(a);J.remove_markRemoved(a);for(var e=0;e<y.length;e++)y[e].bx===b.bx&&(y[e].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction?c=y[e]:y[e].set_selected(d.mark.get_selected()));J.add_markAdded(a);J.add_markRemoved(a);c&&c.set_selected(f)}else{if(b.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){J.remove_markAdded(a);
J.remove_markRemoved(a);for(c=0;c<b.bj.length;c++)b.bj[c].set_selected(d.mark.get_selected());J.add_markAdded(a);J.add_markRemoved(a)}d=new IPCC.Web.UI.MarkEventArgs;d.mark=b;d.zIndex=L.oA(b);d.length=1;L.aR("markSelectionChanged",d)}}}function b(a){IPCC.aJ.ps(a,"zIndex",0,y.length-1)}function d(a,b){if("selected"!==b.get_propertyName()){var d=new IPCC.Web.UI.MarkEventArgs;d.mark=a;d.zIndex=L.oA(a);d.propertyName=b.cW;d.length=1;(d.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||d.mark.get_type()===
IPCC.Web.UI.MarkType.RectangleRedaction&&"undefined"!==d.mark.bx)&&L.apu(a);L.aR("markChanged",d)}}function c(a){var b=new IPCC.Web.UI.MarkEventArgs;b.mark=a;b.zIndex=L.oA(a);b.length=1;L.aR("markTextSelectionChanged",b)}function e(a,b){var d=new IPCC.Web.UI.CommentEventArgs;d.mark=a;d.comment=b.comment;d.index=b.index;L.aR("commentAdded",d)}function f(a,b){var d=new IPCC.Web.UI.CommentEventArgs;d.mark=a;d.comment=b.comment;d.index=b.index;L.aR("commentRemoved",d)}function g(a,b){var d=new IPCC.Web.UI.CommentEventArgs;
d.mark=a;d.comment=b.comment;d.index=b.index;L.aR("commentChanged",d)}function k(a,b,d){var c=parseFloat(a.getAttribute(b));a=parseFloat(a.getAttribute(b+"UC"));return d/(c/a)}function m(a,b,d){var c=a.getAttribute("pageWidth"),f=a.getAttribute("pageHeight"),e;if(c&&f&&(c=parseFloat(c),f=parseFloat(f),isFinite(c)&&isFinite(f)&&0<c&&0<f))return b/c;for(e=0;e<a.childNodes.length;e++)if(c=a.childNodes[e],"annotation"===c.nodeName){f=k(c,"width",b);if(isFinite(f)&&0<f)return f;f=k(c,"height",d);if(isFinite(f)&&
0<f)return f;f=k(c,"x",b);if(isFinite(f)&&0<f)return f;f=k(c,"y",d);if(isFinite(f)&&0<f)return f}return 1}function q(a,b){for(var d=0;d<a.childNodes.length;d++){var c=a.childNodes[d];if("kvp"===c.nodeName){var f=c.getAttribute("key"),c=c.getAttribute("value");b.set_data(f,c)}}}function n(a,b){for(var d=null,c,f=0;f<a.childNodes.length;f++)if(c=a.childNodes[f],"line-rectangles"===c.nodeName){if(d)throw Error("An XML annotation node cannot have more than one line-rectangles child node.");d=c;c=b;for(var e=
[],g,p=0;p<d.childNodes.length;p++)g=d.childNodes[p],"rectangle"===g.nodeName&&e.push(u(g,c));d=e}return d}function u(a,b){var d=parseFloat(a.getAttribute("x"))*b,c=parseFloat(a.getAttribute("y"))*b,f=parseFloat(a.getAttribute("width"))*b;a=parseFloat(a.getAttribute("height"))*b;return new IPCC.Web.UI.Rectangle(d,c,f,a)}function r(a,b){for(var d=0;d<a.length;d++){var c=a[d].attribs,f=!1;if(1<a[d].attribs.length&&!f&&"font"===a[d].Il){for(var f=!0,e=0;e<c.length;e++)if("FACE"===c[e].cZ)b.set_fontName(c[e].h);
else if("SIZE"===c[e].cZ&&b.get_type()!==IPCC.Web.UI.MarkType.TextLine){var g=parseFloat(c[e].h);b.set_fontSize(g)}else"COLOR"===c[e].cZ&&(g=c[e].h,b.get_type()===IPCC.Web.UI.MarkType.SignatureText?b.set_fillColor(g):b.set_textColor(g));c=!1;if(a[d+1]&&b.get_type()!==IPCC.Web.UI.MarkType.TextLine){if("font"===a[d+1].tagName)break;else if(e=a[d+1].Il,"b"===e||"i"===e||"u"===e||"s"===e)"b"===e?b.set_fontStyle(IPCC.Web.UI.FontStyle.Bold):"i"===e?b.set_fontStyle(IPCC.Web.UI.FontStyle.Italic):"u"===e?
b.set_fontStyle(IPCC.Web.UI.FontStyle.Underline):"s"===e&&b.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout),c=!0;a[d+2]&&(c=l(b,c,a[d+2].Il));a[d+3]&&(c=l(b,c,a[d+3].Il));a[d+4]&&l(b,c,a[d+4].Il);if(f)break}}}}function l(a,b,d){var c=b;b?"b"===d?(a.set_fontStyle(a.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold),c=!0):"i"===d?(a.set_fontStyle(a.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic),c=!0):"u"===d?(a.set_fontStyle(a.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline),c=!0):"s"===d&&(a.set_fontStyle(a.get_fontStyle()|
IPCC.Web.UI.FontStyle.Strikeout),c=!0):"b"===d?(a.set_fontStyle(IPCC.Web.UI.FontStyle.Bold),c=!0):"i"===d?(a.set_fontStyle(IPCC.Web.UI.FontStyle.Italic),c=!0):"u"===d?(a.set_fontStyle(IPCC.Web.UI.FontStyle.Underline),c=!0):"s"===d&&(a.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout),c=!0);return c}function C(a){var b={};a=a.split(",");for(var d=0;d<a.length;d++)b[a[d]]=!0;return b}function E(a,b,d){if(a){var c={gC:"line-rectangles",dE:[],bA:{}};IPCC.bg.forEach(a,function(a){c.dE.push({gC:"rectangle",
dE:[],bA:{x:a.x,y:a.y,height:a.height,width:a.width}})});return c}}function w(a){if(a){var b=a.get_dataKeys();if(0!==b.length){var d={gC:"data",dE:[],bA:{}};IPCC.bg.forEach(b,function(b){var c=a.get_data(b);d.dE.push({gC:"kvp",dE:[],bA:{key:b,value:c}})});return d}}}function t(a){if(a&&0!==a.get_length()){var b={gC:"conversation",dE:[],bA:{}},d={gC:"comments",dE:[],bA:{}};b.dE.push(d);a.forEach(function(a){var b;a?(b={gC:"comment",dE:[],bA:{}},b.bA.text=IPCC.bg.Fh(a.get_text()),b.bA.created=a.get_creationTime(),
(a=w(a.get_data()))&&b.dE.push(a)):b=void 0;b&&d.dE.push(b)});(a=w(a.get_data()))&&b.dE.push(a);return b}}var y=[],D=new IPCC.Web.UI.gR,J=new IPCC.Web.UI.MarkCollection,L=this,F=!0;this.aBS=[];J.add_markAdded(a);J.add_markRemoved(a);var p=J.addMark;J.addMark=function(a){if(0>L.oA(a))throw new IPCC.Web.UI.ImGearInvalidOperationException("You cannot select a Mark that is not associated with the ArtPage.");J.contains(a)||(p.call(J,a),a.bm("selected"))};var H=J.addMarks;J.addMarks=function(a){var b=[];
a.forEach(function(a){if(0>L.oA(a))throw new IPCC.Web.UI.ImGearInvalidOperationException("You cannot select a Mark that is not associated with the ArtPage.");J.contains(a)||b.push(a)},{});H.call(J,a);for(a=0;a<b.length;a++)b[a].bm("selected")};var B=J.removeMark;J.removeMark=function(a){J.contains(a)&&(B.call(J,a),a.bm("selected"))};var x=J.removeAllMarks;J.removeAllMarks=function(){var a=[];J.forEach(function(b){J.contains(b)&&a.push(b)},{});x.call(J);var b;for(b=0;b<a.length;b++)a[b].bm("selected")};
this.VW=function(){return y.length};this.afC=function(){for(var a=0;a<y.length&&(y[a].get_type()===IPCC.Web.UI.MarkType.HighlightText||y[a].get_type()===IPCC.Web.UI.MarkType.Highlight||y[a].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&void 0!==y[a].bx);a++);return a};this.AD=function(){return J};this.GA=function(a){a!==F&&(F=a,this.bm("CB"))};this.GD=function(){return F};var K=!1;this.mt=function(){return K};this.qi=function(a){"boolean"===typeof a&&(K=a,this.bm("redactionDraftMode"))};this.RA=
function(a,b){b=b||{};if(0<=this.oA(a))throw new IPCC.Web.UI.ImGearInvalidOperationException("You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.");if(a.eA())throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException("You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.");y.push(a);a.km(this);a.add_propertyChanged(d);a.add_markTextSelectionChanged(c);a.yH(e);a.xk(f);a.uv(g);var p=new IPCC.Web.UI.MarkEventArgs;p.mark=
a;a.get_type()===IPCC.Web.UI.MarkType.Highlight||a.get_type()===IPCC.Web.UI.MarkType.HighlightText||a.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||a.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||a.get_type()===IPCC.Web.UI.MarkType.Strikethrough||a.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&void 0!==a.bx?this.adR(a,0):p.zIndex=y.length-1;p.clientX=b.clientX;p.clientY=b.clientY;p.length=1;L.aR("markAdded",p)};this.Gy=function(a,b){var d=[].concat(y),c;for(c=0;c<d.length;c++)a.call(b,
d[c],c,this)};this.NA=function(a){b(a);return y[a]};this.oA=function(a){var b;for(b=0;b<y.length;b++)if(y[b]===a)return b;return-1};this.aBx=function(a){var b;b="undefined"!==typeof JSON?JSON.parse(a):IPCC.bY.pk(a,!0);this.XN();a=[];var f=b.m;if(f)for(b=0;b<f.length;b++){var e=new IPCC.Web.UI.Mark(f[b].t);e.aBf(f[b]);e.km(this);e.add_propertyChanged(d);e.add_markTextSelectionChanged(c);a.push(e)}y=a;L.aR("marksLoaded",{})};var M=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.arr=function(){var a=
Array(36),b=0,d,c;for(d=0;8>d;d++)a[b++]=M[Math.floor(16*Math.random())];for(d=0;3>d;d++)for(a[b++]=45,c=0;4>c;c++)a[b++]=M[Math.floor(16*Math.random())];a[b++]=45;c=("0000000"+(new Date).getTime().toString(16).toUpperCase()).substr(-8);for(d=0;8>d;d++)a[b++]=c.charCodeAt(d);for(d=0;4>d;d++)a[b++]=M[Math.floor(16*Math.random())];return String.fromCharCode.apply(null,a)};this.anv=function(a,b,p,k,l,h,H,B){!0!==H&&this.XN();if(a){for(H=(IPCC.vP.As()?a.firstChild:"xml"===a.firstChild.nodeName.toLowerCase()?
a.firstChild.nextSibling:a.firstChild).firstChild;1!==H.nodeType;)H=H.nextSibling;if("pages"!==H.nodeName)throw"ERROR: pages";if(H.hasChildNodes()){var u;for(u=0;u<H.childNodes.length;u++){var A=H.childNodes[u];if("page"===A.nodeName){var T=A.getAttribute("id"),C=!1,x,F,K,M;if(l){var w=A.getAttribute("pageWidth"),J=A.getAttribute("pageHeight");w&&l.arj(w);J&&l.aqf(J)}var t,w={};if((T&&parseInt(T,10))===b+1){var C=!0,J=[],D,z,U,I,G,Ia=1;D=m(A,p,k);0<D&&(Ia=D);for(D=0;D<A.childNodes.length;D++)if(G=
A.childNodes[D],"annotation"===G.nodeName){t=parseFloat(G.getAttribute("width"))*Ia;F=parseFloat(G.getAttribute("height"))*Ia;K=parseFloat(G.getAttribute("x"))*Ia;M=parseFloat(G.getAttribute("y"))*Ia;var X=G.getAttribute("fillColor"),v=G.getAttribute("lineColor");I=G.getAttribute("fontColor");var O;if("transparent"===X)x=X;else{X=parseInt(X||0,10);for(x=parseInt(X,10).toString(16);6>x.length;)x="0"+x;x="#"+x}if("transparent"===v)U=v;else{v=parseInt(v||0,10);for(U=parseInt(v,10).toString(16);6>U.length;)U=
"0"+U;U="#"+U}if(I){O=parseInt(I||0,10);for(O=parseInt(O,10).toString(16);6>O.length;)O="0"+O;O="#"+O}I=G.getAttribute("stampSize");var va=G.getAttribute("dragDirection"),v=parseInt(G.getAttribute("opacity"),10);isNaN(v)&&(v=0);if("annotation"===G.nodeName){G.getAttribute("label");X=G.getAttribute("drawType");switch(X){case "imagestamp":case "imagestamp_redact":x=G.getAttribute("imageStampId");z=new IPCC.Web.UI.Mark("imagestamp"===X?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction);
z.set_rectangle({x:K,y:M,width:t,height:F});z.set_image(h[x].base64format);z.rd=x;"imagestamp_redact"===X&&z.nj(!0);break;case "circle":z=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);z.set_rectangle({x:K,y:M,width:t,height:F});z.set_lineColor(U);z.set_fillVisible(!1);z.set_lineWidth(parseFloat(G.getAttribute("lineWidth")));break;case "circle_filled":case "circle_trans":z=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);z.set_rectangle({x:K,y:M,width:t,height:F});z.set_fillColor(x);z.set_lineColor(U);
z.set_fillVisible(!0);z.set_lineWidth(parseFloat(G.getAttribute("lineWidth")));break;case "text":case "text_redact":z=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);z.set_rectangle({x:K,y:M,width:t,height:F});z.set_fontName("verdana");z.set_fontSize(10);z.set_opacity(0);z.set_fillColor("#000000");"text_redact"===X&&z.nj(!0);"text"===X&&(z.set_fillColor(x),z.set_lineColor(U),z.set_lineWidth(parseFloat(G.getAttribute("lineWidth"))),z.set_fillVisible(!0),z.set_opacity(v));t=[];for(F=G.firstChild;F&&
4!==F.nodeType;)F=F.nextSibling;if(F&&4===F.nodeType){F=F.innerText||F.textContent||F.data;z.bA.bz=F;x=F.split("</TEXTFORMAT>");F="";K=[];for(M=0;M<x.length;M++)x[M].match(/<TEXTFORMAT/)&&(x[M]+="</TEXTFORMAT>",t.push(x[M]));for(M=0;M<t.length;M++)switch(t[M].match(/<P/)&&(x=this.afu(t[M]),K.push(x),F+=x+" ",0===M&&(x=this.aep(t[M]),r(x,z))),F=F.replace(/\s+$/g,""),z.set_text(F),this.asr(t[M])){case "CENTER":z.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case "RIGHT":z.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);
break;default:z.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left)}}break;case "line":case "arrow":z=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);x=z.qy();"br"===va?(x.setPoint(1,new IPCC.Web.UI.Point(K+t,M+F)),x.setPoint(0,new IPCC.Web.UI.Point(K,M))):"bl"===va?(x.setPoint(1,new IPCC.Web.UI.Point(K,M+F)),x.setPoint(0,new IPCC.Web.UI.Point(K+t,M))):"tr"===va?(x.setPoint(1,new IPCC.Web.UI.Point(K+t,M)),x.setPoint(0,new IPCC.Web.UI.Point(K,M+F))):"tl"===va&&(x.setPoint(1,new IPCC.Web.UI.Point(K,
M)),x.setPoint(0,new IPCC.Web.UI.Point(K+t,M+F)));z.set_lineColor(U);z.set_lineWidth(parseFloat(G.getAttribute("lineWidth")));"arrow"===X&&(z.set_headFillColor(U),z.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid),z.set_startHeadAngle(30),z.set_startHeadLength(35),z.set_lineWidth(parseFloat(G.getAttribute("lineWidth"))));break;case "stamp":case "stamp_redact":z=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);z.set_rectangle({x:K,y:M,width:t,height:F});z.set_fillColor(U);"stamp_redact"===X&&(z.nj(!0),
z.set_fillColor("#000000"));for(F=G.firstChild;F&&4!==F.nodeType;)F=F.nextSibling;F&&4===F.nodeType&&(F=F.innerText||F.textContent||F.data,z.bA.bz=F,z.set_text(F));break;case "highlightText":z=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);z.set_rectangle({x:K,y:M,width:t,height:F});z.set_fillColor(U);z.bx=G.getAttribute("highlightGroupID");G.getAttribute("textLength")&&(z.dk=parseInt(G.getAttribute("textLength"),10));z.cI=G.getAttribute("selectedText");G.getAttribute("startIndex")&&(z.aV=
parseInt(G.getAttribute("startIndex"),10));z.ly=G.getAttribute("isHighlight");z.set_opacity(127);if(t=n(G,Ia))z.bj=t;break;case "rectangle_filled_redact":z=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);z.set_rectangle({x:K,y:M,width:t,height:F});z.set_fillColor(x||"#000000");z.set_lineColor(U);z.set_lineWidth(parseFloat(G.getAttribute("lineWidth")));z.set_textColor(O||"#ffffff");z.set_fillVisible(!0);z.nj(!0);U=G.getAttribute("highlightGroupID");z.set_text(G.getAttribute("meta"));
if(U)if(z.set_lineWidth(0),z.bx=U,x=w[U]){U=!1;var va=x.get_rectangle(),P=va.x,E=va.x+va.width,Z=va.y,pb=va.y+va.height;va.x>K&&(U=!0,P=K);va.y>M&&(U=!0,Z=M);va.x+va.width<K+t&&(U=!0,E=K+t);va.y+va.height<M+F&&(U=!0,pb=M+F);!0===U&&x.set_rectangle({x:P,y:Z,width:E-P,height:pb-Z})}else x=w[U]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction),x.bx=U,x.set_rectangle(z.get_rectangle()),x.nj(!0),x.set_text(G.getAttribute("meta"));break;case "text_selection_redaction":U=G.getAttribute("highlightGroupID");
z=w[U];z||(z=w[U]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction),z.bx=U,z.set_rectangle({x:0,y:0,width:0,height:0}),z.nj(!0),z.set_text(G.getAttribute("meta")));if(x=G.getAttribute("textLength"))z.dk=parseInt(x,10);if(x=G.getAttribute("selectedText"))z.cI=x;if(x=G.getAttribute("startIndex"))z.aV=parseInt(x,10);break;case "text_hyperlink_annotation":z=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);z.set_fillColor(U);U=G.getAttribute("highlightGroupID");z.bx=U;
(x=G.getAttribute("href"))&&z.set_href(x);if(x=G.getAttribute("textLength"))z.dk=parseInt(x,10);if(x=G.getAttribute("selectedText"))z.cI=x;if(x=G.getAttribute("startIndex"))z.aV=parseInt(x,10);x=G.getAttribute("isHighlight");z.ly=x?x:"n";z.bj=n(G,Ia);z.set_rectangle({x:K,y:M,width:t,height:F});break;case "rectangle":z=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);z.set_rectangle({x:K,y:M,width:t,height:F});z.set_lineVisible(!0);z.set_lineColor(U);z.set_fillVisible(!1);z.set_lineWidth(parseFloat(G.getAttribute("lineWidth")));
break;case "rectangle_filled":z=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);z.set_rectangle({x:K,y:M,width:t,height:F});z.set_fillColor(x);z.set_lineColor(U);z.set_fillVisible(!0);z.set_lineWidth(parseFloat(G.getAttribute("lineWidth")));break;case "rectangle_trans":case "rectangle_trans_redact":z=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);z.set_rectangle({x:K,y:M,width:t,height:F});z.set_fillColor(x);z.set_lineColor(U);z.set_fillVisible(!0);"rectangle_trans_redact"===X&&z.nj(!0);
z.set_lineWidth(parseFloat(G.getAttribute("lineWidth")));break;case "freehand":case "signature_path":z="freehand"===X?new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand):new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);z.set_rectangle({x:K,y:M,width:t,height:F});z.set_pathWidth(parseFloat(G.getAttribute("pathWidth")));z.set_pathHeight(parseFloat(G.getAttribute("pathHeight")));z.set_lineWidth(parseFloat(G.getAttribute("lineWidth")));z.set_lineColor(U);for(t=G.firstChild;t&&4!==t.nodeType;)t=
t.nextSibling;t&&4===t.nodeType&&(F=t.innerText||t.textContent||t.data,z.bA.bz=F,z.set_pathString(F));break;case "signature_text":z=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);z.set_rectangle({x:K,y:M,width:t,height:F});z.set_fontSize(10);z.set_lineWidth=0;z.set_fillVisible(!0);z.set_opacity(1);F=G.firstChild;this.ach(F,z);z.wo=parseFloat(G.getAttribute("fontWidth"));z.vt=parseFloat(G.getAttribute("fontHeight"));break;case "text_input_signature":z=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);
z.set_rectangle({x:K,y:M,width:t,height:F});F=G.firstChild;this.ach(F,z);z.wo=parseFloat(G.getAttribute("fontWidth"));z.vt=parseFloat(G.getAttribute("fontHeight"));z.set_lineVisible(!1);break;case "polyline":z=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);z.set_lineWidth(parseFloat(G.getAttribute("lineWidth")));z.set_lineColor(U);for(t=G.firstChild;t&&4!==t.nodeType;)t=t.nextSibling;if(t&&4===t.nodeType&&(F=t.innerText||t.textContent||t.data)&&"undefined"!==F&&(t="undefined"!==typeof JSON?JSON.parse(F):
IPCC.bY.pk(F,!0),x=z.qy(),t))for(u=0;u<t.length;u++)x.addPoint(new IPCC.Web.UI.Point(t[u].x*Ia,t[u].y*Ia));break;case "strikethrough":z=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Strikethrough);z.set_rectangle({x:K,y:M,width:t,height:F});z.set_lineWidth(parseFloat(G.getAttribute("lineWidth")));z.set_lineColor(U);z.bx=G.getAttribute("highlightGroupID");if(t=G.getAttribute("textLength"))z.dk=parseInt(t,10);z.cI=G.getAttribute("selectedText");if(t=G.getAttribute("startIndex"))z.aV=parseInt(t,10);z.ly=
G.getAttribute("isHighlight");if(t=n(G,Ia))z.bj=t}if(z){z.bA.ke=G.getAttribute("nodeId");0<=v&&("rectangle_trans_redact"===X||!z.hX())&&"stamp"!==X&&"imagestamp"!==X&&"imagestamp_redact"!==X&&"text_hyperlink_annotation"!==X&&"text_input_signature"!==X&&"strikethrough"!==X&&z.set_opacity(v);z.bA.FT=I;z.bA.aEt=X;z.bA.ep=G.getAttribute("lineWidth");z.bA.da=G.getAttribute("fillColor");z.bA.hG=G.getAttribute("lineColor");z.bA.aEu=G.getAttribute("dragDirection");z.bA.Az=T;z.bA.af=G.getAttribute("x");z.bA.es=
G.getAttribute("y");z.bA.cN=G.getAttribute("height");z.bA.bb=G.getAttribute("width");z.bA.aDH=G.getAttribute("x_percent");z.bA.aDI=G.getAttribute("y_percent");z.bA.aDY=G.getAttribute("height_percent");z.bA.aGd=G.getAttribute("width_percent");z.bA.aFQ=G.getAttribute("formUser");z.bA.aFJ=G.getAttribute("created");z.bA.aFm=G.getAttribute("modified");z.bA.aCV=G.getAttribute("saveDate");z.bA.aEg=G.getAttribute("saveTime");z.bA.pV=G.getAttribute("meta");for(I=G.firstChild;I&&4!==I.nodeType;)I=I.nextSibling;
I&&4===I.nodeType?z.dE.push(I.data):z.dE.push("");I=parseInt(G.getAttribute("interactionMode"))||IPCC.Web.UI.MarkInteractionMode.Full;z.set_interactionMode(I);z.km(this);z.add_propertyChanged(d);z.add_markTextSelectionChanged(c);z.yH(e);z.xk(f);z.uv(g);J.push(z);I=G;v=z;for(X=0;X<I.childNodes.length;X++)if(t=I.childNodes[X],"conversation"===t.nodeName)for(F=v.get_conversation(),K=0;K<t.childNodes.length;K++)if(M=t.childNodes[K],"comments"===M.nodeName)for(x=0;x<M.childNodes.length;x++){if(U=M.childNodes[x],
"comment"===U.nodeName)for(P=F,va=new IPCC.Web.UI.Comment(IPCC.bg.aax(U.getAttribute("text"))),va.set_creationTime(U.getAttribute("created")),P.addComment(va),P=0;P<U.childNodes.length;P++)E=U.childNodes[P],"data"===E.nodeName&&q(E,va.get_data())}else"data"===M.nodeName&&q(M,F.get_data());else"data"===t.nodeName&&q(t,v.get_data());I=IPCC.bg.adE(G.getAttribute("created"));G=IPCC.bg.adE(G.getAttribute("modified"));I=I||new Date;G=G||new Date;z.initializeDates(I,G);B&&z.set_visible(!1)}}}y=y.concat(J);
this.aR("marksLoaded",{})}if(C){a=a.getElementsByTagName("highlights")[0];if(a.hasChildNodes())for(k=0;k<a.childNodes.length;k++)if(p=a.childNodes[k],1===p.nodeType&&(l=p.getAttribute("page"))&&parseInt(l,10)===b+1){l=new IPCC.Web.UI.aDo;l.aCA=p.nodeName;switch(l.aCA){case "tag":l.Ly=IPCC.Web.UI.HighLightType.Tag;break;case "highlight":l.Ly=IPCC.Web.UI.HighLightType.InlineHighLight;break;case "link":l.Ly=IPCC.Web.UI.HighLightType.Link;break;case "redaction":l.Ly=IPCC.Web.UI.HighLightType.Redaction;
break;case "strikethrough":l.Ly=IPCC.Web.UI.HighLightType.Strikethrough;break;default:l.Ly=void 0}p.childNodes[0].data&&l.dE.push(p.childNodes[0].data);l.bA.cK=p.getAttribute("id");l.bA.aFs=p.getAttribute("userid");l.bA.aEn=p.getAttribute("mode");l.bA.fk=p.getAttribute("color");l.bA.aGI=p.getAttribute("occurence");l.bA.aj=p.getAttribute("annotation");l.bA.bv=p.getAttribute("page");l.bA.aGH=p.getAttribute("documentname");l.bA.aFZ=p.getAttribute("tooltip");l.bA.aDd=p.getAttribute("allowdelete");l.bA.lZ=
p.getAttribute("start");l.bA.aFF=p.getAttribute("end");L.aBS.push(l)}break}}}}}};this.ach=function(a,b){for(var d,c,f,e=[];a&&4!==a.nodeType;)a=a.nextSibling;if(a&&4===a.nodeType){a=a.innerText||a.textContent||a.data;b.bA.bz=a;d=a.split("</TEXTFORMAT>");for(a=0;a<d.length;a++)d[a].match(/<TEXTFORMAT/)&&(d[a]+="</TEXTFORMAT>",e.push(d[a]));d="";c=[];for(a=0;a<e.length;a++)e[a].match(/<P/)&&(f=this.afu(e[a]),c.push(f),d+=f+" ",0===a&&(f=this.aep(e[a]),r(f,b))),d=d.replace(/\s+$/g,""),b.set_text(d),
b.get_type()!==IPCC.Web.UI.MarkType.TextLine&&b.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center)}};this.WW=function(a,b,d,c,f,e){b=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);b.set_rectangle({x:a.x,y:a.y,width:a.width,height:a.height});b.set_fillColor(d);b.set_fillVisible(!0);b.aV=e;b.dk=1;f?b.set_opacity(f):b.set_opacity(127);L.addMark(b);return b};this.apy=function(a,b,d){var c=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);c.set_rectangle({x:a.x,y:a.y,width:a.width,
height:a.height});c.set_fillColor(b.get_fillColor());c.set_fillVisible(!0);c.aV=d;c.dk=1;b.get_opacity()?c.set_opacity(b.get_opacity()):c.set_opacity(127);L.addMark(c);return c};var Z=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,A=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,Da=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g,ga=C("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),T=C("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),
W=C("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),ha=C("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),ja=C("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),ka=C("script,style");this.afH=function(a,b){function d(a,c){if(c)for(a=p.length-1;0<=a&&p[a]!==c;a--);else a=0;if(0<=a){for(c=p.length-
1;c>=a;c--)b.end&&b.end(p[c]);p.length=a}}function c(a,f,e,h){f=f.toLowerCase();if(T[f])for(;p.last()&&W[p.last()];)d("",p.last());ha[f]&&p.last()===f&&d("",f);(h=ga[f]||!!h)||p.push(f);if(b.start){var g=[];e.replace(Da,function(a,b,d,c,f){a=d?d:c?c:f?f:ja[b]?b:"";g.push({name:b,value:a,escaped:a.replace(/(^|[^\\])"/g,'$1\\"')})});b.start&&b.start(f,g,h)}}function f(a,d){d=d.replace(/\x3c!--([\w\W]*?)--\x3e/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");b.chars&&b.chars(d);return""}var e,g,
p=[],k=a;for(p.last=function(){return this[this.length-1]};a;){g=!0;if(p.last()&&ka[p.last()])a=a.replace(new RegExp("(.*)</"+p.last()+"[^>]*>"),f),d("",p.last());else{if(0===a.indexOf("\x3c!--"))e=a.indexOf("--\x3e"),0<=e&&(b.comment&&b.comment(a.substring(4,e)),a=a.substring(e+3),g=!1);else if(0===a.indexOf("</")){if(e=a.match(A))a=a.substring(e[0].length),e[0].replace(A,d),g=!1}else 0===a.indexOf("<")&&(e=a.match(Z))&&(a=a.substring(e[0].length),e[0].replace(Z,c),g=!1);g&&(e=a.indexOf("<"),g=0>
e?a:a.substring(0,e),g=IPCC.bg.aax(g),a=0>e?"":a.substring(e),b.chars&&b.chars(g))}if(a===k)throw" Parse Error in annotation Html Text: "+a;k=a}d()};this.afu=function(a){var b="";this.afH(a,{start:function(){},end:function(){},chars:function(a){b+=a},comment:function(){}});return b};this.aep=function(a){var b=[];this.afH(a,{start:function(a,d){if("font"===a||"b"===a||"i"===a||"u"===a||"s"===a){var c={};c.Il=a;c.attribs=[];if("b"===a)c.aEK=!0;else if("i"===a)c.aFw=!0;else if("u"===a)c.aDq=!0;else if("s"===
a)c.aDu=!0;else for(a=0;a<d.length;a++){var f={};f.cZ=d[a].name;f.h=d[a].value;c.attribs.push(f)}b.push(c)}},end:function(){},chars:function(){},comment:function(){}});return b};this.asr=function(a){a=a.toUpperCase().split('ALIGN="')[1].split('"')[0];switch(a){case "CENTER":return a;case "RIGHT":return a;default:return"LEFT"}};this.XN=function(){var a;if(!(1>y.length)){J.removeAllMarks();var b;for(b=y.length-1;0<=b;b--)y[b].remove_propertyChanged(d),y[b].remove_markTextSelectionChanged(c),y[b].km(null),
a=new IPCC.Web.UI.MarkEventArgs,a.length=y.length,a.zIndex=0,a.mark=y.pop(),L.aR("markRemoved",a);a=new IPCC.Web.UI.MarkEventArgs;a.length=y.length;a.zIndex=0;L.aR("markRemoved",a)}};this.wm=function(a){var b=this.oA(a),f=a.bx;if(0<=b){a.remove_propertyChanged(d);a.remove_markTextSelectionChanged(c);a.km(null);y.splice(b,1);J.removeMark(a);var e=new IPCC.Web.UI.MarkEventArgs;e.mark=a;e.zIndex=b;e.length=1;L.aR("markRemoved",e);f&&this.aqc(f)}};this.aEo=function(a){for(var b=y.length,d=a.bx;b--;){var c=
y[b];c.bx===d&&c.set_fillColor(a.get_fillColor())}};this.apu=function(a){var b=y.length,d=a.bx;if(d)for(;b--;){var c=y[b];c.bx===d&&(c.get_text()!==a.get_text()&&c.set_text(a.get_text()),c.get_fontName()!==a.get_fontName()&&c.set_fontName(a.get_fontName()),c.get_fontSize()!==a.get_fontSize()&&c.set_fontSize(a.get_fontSize()))}else a.set_text(a.get_text())};this.aqc=function(a){for(var b=y.length;b--;){var d=y[b];if(d.bx===a){var c=this.oA(d);J.removeMark(d);y.splice(b,1);var f=new IPCC.Web.UI.MarkEventArgs;
f.mark=d;f.zIndex=c;f.length=1}}};this.adR=function(a,d){var c=this.oA(a);if(0>c)throw new IPCC.Web.UI.ImGearInvalidOperationException("You cannot reorder a Mark unless it is currently associated with the ArtPage.");if(c!==d&&(b(d),y.splice(c,1),y.splice(d,0,a),a.get_type()!==IPCC.Web.UI.MarkType.Highlight&&a.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&a.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&a.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&a.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&
(a.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction||void 0===a.bx))){var f=new IPCC.Web.UI.MarkEventArgs;f.mark=a;f.zIndex=d;f.oldZIndex=c;f.length=1;L.aR("markReordered",f)}};this.aiw=function(a,b,d,c){var f=a.get_type(),e,g,p={gC:"annotation",dE:[],bA:{}};p.bA.nodeId=a.bA.ke?a.bA.ke:L.arr();var k,m="";g="";a.get_lineColor()&&(e=a.get_lineColor(),"transparent"===e?p.bA.lineColor=e:(k=e.replace(/#/,""),m=parseInt(k,16),g=m.toString(),p.bA.lineColor=g));p.bA.interactionMode=a.get_interactionMode();
p.bA.stampSize="122";e={};e[IPCC.Web.UI.MarkType.Stamp]=!0;e[IPCC.Web.UI.MarkType.ImageStampAnnotation]=!0;e[IPCC.Web.UI.MarkType.ImageStampRedaction]=!0;(f===IPCC.Web.UI.MarkType.Rectangle&&255>a.get_opacity()||!a.hX())&&!0!==e[f]&&(p.bA.opacity=a.get_opacity());0<a.get_conversation().get_length()&&p.dE.push(t(a.get_conversation()));(e=w(a.get_data()))&&p.dE.push(e);e=!1;switch(f){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:c=a.get_fillColor();"transparent"===c?p.bA.fillColor=
c:c?(c=c.replace(/#/,""),p.bA.fillColor=parseInt(c,16).toString()):p.bA.fillColor=g;a.get_fillVisible()?a.get_type()===IPCC.Web.UI.MarkType.Rectangle?255===a.get_opacity()?!0===a.hX()?(p.bA.drawType="rectangle_filled_redact",a.bx&&(p.bA.highlightGroupID=a.bx)):p.bA.drawType="rectangle_filled":!0===a.hX()?p.bA.drawType="rectangle_trans_redact":p.bA.drawType="rectangle_trans":255===a.get_opacity()?(p.bA.drawType="circle_filled",a.hX()&&(p.bA.drawType="circle_filled_redact")):(p.bA.drawType="circle_trans",
a.hX()&&(p.bA.drawType="circle_trans_redact")):(a.get_type()===IPCC.Web.UI.MarkType.Rectangle?p.bA.drawType="rectangle":p.bA.drawType="circle",p.bA.fillColor=g);p.bA.dragDirection="br";c=a.get_rectangle();p.bA.x=c.x;p.bA.y=c.y;p.bA.x_percent=c.x/b;p.bA.y_percent=c.y/d;p.bA.height_percent=c.height/d;p.bA.width_percent=c.width/b;p.bA.height=c.height;p.bA.width=c.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:p.bA.lineWidth=a.get_lineWidth();e=!0;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:p.bA.highlightGroupID=
a.bx;p.bA.drawType="text_selection_redaction";a.cI&&0<a.cI.length&&(p.bA.startIndex=a.aV,p.bA.selectedText=a.cI,p.bA.textLength=a.dk);break;case IPCC.Web.UI.MarkType.Text:var l=a.get_rectangle();p.bA.x=l.x;p.bA.y=l.y;p.bA.x_percent=l.x/b;p.bA.y_percent=l.y/d;p.bA.height_percent=l.height/d;p.bA.width_percent=l.width/b;p.bA.height=l.height;p.bA.width=l.width;c=a.get_fillColor();!0===a.hX()?p.bA.drawType="text_redact":(p.bA.drawType="text",p.bA.opacity=a.get_opacity());"transparent"===c?p.bA.fillColor=
c:c?(c=c.replace(/#/,""),p.bA.fillColor=parseInt(c,16).toString()):p.bA.fillColor="16776960";l='<TEXTFORMAT LEADING="2">';switch(a.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:l+='<P ALIGN="center" ';break;case IPCC.Web.UI.HorizontalAlignment.Left:l+='<P ALIGN="left" ';break;case IPCC.Web.UI.HorizontalAlignment.Right:l+='<P ALIGN="right" '}l+="><FONT ";c=a.get_fontName();l+='FACE="'+c+'" ';g=a.get_fontSize().toString();l+='SIZE= "'+g+'" ';g='"'+a.get_textColor()+'" ';
l=l+("COLOR="+g+" ")+'LETTERSPACING="0" KERNING="0" ';l+=">";c=a.get_fontStyle();c&IPCC.Web.UI.FontStyle.Bold&&(l+="<B>");c&IPCC.Web.UI.FontStyle.Italic&&(l+="<I>");c&IPCC.Web.UI.FontStyle.Underline&&(l+="<U>");c&IPCC.Web.UI.FontStyle.Strikeout&&(l+="<S>");g=a.get_text();g=IPCC.bg.Fh(g);l+=g;c&IPCC.Web.UI.FontStyle.Strikeout&&(l+="</S>");c&IPCC.Web.UI.FontStyle.Underline&&(l+="</U>");c&IPCC.Web.UI.FontStyle.Italic&&(l+="</I>");c&IPCC.Web.UI.FontStyle.Bold&&(l+="</B>");l+="</FONT>";l+="</P>";l+="</TEXTFORMAT>";
break;case IPCC.Web.UI.MarkType.Highlight:c=a.get_rectangle();p.bA.x=c.x;p.bA.y=c.y;p.bA.x_percent=c.x/b;p.bA.y_percent=c.y/d;p.bA.height_percent=c.height/d;p.bA.width_percent=c.width/b;p.bA.height=c.height;p.bA.width=c.width;p.bA.drawType="highlight";p.bA.highlightGroupID=a.bx;p.bA.isHighlight=a.ly;(c=a.get_fillColor())?(c=c.replace(/#/,""),p.bA.fillColor=parseInt(c,16).toString(),p.bA.lineColor=parseInt(c,16).toString()):p.bA.fillColor=g;break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:c=
a.get_rectangle();p.bA.x=c.x;p.bA.y=c.y;p.bA.height=c.height;p.bA.width=c.width;p.bA.drawType="text_hyperlink_annotation";p.bA.href=a.oz;p.bA.startIndex=a.aV;p.bA.selectedText=a.cI;p.bA.textLength=a.dk;p.bA.highlightGroupID=a.bx;p.bA.isHighlight=a.ly;(c=a.get_fillColor())?(c=c.replace(/#/,""),p.bA.fillColor=parseInt(c,16).toString(),p.bA.lineColor=parseInt(c,16).toString()):p.bA.fillColor=g;p.dE.push(E(a.bj,b,d));break;case IPCC.Web.UI.MarkType.HighlightText:c=a.get_rectangle();p.bA.x=c.x;p.bA.y=
c.y;p.bA.x_percent=c.x/b;p.bA.y_percent=c.y/d;p.bA.height_percent=c.height/d;p.bA.width_percent=c.width/b;p.bA.height=c.height;p.bA.width=c.width;p.bA.drawType="highlightText";p.bA.startIndex=a.aV;p.bA.selectedText=a.cI;p.bA.textLength=a.dk;p.bA.highlightGroupID=a.bx;p.bA.isHighlight=a.ly;(c=a.get_fillColor())?(c=c.replace(/#/,""),p.bA.fillColor=parseInt(c,16).toString(),p.bA.lineColor=parseInt(c,16).toString()):p.bA.fillColor=g;p.dE.push(E(a.bj,b,d));break;case IPCC.Web.UI.MarkType.RectangleRedaction:c=
a.get_rectangle();p.bA.drawType="rectangle_filled_redact";p.bA.x=c.x;p.bA.y=c.y;p.bA.x_percent=c.x/b;p.bA.y_percent=c.y/d;p.bA.height_percent=c.height/d;p.bA.width_percent=c.width/b;p.bA.height=c.height;p.bA.width=c.width;p.bA.meta=a.get_text();p.bA.stampSize=a.get_fontSize();p.bA.lineWidth=a.get_lineWidth();(c=a.get_fillColor())?(c=c.replace(/#/,""),p.bA.fillColor=parseInt(c,16).toString()):p.bA.fillColor=g;(k=a.get_lineColor())?(m=k.replace(/#/,""),p.bA.lineColor=parseInt(m,16).toString()):p.bA.lineColor=
g;(c=a.get_textColor())?(g=c.replace(/#/,""),p.bA.fontColor=parseInt(g,16).toString()):p.bA.fontColor=g;a.bx&&(p.bA.highlightGroupID=a.bx);break;case IPCC.Web.UI.MarkType.Stamp:(c=a.get_fillColor())?(c=c.replace(/#/,""),p.bA.fillColor=parseInt(c,16).toString(),p.bA.lineColor=parseInt(c,16).toString()):p.bA.fillColor=g;c=a.get_rectangle();p.bA.x=c.x;p.bA.y=c.y;p.bA.x_percent=c.x/b;p.bA.y_percent=c.y/d;p.bA.height_percent=c.height/d;p.bA.width_percent=c.width/b;p.bA.height=c.height;p.bA.width=c.width;
!0===a.hX()?p.bA.drawType="stamp_redact":p.bA.drawType="stamp";g=a.get_text();p.bA.stampSize=a.stampSize;p.dE.push("<![CDATA["+g+"]]\x3e");break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:a.get_type()===IPCC.Web.UI.MarkType.Freehand?p.bA.drawType="freehand":p.bA.drawType="signature_path";l=a.get_pathString();p.bA.pathWidth=a.get_pathWidth();p.bA.pathHeight=a.get_pathHeight();c=a.get_rectangle();p.bA.x=c.x;p.bA.y=c.y;p.bA.x_percent=c.x/b;p.bA.y_percent=c.y/d;p.bA.height_percent=
c.height/d;p.bA.width_percent=c.width/b;p.bA.height=c.height;p.bA.width=c.width;break;case IPCC.Web.UI.MarkType.SignatureText:(c=a.get_fillColor())?(c=c.replace(/#/,""),p.bA.fillColor="",p.bA.lineColor="",parseInt(c,16)):p.bA.fillColor="";c=a.get_rectangle();p.bA.x=c.x;p.bA.y=c.y;p.bA.x_percent=c.x/b;p.bA.y_percent=c.y/d;p.bA.height_percent=c.height/d;p.bA.width_percent=c.width/b;p.bA.height=c.height;p.bA.width=c.width;p.bA.opacity=0;p.bA.drawType="signature_text";p.bA.stampSize=a.stampSize;p.bA.fontWidth=
a.wo;p.bA.fontHeight=a.vt;l='<TEXTFORMAT LEADING="2"><P ALIGN="center" >';l+="<FONT ";c=a.get_fontName();l+='FACE="'+c+'" ';g=a.stampSize.toString();l+='SIZE= "'+g+'" ';g='"'+a.get_fillColor()+'" ';l=l+("COLOR="+g+" ")+'LETTERSPACING="0" KERNING="0" ';l+=">";g=IPCC.bg.Fh(a.get_text());l+=g;l+="</FONT>";l+="</P>";l+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(c){c=a.get_rectangle();g=a.stampSize;a.Js&&a.oQ?l=a.oQ:(l=IPCC.bg.aem(a.get_text(),a.get_fontName(),c.width,c.height,{vR:"pre",
er:g+"px"}),a.Js=!0,a.oQ=l);g=l.fontSize;var n=l.width/c.width;k=1;var q=.85;/mono/i.test(a.get_fontName())&&(q=.75);n>q&&(k=q*c.width/l.width,g*=k);var n=c.width,q=c.height-(c.height-l.height*k)/2,H=c.x,l=c.y+(c.height-l.height)/2+l.height*(1-k);p.bA.x=H;p.bA.y=l;p.bA.x_percent=H/b;p.bA.y_percent=l/d;p.bA.height_percent=q/d;p.bA.width_percent=n/b;p.bA.height=q;p.bA.width=n;p.bA.opacity=0;p.bA.drawType="text_redact";l='<TEXTFORMAT><P ALIGN="left" >';l+="<FONT ";c=a.get_fontName();l+='FACE="'+c+'" ';
g=a.aiE?(g/a.aiE).toString():g.toString()}else c=a.get_rectangle(),p.bA.x=c.x,p.bA.y=c.y,p.bA.x_percent=c.x/b,p.bA.y_percent=c.y/d,p.bA.height_percent=c.height/d,p.bA.width_percent=c.width/b,p.bA.height=c.height,p.bA.width=c.width,p.bA.opacity=0,p.bA.drawType="text_input_signature",p.bA.stampSize=a.stampSize,p.bA.fontWidth=a.wo,p.bA.fontHeight=a.vt,l='<TEXTFORMAT LEADING="2"><P ALIGN="left" >',l+="<FONT ",c=a.get_fontName(),l+='FACE="'+c+'" ',g=a.stampSize.toString();l+='SIZE= "'+g+'" ';g='"'+a.get_textColor()+
'" ';l=l+("COLOR="+g+" ")+'LETTERSPACING="0" KERNING="0" ';l+=">";g=IPCC.bg.Fh(a.get_text());l+=g;l+="</FONT>";l+="</P>";l+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:p.bA.drawType=f===IPCC.Web.UI.MarkType.ImageStampRedaction?"imagestamp_redact":"imagestamp";c=a.get_rectangle();p.bA.x=c.x;p.bA.y=c.y;p.bA.height=c.height;p.bA.width=c.width;p.bA.lineWidth=a.get_lineWidth();p.bA.x_percent=c.x/b;p.bA.y_percent=c.y/d;p.bA.height_percent=
c.height/d;p.bA.width_percent=c.width/b;p.bA.imageStampId=a.rd;break;case IPCC.Web.UI.MarkType.Strikethrough:c=a.get_rectangle(),p.bA.x=c.x,p.bA.y=c.y,p.bA.height=c.height,p.bA.width=c.width,p.bA.drawType="strikethrough",p.bA.startIndex=a.aV,p.bA.selectedText=a.cI,p.bA.textLength=a.dk,p.bA.highlightGroupID=a.bx,p.bA.isHighlight=a.ly,p.dE.push(E(a.bj,b,d))}if(e){p.bA.lineWidth=a.get_lineWidth();e=a.get_boundingRectangle();p.bA.x=e.x;p.bA.y=e.y;p.bA.x_percent=e.x/b;p.bA.y_percent=e.y/d;p.bA.height_percent=
e.height/d;p.bA.width_percent=e.width/b;p.bA.height=e.height;p.bA.width=e.width;f===IPCC.Web.UI.MarkType.Line?a.get_endHeadType()===IPCC.Web.UI.LineHeadType.None?p.bA.drawType="line":p.bA.drawType="arrow":p.bA.drawType="polyline";p.bA.lineWidth=a.get_lineWidth();b=a.get_points();if(f===IPCC.Web.UI.MarkType.Line)b.getPoint(0).x<b.getPoint(1).x&&b.getPoint(0).y>b.getPoint(1).y?p.bA.dragDirection="tr":b.getPoint(0).x>b.getPoint(1).x&&b.getPoint(0).y>b.getPoint(1).y?p.bA.dragDirection="tl":b.getPoint(0).x>
b.getPoint(1).x&&b.getPoint(0).y<b.getPoint(1).y?p.bA.dragDirection="bl":(b.getPoint(0).x<b.getPoint(1).x&&(b.getPoint(0),b.getPoint(1)),p.bA.dragDirection="br");else if(f=[],1<b.get_length()){for(e=0;e<b.get_length();e++)d=b.getPoint(e),f.push({x:d.x,y:d.y});l=IPCC.bY.SC(f)}p.bA.fillColor=m?m:""}else p.bA.lineWidth=a.get_lineWidth(),p.bA.dragDirection="br";a.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction&&(p.bA.meta="");p.bA.label="";m=new Date;p.bA.saveDate=IPCC.bg.ath(m);p.bA.saveTime=IPCC.bg.arS(m);
p.bA.uuid="";p.bA.formUser="";p.bA.created=IPCC.bg.aet(a.get_dateCreated());p.bA.modified=IPCC.bg.aet(a.get_dateModified());a.get_type()===IPCC.Web.UI.MarkType.Text||a.get_type()===IPCC.Web.UI.MarkType.Freehand||a.get_type()===IPCC.Web.UI.MarkType.SignaturePath||a.get_type()===IPCC.Web.UI.MarkType.SignatureText||a.get_type()===IPCC.Web.UI.MarkType.Polyline||a.get_type()===IPCC.Web.UI.MarkType.TextLine?p.dE.push("<![CDATA["+l+"]]\x3e"):p.dE.push("");return p};this.azr=function(a,b,c,d){function f(a){var d=
a.y+a.height/2,g=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line),p=g.qy();p.setPoint(1,new IPCC.Web.UI.Point(a.x,d));p.setPoint(0,new IPCC.Web.UI.Point(a.x+a.width,d));g.set_lineColor(u.hG);g.set_lineWidth(u.ep);l.dE.push(e.aiw(g,b,c))}var e=this,g={gC:"documentAnnotations",dE:[],bA:{}},p={gC:"pages",dE:[],bA:{}};g.dE.push(p);g.dE.push({gC:"highlights",dE:[],bA:{}});var k={},m=[],l={gC:"page",dE:[],bA:{id:(a+1).toString(),pageWidth:b,pageHeight:c}};p.dE.push(l);d=d||{};a=void 0!==d.includeAnnotations?
!!d.includeAnnotations:!0;var p=void 0!==d.includeRedactions?!!d.includeRedactions:!0,n=void 0!==d.includeSignatures?!!d.includeSignatures:!1,q=void 0!==d.we?!!d.we:!1;d=void 0!==d.Gz?d.Gz:!1;for(var H=!!q,B=d?d:y,r=0;r<B.length;r++){var u=B[r],A=u.get_type();if(u.get_type()!==IPCC.Web.UI.MarkType.Highlight&&(!H||u.get_visible())){if(!d){if(!1===a&&!1===p&&!1===n)break;if(!1===a&&(A===IPCC.Web.UI.MarkType.Rectangle||A===IPCC.Web.UI.MarkType.Ellipse||A===IPCC.Web.UI.MarkType.Line||A===IPCC.Web.UI.MarkType.Text||
A===IPCC.Web.UI.MarkType.Stamp||A===IPCC.Web.UI.MarkType.Highlight||A===IPCC.Web.UI.MarkType.Strikethrough||A===IPCC.Web.UI.MarkType.HighlightText||A===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||A===IPCC.Web.UI.MarkType.Freehand||A===IPCC.Web.UI.MarkType.ImageStampAnnotation||A===IPCC.Web.UI.MarkType.Polyline)&&!1===u.hX())continue;if(!1===p){if(!0===u.hX())continue;if(A===IPCC.Web.UI.MarkType.RectangleRedaction||A===IPCC.Web.UI.MarkType.TextSelectionRedaction||A===IPCC.Web.UI.MarkType.ImageStampRedaction)continue}if(!1===
n&&(A===IPCC.Web.UI.MarkType.SignaturePath||A===IPCC.Web.UI.MarkType.SignatureText||A===IPCC.Web.UI.MarkType.SignatureImage||A===IPCC.Web.UI.MarkType.TextLine))continue}switch(A){case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:k[u.rd]={gC:"stampImage",dE:[],bA:{imageStampId:u.rd,base64format:u.cQ()}};break;case IPCC.Web.UI.MarkType.Strikethrough:q&&IPCC.bg.forEach(u.bj,f)}l.dE.push(this.aiw(u,b,c,q))}}for(var x in k)k.hasOwnProperty(x)&&m.push(k[x]);return{lA:g,
uH:m}};this.aAG=function(){var a={m:[]},b;for(b=0;b<y.length;b++)a.m.push(y[b].azY());L.aR("marksSaved",{});return IPCC.bY.SC(a)};this.zo=function(a){D.addHandler("markAdded",a)};this.xQ=function(a){D.removeHandler("markAdded",a)};this.FB=function(a){D.addHandler("markChanged",a)};this.DI=function(a){D.removeHandler("markChanged",a)};this.Al=function(a){D.addHandler("markRemoved",a)};this.xA=function(a){D.removeHandler("markRemoved",a)};this.Gq=function(a){D.addHandler("markReordered",a)};this.DQ=
function(a){D.removeHandler("markReordered",a)};this.Mp=function(a){D.addHandler("marksLoaded",a)};this.Qa=function(a){D.removeHandler("marksLoaded",a)};this.axk=function(a){D.addHandler("marksSaved",a)};this.azN=function(a){D.removeHandler("marksSaved",a)};this.Gt=function(a){D.addHandler("markSelectionChanged",a)};this.Dj=function(a){D.removeHandler("markSelectionChanged",a)};this.Hs=function(a){D.addHandler("markTextSelectionChanged",a)};this.LT=function(a){D.removeHandler("markTextSelectionChanged",
a)};this.yH=function(a){D.addHandler("commentAdded",a)};this.Dh=function(a){D.removeHandler("commentAdded",a)};this.xk=function(a){D.addHandler("commentRemoved",a)};this.Ea=function(a){D.removeHandler("commentRemoved",a)};this.uv=function(a){D.addHandler("commentChanged",a)};this.wk=function(a){D.removeHandler("commentChanged",a)};this.ix=function(a){D.addHandler("propertyChanged",a)};this.mP=function(a){D.removeHandler("propertyChanged",a)};this.aR=function(a,b){a=D.getHandler(a);null!==a&&a(this,
b)};this.bm=function(a){var b=D.getHandler("propertyChanged");b&&b(this,new IPCC.qY(a))};return this};
IPCC.Web.UI.ArtPage.prototype={get_markCount:function(){return this.VW()},get_selectedMarks:function(){return this.AD()},toString:function(){return"ArtPage with "+this.get_markCount()+" marks"},addMark:function(a,b){this.RA(a,b)},forEachMark:function(a,b){this.Gy(a,b)},getMark:function(a){return this.NA(a)},getZIndexOfMark:function(a){return this.oA(a)},loadFromJson:function(a){this.aBx(a)},removeAllMarks:function(){this.XN()},removeMark:function(a){this.wm(a)},reorderMark:function(a,b){this.adR(a,
b)},saveToJson:function(){return this.aAG()},add_markAdded:function(a){this.zo(a)},remove_markAdded:function(a){this.xQ(a)},add_markChanged:function(a){this.FB(a)},remove_markChanged:function(a){this.DI(a)},add_markRemoved:function(a){this.Al(a)},remove_markRemoved:function(a){this.xA(a)},add_markReordered:function(a){this.Gq(a)},remove_markReordered:function(a){this.DQ(a)},add_marksLoaded:function(a){this.Mp(a)},remove_marksLoaded:function(a){this.Qa(a)},add_markSelectionChanged:function(a){this.Gt(a)},
remove_markSelectionChanged:function(a){this.Dj(a)},add_markTextSelectionChanged:function(a){this.Hs(a)},remove_markTextSelectionChanged:function(a){this.LT(a)},add_commentAdded:function(a){this.yH(a)},remove_commentAdded:function(a){this.Dh(a)},add_commentRemoved:function(a){this.xk(a)},remove_commentRemoved:function(a){this.Ea(a)},add_commentChanged:function(a){this.uv(a)},remove_commentChanged:function(a){this.wk(a)}};IPCC.Web.UI.ArtPage.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ArtPage.registerClass("IPCC.Web.UI.ArtPage");
IPCC.Web.UI.aDo=function(){this.gC=void 0;this.dE=[];this.bA={}};IPCC.IK=function(){};IPCC.IK.prototype.mR=function(a){this.V=a;this.am=a.bV();this.il=this.am.get_cursor();this.am.set_cursor(IPCC.ao.RunMarks);this.am.CX(IPCC.ao.Link)};IPCC.IK.prototype.gp=function(){this.am.set_cursor(this.il);this.am.CX(IPCC.ao.Default);this.V=!1};IPCC.IK.prototype.aU=function(){};IPCC.oY=function(){this.V=this.aA=!1};
IPCC.oY.prototype.mR=function(a){this.V=a;this.V.adk(!0);this.am=a.bV();this.il=this.am.get_cursor();this.am.set_cursor(IPCC.ao.EditMarks);this.am.CX(IPCC.ao.Move)};IPCC.oY.prototype.gp=function(a){this.am.set_cursor(this.il);this.am.CX(IPCC.ao.Default);a&&!0===a||this.V.adk(!1);this.V=!1};IPCC.oY.prototype.aU=function(){this.aA&&(this.am.set_cursor(IPCC.ao.EditMarks),this.am.CX(IPCC.ao.Move),this.V.GA(!0),this.am.qw(),this.aA=!1,this.V.dR())};
IPCC.oY.prototype.wI=function(a){this.aU();(a=a.mark)&&a.jJ()===IPCC.Web.UI.MarkType.Text&&(this.V.AV(a),this.V.dR())};
IPCC.oY.prototype.kN=function(a){this.aU();var b=a.domEvent;if(0===b.button){var d=b.target;(this.dJ=d.ImGearMarkHandle)?(this.wT=this.dJ.bk,this.pj=this.dJ.bw):this.pj=this.wT=null;for(;!d.ImGearMarkRelation&&d.parentNode&&d!==document.body;)d=d.parentNode;this.G=(this.J=d.ImGearMarkRelation)?this.J.G:null;this.aA=!0;this.Di=this.Ow=a.imagePoint;if((d=this.G)&&d.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){var c;switch(this.wT){case IPCC.bD.aW.prototype.YM:this.lk=d.fz();
this.aai=Math.abs(this.lk.width);this.JK=Math.abs(this.lk.height);c={x:this.lk.x,y:this.lk.y};this.PM={x:this.lk.x+this.lk.width,y:this.lk.y+this.lk.height};0<this.pj&&3>this.pj&&(c.x+=this.lk.width,this.PM.x-=this.lk.width);1<this.pj&&(c.y+=this.lk.height,this.PM.y-=this.lk.height);this.aDK=c;break;case IPCC.bD.aW.prototype.YO:this.lk=b=d.fz();c={x:b.x+b.width/2,y:b.y+b.height/2};switch(this.pj){case 0:this.Cp=b.y+b.height;c.y=b.y;break;case 1:this.Cp=b.x;c.x=b.x+b.width;break;case 2:this.Cp=b.y;
c.y=b.y+b.height;break;case 3:this.Cp=b.x+b.width,c.x=b.x}break;case IPCC.bD.aW.prototype.Jk:this.aG=d.qy();(0>this.pj||this.pj>this.aG.fj())&&this.aU();c=this.aG.getPoint(this.pj);break;case IPCC.bD.aW.prototype.Jn:break;case IPCC.bD.aW.prototype.WZ:b=d.fz();c={x:b.x+d.or.x,y:b.y+d.or.y};break;default:a=d.get_selected();if(b.ctrlKey||b.shiftKey)a=!a,d.set_selected(a);else if(!a)if(a=!0,this.V.eA().AD().removeAllMarks(),d.get_type()===IPCC.Web.UI.MarkType.Highlight)for(b=0;b<this.V.eA().get_markCount();b++){var e=
this.V.eA().getMark(b);608===e.jJ()&&e.bx===d.bx&&e.set_selected(a)}else d.set_selected(a);a||this.aU()}this.aA&&c&&(this.arl=c.x-this.Ow.x,this.aqM=c.y-this.Ow.y,this.dJ&&(this.am.set_cursor(this.dJ.df),this.am.CX(this.dJ.df)))}else b.shiftKey||this.V.eA().AD().removeAllMarks(),this.am.Eq(a.imagePoint);this.aA&&this.V.GA(!1)}this.V.dR()};
IPCC.oY.prototype.jO=function(a){function b(b){b.Kd(a.imagePoint.x-c.x,a.imagePoint.y-c.y)}var d=a.domEvent,c;0!==d.button&&this.aU();if(this.aA){var e=this.G;if(e&&e.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){var f={x:a.imagePoint.x+this.arl,y:a.imagePoint.y+this.aqM},g;switch(this.wT){case IPCC.bD.aW.prototype.YM:var k=f.x,f=f.y,m={x:this.PM.x,y:this.PM.y};d.ctrlKey&&(m.x=this.lk.x+this.lk.width/2,m.y=this.lk.y+this.lk.height/2);if(d.shiftKey){g=Math.abs(k-m.x);var q=
Math.abs(f-m.y);g*this.JK<q*this.aai?.001<this.JK&&(g=q*this.aai/this.JK):.001<this.JK&&(q=g*this.JK/this.aai);k<m.x&&(g=-g);f<m.y&&(q=-q);k=m.x+g;f=m.y+q}d.ctrlKey&&(m={x:m.x-(k-m.x),y:m.y-(f-m.y)});g={};g.x=Math.min(m.x,k);g.width=Math.max(m.x,k)-g.x;g.y=Math.min(m.y,f);g.height=Math.max(m.y,f)-g.y;e.set_rectangle(g);break;case IPCC.bD.aW.prototype.YO:g=e.fz();this.pj&1?d.ctrlKey?(d=this.lk.x+this.lk.width/2,g.width=2*Math.abs(f.x-d),g.x=d-g.width/2):(g.x=Math.min(f.x,this.Cp),g.width=Math.max(f.x,
this.Cp)-g.x):d.ctrlKey?(d=this.lk.y+this.lk.height/2,g.height=2*Math.abs(f.y-d),g.y=d-g.height/2):(g.y=Math.min(f.y,this.Cp),g.height=Math.max(f.y,this.Cp)-g.y);e.set_rectangle(g);break;case IPCC.bD.aW.prototype.Jk:this.aG=e.qy();f=this.aG.setPoint(this.pj,f);break;case IPCC.bD.aW.prototype.Jn:break;case IPCC.bD.aW.prototype.WZ:g=e.fz();e.set_calloutPoint({x:f.x-g.x,y:f.y-g.y});break;default:c=this.Di,this.Di=a.imagePoint,this.V.eA().AD().mf(b)}}else this.am.AW(a.imagePoint);this.V.dR()}};
IPCC.oY.prototype.iX=function(){function a(a){var c=a.aer();b.contains(c)&&b.contains({x:c.x+c.width,y:c.y+c.height})&&a.set_selected(!0)}if(this.aA){if(!this.G){var b=this.am.xm();this.V.eA().Gy(a);this.am.qw()}this.aU()}};IPCC.oY.prototype.qj=function(a){var b=this.V.dS();(0>=a.windowPoint.x||a.windowPoint.x>=b.width-2)&&this.aU();(0>=a.windowPoint.y||a.windowPoint.y>=b.height-2)&&this.aU()};IPCC.oY.prototype.mG=function(){this.aU()};
IPCC.Web.UI.Comment=function(a){var b=new IPCC.Web.UI.gR,d=new IPCC.Web.UI.Data;this.YL=IPCC.bg.yk(new Date);this.bz=a;this.aoI=function(a){a!==this.bz&&(this.bz=a,a=new IPCC.Web.UI.CommentEventArgs,a.comment=this,a.length=1,this.aR("commentChanged",a))};this.atj=function(){return this.bz};this.azK=function(a){this.YL=a};this.atX=function(){return this.YL};this.uv=function(a){b.addHandler("commentChanged",a)};this.wk=function(a){b.removeHandler("commentChanged",a)};this.aR=function(a,d){a=b.getHandler(a);
null!==a&&a(this,d)};this.yc=function(){return d};return this};IPCC.Web.UI.Comment.prototype={toString:function(){return"Comment("+this.creationTime+", "+this.text+")"},add_commentChanged:function(a){this.uv(a)},remove_commentChanged:function(a){this.wk(a)},get_text:function(){return this.atj()},set_text:function(a){this.aoI(a)},get_creationTime:function(){return this.atX()},set_creationTime:function(a){this.azK(a)},get_data:function(){return this.yc()}};IPCC.Web.UI.Comment.registerClass=IPCC.Web.regClass;
IPCC.Web.UI.Comment.registerClass("IPCC.Web.UI.Comment");
IPCC.Web.UI.Conversation=function(a){function b(a,b){f.aR("commentChanged",b)}var d=[],c=new IPCC.Web.UI.gR,e=new IPCC.Web.UI.Data,f=this;this.Hx=function(a){a.add_commentChanged(b);d.push(a);var c=new IPCC.Web.UI.CommentEventArgs;c.comment=a;c.length=1;c.index=d.length-1;this.aR("commentAdded",c)};this.aCv=function(a){var c=-1;IPCC.bg.forEach(d,function(b,d){b===a&&(c=d)});if(-1===c)throw new IPCC.Web.UI.ImGearArgumentException("comment","The provided comment was not found in the conversation.");var f=
d.splice(c,1)[0];f.wk(b);var e=new IPCC.Web.UI.CommentEventArgs;e.comment=f;e.length=1;this.aR("commentRemoved",e)};this.mf=function(a,b){var c;for(c=0;c<d.length;c++)a.call(b,d[c],c,this)};this.fj=function(){return d.length};this.yH=function(a){c.addHandler("commentAdded",a)};this.Dh=function(a){c.removeHandler("commentAdded",a)};this.uv=function(a){c.addHandler("commentChanged",a)};this.wk=function(a){c.removeHandler("commentChanged",a)};this.xk=function(a){c.addHandler("commentRemoved",a)};this.Ea=
function(a){c.removeHandler("commentRemoved",a)};this.yc=function(){return e};this.Nh=function(){return a};this.aR=function(a,b){a=c.getHandler(a);null!==a&&a(this,b)};return this};
IPCC.Web.UI.Conversation.prototype={toString:function(){return"Conversation with "+this.get_length()+" comments"},addComment:function(a){this.Hx(a)},removeCommentInstance:function(a){this.aCv(a)},forEach:function(a,b){this.mf(a,b)},get_length:function(){return this.fj()},add_commentAdded:function(a){this.yH(a)},remove_commentAdded:function(a){this.Dh(a)},add_commentChanged:function(a){this.uv(a)},remove_commentChanged:function(a){this.wk(a)},add_commentRemoved:function(a){this.xk(a)},remove_commentRemoved:function(a){this.Ea(a)},
get_data:function(){return this.yc()},get_mark:function(){return this.Nh()}};IPCC.Web.UI.Conversation.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Conversation.registerClass("IPCC.Web.UI.Conversation");
IPCC.Web.UI.Data=function(){this.cR={};this.yc=function(a){if("undefined"===typeof a)return IPCC.bg.extend({},this.cR);if("string"===typeof a)return this.cR[a];throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");};this.aAd=function(a,b){if("string"!==typeof a)throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");if("string"===typeof b)this.cR[a]=b;else if("undefined"===typeof b)delete this.cR[a];else throw new IPCC.Web.UI.ImGearArgumentException("value",
"The argument must be a string.");return this};this.aue=function(){var a=[];IPCC.bg.forEach(this.cR,function(b,d){a.push(d)});return a};return this};IPCC.Web.UI.Data.prototype={toString:function(){return"Data("+this.creationTime+", "+this.text+")"},get_data:function(a){return this.yc(a)},set_data:function(a,b){return this.aAd(a,b)},get_dataKeys:function(){return this.aue()}};IPCC.Web.UI.Data.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Data.registerClass("IPCC.Web.UI.Data");IPCC.bD={};
IPCC.HD=function(a){var b=this;this.ajV="filter";this.akV=function(a){return"progid:DXImageTransform.Microsoft.Alpha(opacity="+Math.round(100*a)+");"};this.YG=!0;this.XV=function(a,b,c,d,e,n){a.JD&&a.rA.abo(b,c,d,a.jW)};this.agF=function(){};this.afi(a);this.agU=function(a){return new IPCC.Fe(a.clientWidth,a.clientHeight,window.screen.deviceXDPI,window.screen.deviceYDPI)};this.Sn=function(a){b.kN(a)};this.ajI=function(a){b.wI(a)};this.TN=function(a){b.jO(a)};this.EN=function(a){b.mG(a)};this.Wd=function(a){b.iX(a)};
this.Yb=function(a){a.returnValue=!1;b.kN(a)};this.ZJ=function(a){a.returnValue=!1;b.jO(a)};this.Yj=function(a){a.returnValue=!1;b.iX(a)};this.Xq=function(a){b.Sc(a)};this.aad=function(a){a.target!==document.activeElement&&b.alB(a)};this.Ww=function(a){a.target!==document.activeElement&&b.ajL(a)};this.aeq=function(){var b=a.kw().igElements.ny;IPCC.Web.UI.aE.addHandler(b,"mousewheel",this.EN);IPCC.Web.UI.aE.addHandler(b,"dblclick",this.ajI)};this.ahp=function(){var b=a.kw().igElements.ny;IPCC.Web.UI.aE.removeHandler(b,
"mousewheel",this.EN);IPCC.Web.UI.aE.removeHandler(b,"dblclick",this.ajI)};this.agP=function(a,b,c,d){var e,n;for(a=0;a<c.fm.length;a++)e=c.fm[a],n=document.createElement("div"),e.pool.parentElementID=d+a.toString(),n.id=e.pool.parentElementID,n.style.width="0px",n.style.height="0px",n.setAttribute("tabindex","-1"),b.appendChild(n)};this.adY=function(b){var c=this.WI(),d=document.getElementById(b.pool.parentElementID),e;e=document.createElement("img");e.id=c;49<a.bV().get_presentationQuality()?e.style.msInterpolationMode=
"bicubic":e.style.msInterpolationMode="nearest-neighbor";e.style.position="absolute";e.style.display="none";e.setAttribute("tabindex","-1");e.setAttribute("hidefocus","true");d.appendChild(e);b.elementID=c;e.poolItem=b};this.agg=function(a){a=document.getElementById(a.elementID);this.pE(a.style,"display","none")};this.ZH=function(a){var b=document.getElementById(a.elementID);null!==b&&(b.src="",b.parentElement.removeChild(b));a.elementID=""};var d=function(c){try{IPCC.Web.UI.aE.removeHandler(c.target,
"load",d),c.target.onabort=null,c.target.onerror=null,c.target.poolItem.loaded=!0,b.yd()}catch(e){a.K("downloadImage",e),c=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs,c.exception=e,c.pageNumber=a.ba,a.aR("pageOpenFailed",c)}},c=function(){try{var b=window.event;IPCC.Web.UI.aE.removeHandler(b.srcElement,"load",d);b.srcElement.onabort=null;b.srcElement.onerror=null;b.srcElement.poolItem.loaded=!1;b="An image download was aborted by the user";"function"===typeof a.kw&&(b+="Div Id = "+a.kw().id);throw new IPCC.Web.UI.ImGearException(b,
{name:"IPCC.Web.UI.ImGearHttpException"});}catch(c){a.K("downloadImage",c),b=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs,b.exception=c,b.pageNumber=a.ba,a.aR("pageOpenFailed",b)}},e=function(){try{var b=window.event;IPCC.Web.UI.aE.removeHandler(b.srcElement,"load",d);b.srcElement.onabort=null;b.srcElement.onerror=null;b.srcElement.poolItem.loaded=!1;b="An image failed to load. Error status ";"function"===typeof a.kw&&(b+="Div Id = "+a.kw().id);throw new IPCC.Web.UI.ImGearException(b,{name:"IPCC.Web.UI.ImGearHttpException"});
}catch(c){a.K("downloadImage",c),b=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs,b.exception=c,b.pageNumber=a.ba,a.aR("pageOpenFailed",b)}};this.QB=function(b,c,d){var e=!0,q=0;0===a.iR()&&(e=!1);var n=new XMLHttpRequest,u,r=!1;if(a.Oq()&&!0===a.ej()){var l=IPCC.Web.ot.Ox(4),C=IPCC.Web.hA.Fd.lW(l);n.open("GET",c+"&iv="+C,!0)}else n.open("GET",c,!0);n.responseType="text";n.onreadystatechange=function(){var C;try{var w,t,y,D,J=w;if(4===n.readyState)if(w=n.status,200===n.status)try{if(!0===e&&u&&clearTimeout(u),
"true"===n.getResponseHeader("Accusoft-Data-Encrypted")){var L=IPCC.Web.hA.qM.sJ(n.getResponseHeader("Accusoft-Data-SK")),F=IPCC.Web.EE(L,l),p=IPCC.Web.ED(n),H=IPCC.Web.BS(p,F,l),B=IPCC.Web.hA.qM.lW(H,0,0);b.setAttribute("src","data:"+d+";base64,"+B)}else b.setAttribute("src",c)}catch(K){throw t="Image error, Error message = "+K.message,C=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs,C.exception=K,C.pageNumber=a.ba,a.aR("pageOpenFailed",C),new IPCC.Web.UI.ImGearArgumentException(null,t);}else if(200>
w||300<=w){!0===e&&u&&clearTimeout(u);J=n.status;if(403===w)throw q++,t=n.statusText&&""!==n.statusText?"Expired viewer session ID, error message from the server: "+n.statusText:"Expired viewer session ID. No error text message was received from the server:",new IPCC.Web.UI.ImGearHttpException(w,t);if(y=n.getResponseHeader("Accusoft-Status-Message")){var x;D=n.getResponseHeader("Accusoft-Status-Number");IPCC.Web.vq(D)&&(x=parseInt(D,10));throw new IPCC.Web.UI.ImGearHttpException(J,y,x);}if(r)throw new IPCC.Web.UI.ImGearHttpException(J,
"Client Image load timeout");t=n.statusText&&""!==n.statusText?n.statusText:"HTTP Error was received from the image server but the server did not provide any error description.";throw new IPCC.Web.UI.ImGearHttpException(J,t);}}catch(K){a.K("openPage",K),"function"===typeof a.aR&&(C=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs,C.exception=K,C.pageNumber=a.ba,a.aR("pageOpenFailed",C))}};!0===e&&(u=setTimeout(function(){r=!0;n.abort()},a.iR()));n.send()};this.alW=function(b){var g;for(g=0;g<b.length;g++){var k=
document.getElementById(b[g].poolItem.elementID);k.style.visibility="hidden";IPCC.Web.UI.aE.addHandler(k,"load",d);k.onabort=c;k.onerror=e;a.Oq()&&!0===a.ej()?this.QB(k,b[g].url,"image/png"):k.setAttribute("src",b[g].url)}};this.Yr=function(a,b,c,d){a=document.getElementById(a.poolItem.elementID);c?(this.pE(a,"width",Math.round(d.height)),this.pE(a,"height",Math.round(d.width))):(this.pE(a,"width",Math.round(d.width)),this.pE(a,"height",Math.round(d.height)));this.pE(a.style,"left",d.x.toString());
this.pE(a.style,"top",d.y.toString());this.pE(a.style,"filter",b);this.pE(a.style,"visibility","visible");this.pE(a.style,"display","block")};this.YR=function(a,b,c){var d;if(!(1>a.length)){var e="";1>b&&(e="progid:DXImageTransform.Microsoft.Alpha(opacity="+Math.round(100*b).toString()+")");b=c.clone();var n=1/a[0].level.de,u=IPCC.eu(n,0,0,n,0,0);b.Ct(u);if(d=b.Kf())u=new IPCC.eu(-1,0,0,1,0,0),b.append(u);n=Math.round(b.BA()/90);u=new IPCC.eu(1,0,0,1,0,0);u.rotate(90*n);b.Ct(u);b="";if(d||0!==n)b+=
"progid:DXImageTransform.Microsoft.BasicImage(mirror="+(d?"1":"0")+", rotation="+n.toString()+")";var u=1===n||3===n,r,l;for(d=0;d<a.length;d++)r=a[d],n=1/r.level.de,l={x:r.x*n,y:r.y*n},l.width=r.right*n-l.x,l.height=r.bottom*n-l.y,n=c.tq(l),this.Yr(a[d],e+b,u,n)}}};IPCC.HD.prototype=new IPCC.aW;IPCC.bD.HD=function(){};
IPCC.bD.HD.prototype={agk:function(a,b,d){this.V=a;this.am=a.bV();this.ar=b;this.cw=d.width;this.dr=d.height;this.Bc=d.he;this.aBv=d.hc;document.namespaces.igvml||(document.namespaces.add("igvml","urn:schemas-microsoft-com:vml"),a=document.createStyleSheet(),a.addRule("igvml\\:group","behavior: url(#default#VML); display:inline-block;position:absolute;"),a.addRule("igvml\\:oval","behavior: url(#default#VML); display:inline-block;position:absolute;"),a.addRule("igvml\\:rect","behavior: url(#default#VML); display:inline-block;"),
a.addRule("igvml\\:fill","behavior: url(#default#VML); display:inline-block;"),a.addRule("igvml\\:polyline","behavior: url(#default#VML); display:inline-block;"),a.addRule("igvml\\:shape","behavior: url(#default#VML); display:inline-block;"),a.addRule("igvml\\:skew","behavior: url(#default#VML); display:inline-block;"),a.addRule("igvml\\:stroke","behavior: url(#default#VML); display:inline-block;"),a.addRule("igvml\\:fill","behavior: url(#default#VML); display:inline-block;"),a.addRule("igvml\\:textpath",
"behavior: url(#default#VML); display:inline-block;"),a.addRule("igvml\\:roundrect","behavior: url(#default#VML); display:inline-block;"),a.addRule("igvml\\:textbox","behavior: url(#default#VML); display:inline-block;"));b.qt=document.createElement("div");b.abd.insertBefore(b.qt,b.xV)},Lg:function(a){a="vmltextmark-"+a.G.hD();var b=document.createElement("div");b.style.position="absolute";b.style.top=b.style.left="0";b.style.width=b.style.height="100%";b.style.background="blue";b.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
b.setAttribute("data-pcc-mark",a);return b},aho:function(a){a.nt=[];a.la=[];var b="vmlmark-"+a.G.hD(),d=this,c,e;switch(a.G.get_type()){case IPCC.Web.UI.MarkType.Rectangle:a.ac=this.bM("rect");a.jK=this.bM("fill");a.ac.appendChild(a.jK);a.G.hX()&&255===a.G.get_opacity()&&(IPCC.Web.UI.aE.addHandler(a.ac,"mouseover",function(){a.ac.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+Math.round(127/2.55)+")"}),IPCC.Web.UI.aE.addHandler(a.ac,"mouseout",function(){a.ac.style.filter=""}));break;
case IPCC.Web.UI.MarkType.HighlightText:b="highlighttextannotation-"+a.G.hD();a.ac=this.bM("group");a.ac.setAttribute("data-pcc-mark",b);this.fi(a.ac,{width:100*this.cw+"px",height:100*this.dr+"px"});a.eD=this.bM("group");a.ac.appendChild(a.eD);this.fi(a.eD,{width:100*this.cw+"px",height:100*this.dr+"px"});a.ma=this.bM("shape");a.nt.push(a.ma);a.pd=this.bM("stroke");this.aD(a.pd,{on:"true"});a.ma.appendChild(a.pd);a.pd.imgearUnstyled=!0;a.ac.appendChild(a.ma);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:b=
"texthyperlinkannotation-"+a.G.hD();a.ac=this.bM("group");a.ac.setAttribute("data-pcc-mark",b);this.fi(a.ac,{width:100*this.cw+"px",height:100*this.dr+"px"});a.eD=this.bM("group");a.ac.appendChild(a.eD);this.fi(a.eD,{width:100*this.cw+"px",height:100*this.dr+"px"});a.ma=this.bM("shape");a.nt.push(a.ma);this.fi(a.ma,{cursor:IPCC.ao.fp(IPCC.ao.Link)});a.pd=this.bM("stroke");this.aD(a.pd,{on:"true"});a.ma.appendChild(a.pd);a.pd.imgearUnstyled=!0;a.ac.appendChild(a.ma);a.vS=this.bM("shape");a.nt.push(a.vS);
this.fi(a.vS,{cursor:IPCC.ao.fp(IPCC.ao.Link)});a.Hq=this.bM("stroke");a.la.push(a.Hq);this.aD(a.Hq,{on:"true"});a.vS.appendChild(a.Hq);a.Hq.imgearUnstyled=!0;a.ac.appendChild(a.vS);IPCC.Web.UI.aE.addHandler(a.ac,"mouseover",function(){a.vS.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*IPCC.bD.aW.xL(!0,a.G.get_selected())+")"});IPCC.Web.UI.aE.addHandler(a.ac,"mouseout",function(){a.vS.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*IPCC.bD.aW.xL(!1,a.G.get_selected())+
")"});break;case IPCC.Web.UI.MarkType.DocumentHyperlink:b="documenthyperlink-"+a.G.hD();a.ac=this.bM("group");a.ac.setAttribute("data-pcc-mark",b);a.C=this.bM("roundrect");a.Yy=this.bM("fill");a.tO=this.bM("stroke");a.C.appendChild(a.Yy);a.C.appendChild(a.tO);a.ac.appendChild(a.C);this.fi(a.C,{cursor:IPCC.ao.fp(IPCC.ao.Link)});"Underline"===a.G.yN&&0<a.G.ep&&(a.kS=this.bM("rect"),a.agO=this.bM("stroke"),a.XL=this.bM("fill"),a.kS.appendChild(a.agO),a.kS.appendChild(a.XL),a.ac.appendChild(a.kS));break;
case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:a.ac=this.bM("shape");a.gl=document.createElement("img");a.gl.setAttribute("data-pcc-mark",b);a.gl.setAttribute("src",a.G.get_image());a.gl.setAttribute("class","pcc-image-stamp-img");a.gl.removeAttribute("height");a.gl.removeAttribute("width");e=this.Lg(a);e.setAttribute("data-pcc-mark",b);a.ac.appendChild(a.gl);a.ac.appendChild(e);break;case IPCC.Web.UI.MarkType.RectangleRedaction:a.ac=this.bM("group");
this.fi(a.ac,{width:100*this.cw+"px",height:100*this.dr+"px"});a.gx=this.bM("rect");a.ac.appendChild(a.gx);this.fi(a.gx,{width:100*this.cw+"px",height:100*this.dr+"px"});a.jK=this.bM("fill");a.gx.appendChild(a.jK);a.lQ=this.bM("stroke");a.gx.appendChild(a.lQ);a.la.push(a.lQ);a.sZ=document.createTextNode("");a.MT=document.createElement("div");a.MT.setAttribute("class","pcc-valign-mid");a.uw=document.createElement("div");a.uw.setAttribute("class","pcc-cell-content");a.uw.style.height="1px";a.uw.style.width=
"1px";a.cd=document.createElement("div");a.cd.style.position="absolute";a.cd.style.overflow="hidden";a.cd.style.display="table";8<=document.documentMode&&(a.cd.style.whiteSpace="pre-wrap");a.uw.appendChild(a.sZ);a.cd.appendChild(a.MT);a.MT.appendChild(a.uw);b="vmltextmark-"+a.G.hD();a.jK.setAttribute("data-pcc-mark",b);a.gx.setAttribute("data-pcc-mark",b);a.lQ.setAttribute("data-pcc-mark",b);a.cd.setAttribute("data-pcc-mark",b);a.MT.setAttribute("data-pcc-mark",b);a.uw.setAttribute("data-pcc-mark",
b);IPCC.Web.UI.aE.addHandler(a.cd,"mouseover",function(){!1===d.V.mt()&&!1===a.G.get_selected()&&(a.jK.opacity=.5,a.lQ.opacity=.5,a.cd.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=0);")});IPCC.Web.UI.aE.addHandler(a.cd,"mouseout",function(){!1===d.V.mt()&&!1===a.G.get_selected()&&(a.jK.opacity=1,a.lQ.opacity=1,a.cd.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100);")});break;case IPCC.Web.UI.MarkType.Ellipse:a.ac=this.bM("oval");a.jK=this.bM("fill");a.ac.appendChild(a.jK);
break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:a.ac=this.bM("group");this.fi(a.ac,{width:100*this.cw+"px",height:100*this.dr+"px"});a.ac.setAttribute("data-pcc-mark",b);a.gi=this.bM("shape");this.aD(a.gi,{filled:"f"});a.nt.push(a.gi);a.um=this.bM("stroke");a.la.push(a.um);this.aD(a.um,{on:"true"});a.gi.appendChild(a.um);a.um.setAttribute("joinstyle","miter");a.um.setAttribute("miterlimit","4");a.um.setAttribute("endcap","flat");a.wi=this.bM("shape");a.nt.push(a.wi);a.LX=this.bM("stroke");
a.la.push(a.LX);this.aD(a.LX,{on:"true"});a.wi.appendChild(a.LX);a.LX.imgearUnstyled=!0;a.vI=this.bM("shape");a.nt.push(a.vI);a.GY=this.bM("stroke");a.la.push(a.GY);this.aD(a.GY,{on:"true"});a.vI.appendChild(a.GY);a.GY.imgearUnstyled=!0;a.ac.appendChild(a.gi);a.ac.appendChild(a.wi);a.ac.appendChild(a.vI);break;case IPCC.Web.UI.MarkType.Polygon:a.ac=this.bM("shape");a.nt.push(a.ac);break;case IPCC.Web.UI.MarkType.Text:a.ac=this.bM("group");this.fi(a.ac,{width:100*this.cw+"px",height:100*this.dr+"px"});
a.qs=this.bM("shape");a.nt.push(a.qs);a.Kl=this.bM("stroke");a.la.push(a.Kl);a.qs.appendChild(a.Kl);a.ac.appendChild(a.qs);a.Kl.imgearUnstyled=!0;a.jK=this.bM("fill");a.qs.appendChild(a.jK);a.gi=this.bM("shape");this.aD(a.gi,{filled:"f"});a.nt.push(a.gi);a.um=this.bM("stroke");a.la.push(a.um);this.aD(a.um,{on:"true"});a.gi.appendChild(a.um);a.ac.appendChild(a.gi);a.ti=this.bM("shape");this.aD(a.ti,{filled:"f"});a.nt.push(a.ti);a.Af=this.bM("stroke");a.la.push(a.Af);this.aD(a.Af,{on:"true"});a.ti.appendChild(a.Af);
a.ac.appendChild(a.ti);a.Af.imgearUnstyled=!0;a.sZ=document.createTextNode("");a.cd=document.createElement("div");a.cd.style.position="absolute";a.cd.style.overflow="hidden";8<=document.documentMode&&(a.cd.style.whiteSpace="pre-wrap");a.cd.appendChild(a.sZ);b="vmltextmark-"+a.G.hD();a.qs.setAttribute("data-pcc-mark",b);a.Kl.setAttribute("data-pcc-mark",b);a.gi.setAttribute("data-pcc-mark",b);a.ti.setAttribute("data-pcc-mark",b);a.Af.setAttribute("data-pcc-mark",b);a.cd.setAttribute("data-pcc-mark",
b);break;case IPCC.Web.UI.MarkType.Highlight:a.ac=this.bM("rect");break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:a.ac=this.bM("group");a.eD=a.ac;this.fi(a.ac,{width:100*this.cw+"px",height:100*this.dr+"px"});break;case IPCC.Web.UI.MarkType.Stamp:a.ac=this.bM("roundrect");a.ue=document.createTextNode("");a.fM=document.createElement("div");c=a.G.bz;a.G.yB=!1;a.G.hG=a.G.da;e={};e.color=a.G.da;e.fontFamily="Arial";this.fi(a.fM,e);c||(c=a.G.dE[0],(a.G.bz=c)||(c="APPROVED"));e=this.Lg(a);e.setAttribute("data-pcc-mark",
b);a.ue.data=c;a.fM.appendChild(a.ue);a.ac.appendChild(a.fM);a.ac.appendChild(e);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:b=a.G;c=b.get_pathWidth();e=b.get_pathHeight();var f=b.get_pathString(),b=IPCC.bg.yF.Path(f,{width:c,height:e,multiplier:100,thickness:0<b.Ma?b.Ma:b.get_lineWidth(),color:b.get_lineColor()});a.ac=b;b=this.Lg(a);a.ac.appendChild(b);break;case IPCC.Web.UI.MarkType.SignatureText:a.ac=this.bM("rect");a.ue=document.createTextNode("");a.fM=document.createElement("div");
a.fM.setAttribute("data-pcc-mark",b);b=a.G.bz;a.G.yB=!1;a.G.hG="none";a.G.cv=255;c={};c.color=a.G.da;c.fontFamily=a.G.get_fontName();c.textAlign="center";this.fi(a.fM,c);c.fontFamily&&(a.fM.style.fontFamily='"'+c.fontFamily+'", cursive');b||(b=a.G.dE[0],a.G.bz=b);c=this.Lg(a);a.ue.data=b;a.fM.appendChild(a.ue);a.ac.appendChild(a.fM);a.ac.appendChild(c);break;case IPCC.Web.UI.MarkType.TextLine:a.ac=this.bM("rect");a.ue=document.createTextNode("");a.fM=document.createElement("div");a.fM.setAttribute("data-pcc-mark",
b);b=a.G.bz;c={};c.color=a.G.da;c.fontFamily=a.G.get_fontName();c.whiteSpace="pre";c.textAlign="left";this.fi(a.fM,c);c.fontFamily&&(a.fM.style.fontFamily='"'+c.fontFamily+'", cursive');b||(b=a.G.dE[0],a.G.bz=b);c=this.Lg(a);a.ue.data=b;a.fM.appendChild(a.ue);a.ac.appendChild(a.fM);a.ac.appendChild(c);break;case IPCC.Web.UI.MarkType.Strikethrough:b="strikethroughannotation-"+a.G.hD(),a.ac=this.bM("group"),a.ac.setAttribute("data-pcc-mark",b),this.fi(a.ac,{width:100*this.cw+"px",height:100*this.dr+
"px"}),a.eD=this.bM("group"),a.ac.appendChild(a.eD),this.fi(a.eD,{width:100*this.cw+"px",height:100*this.dr+"px"}),a.ma=this.bM("shape"),a.nt.push(a.ma),a.pd=this.bM("stroke"),this.aD(a.pd,{on:"true"}),a.ma.appendChild(a.pd),a.pd.imgearUnstyled=!0,a.ac.appendChild(a.ma),a.Dm=this.bM("shape"),a.nt.push(a.Dm),a.Ib=this.bM("stroke"),a.la.push(a.Ib),this.aD(a.Ib,{on:"true"}),a.Dm.appendChild(a.Ib),a.Ib.imgearUnstyled=!0,a.ac.appendChild(a.Dm)}!a.jK&&a.ac&&(a.jK=a.ac);a.ac&&"group"!==a.ac.tagName&&(a.lQ=
this.bM("stroke"),a.la.push(a.lQ),this.aD(a.lQ,{on:"true"}),a.ac.appendChild(a.lQ));for(b=0;b<a.nt.length;b++)this.aD(a.nt[b],{coordorigin:"0,0",coordsize:100*this.cw+","+100*this.dr}),this.fi(a.nt[b],{width:100*this.cw+"px",height:100*this.dr+"px"});for(b=0;b<a.la.length;b++)this.aD(a.la[b],{joinstyle:"miter"});a.uE=this.bM("group");this.ME(a);this.fi(a.uE,{left:"0px",top:"0px",width:"300px",height:"300px",position:"absolute"});this.aD(a.uE,{coordorigin:"0,0",coordsize:100*this.cw+","+100*this.dr});
a.uE.ImGearMarkRelation=a;a.uE.setAttribute("data-pcc-mark","vmlmark-"+a.G.hD());a.ac&&a.uE.appendChild(a.ac);this.ar.qt.appendChild(a.uE);a.cd&&(a.cd.ImGearMarkRelation=a,this.ar.qt.appendChild(a.cd))},mQ:function(a,b,d){b=this.Rr(b,d);this.aD(a,{path:b})},Rr:function(a,b){var d;if(1>a.length)d="";else{d="m"+Math.round(100*a[0].x)+","+Math.round(100*a[0].y);var c;for(c=1;c<a.length;c++)d=1<c?d+",":d+"l",d+=Math.round(100*a[c].x)+","+Math.round(100*a[c].y);b&&2<a.length&&(d+="x");d+="e"}return d},
apH:function(a,b){var d="";IPCC.bg.forEach(a,function(a){a=this.apX(a,b);d=d+this.Rr(a,!1)+", "},this);return d},aqv:function(a,b){var d="";IPCC.bg.forEach(a,function(a){a=this.apR(a,b);d=d+this.Rr(a,!1)+", "},this);return d},aqo:function(a){var b="";IPCC.bg.forEach(a,function(a){a=this.aqU(a);b=b+this.Rr(a,!0)+", "},this);return b},aqU:function(a){var b=[];b.push({x:a.x,y:a.y});b.push({x:a.x+a.width,y:a.y});b.push({x:a.x+a.width,y:a.y+a.height});b.push({x:a.x,y:a.y+a.height});return b},apX:function(a,
b){b=b||0;var d=[];d.push({x:a.x,y:a.y+a.height+b});d.push({x:a.x+a.width,y:a.y+a.height+b});return d},apR:function(a,b){b=[];var d=a.y+a.height/2;b.push({x:a.x,y:d});b.push({x:a.x+a.width,y:d});return b},GP:function(a,b,d,c,e,f,g,k){b=this.agf(a,b,d,c,e);d={display:"block"};c={fillcolor:f,filled:!1};f={color:f};switch(e){case IPCC.Web.UI.LineHeadType.None:d.display="none";break;case IPCC.Web.UI.LineHeadType.Pointer:this.mQ(g,[b.uQ,a,b.ug],!1);break;case IPCC.Web.UI.LineHeadType.Solid:this.mQ(g,[b.uQ,
a,b.ug],!0);c.filled=!0;break;case IPCC.Web.UI.LineHeadType.Open:this.mQ(g,[b.uQ,a,b.ug],!0);break;case IPCC.Web.UI.LineHeadType.PointerSolid:c.filled=!0,this.mQ(g,[b.uQ,a,b.ug,b.Ac],!0)}e!==IPCC.Web.UI.LineHeadType.None&&(this.fi(g,d),this.aD(g,c),this.aD(k,f));return b},YV:function(a){var b=a.G,d,c,e;d=this.KM(b);2>d.length||b.mn?(this.fi(a.wi,{display:"none"}),this.fi(a.vI,{display:"none"})):(b.tx=b.hG,e=this.Qr(d,!0),c=this.GP(e.et,e.iJ,b.BK,b.CY,b.Ei,b.tx,a.wi,a.LX),e=this.Qr(d,!1),e=this.GP(e.et,
e.iJ,b.CW,b.DR,b.lM,b.tx,a.vI,a.GY),d[0]=c.Ac,d[d.length-1]=e.Ac);this.mQ(a.gi,d,b.mn)},Wl:function(a){var b=this.ahA(a);this.mQ(a.qs,b.UT,!0);var d={},c={},e=a.G;b.OB||"transparent"===e.hG?c.on=!1:(c.color=e.hG,c.dashstyle=this.xT(e.fU),c.on=!0,c.opacity=e.cv/255);b.IY?(this.mQ(a.gi,b.IY,!1),a.gi.style.visibility="visible"):a.gi.style.visibility="hidden";b.Ds?(this.mQ(a.ti,b.Ds,!1),a.ti.style.visibility="visible"):a.ti.style.visibility="hidden";e.AH?(d.color=e.Ew,d.dashstyle=this.xT(e.rI),a.Af.imgearCalloutSized=
!0):(d.color=e.hG,d.dashstyle=this.xT(e.fU),a.Af.imgearCalloutSized=!1);this.aD(a.Af,d);this.aD(a.Kl,c)},aoC:function(a,b,d){var c=a.G,e=c.fz(),f=1;c.gD&&(f+=c.ep/2);e.width-=2*f;e.height-=2*f;e.x+=f;e.y+=f;e=b.tq(e);f=new IPCC.eu(1,0,0,1,0,0);switch(c.yz){case IPCC.Web.UI.Orientation.TopRight:f.scale(-1,1);break;case IPCC.Web.UI.Orientation.BottomRight:f.rotate(180);break;case IPCC.Web.UI.Orientation.BottomLeft:f.rotate(180);f.scale(-1,1);break;case IPCC.Web.UI.Orientation.LeftTop:f.scale(-1,1);
f.rotate(270);break;case IPCC.Web.UI.Orientation.RightTop:f.rotate(90);break;case IPCC.Web.UI.Orientation.RightBottom:f.scale(-1,1);f.rotate(90);break;case IPCC.Web.UI.Orientation.LeftBottom:f.rotate(270)}f.append(b);b=c.get_type()===IPCC.Web.UI.MarkType.TextLine?c.er*d:c.er*this.Bc/72*d;d=f.Kf();f=f.BA();d&&(f=(360-f)%360);var g=Math.round(f/90),k="";if(d||g)k="progid:DXImageTransform.Microsoft.BasicImage(mirror="+(d?"1":"0")+", rotation="+g.toString()+");";255>c.tY&&(k+="progid:DXImageTransform.Microsoft.Alpha(opacity="+
Math.round(c.tY/255*100)+");");a.fM.style.filter=k;if(45<f&&135>f||225<f&&315>f)c=e.width,e.width=e.height,e.height=c;a.fM.style.width=e.width+"px";a.fM.style.height=e.height+"px";a.fM.style.lineHeight=a.fM.style.height;a.fM.style.fontSize=Math.round(b)+"px"},aoq:function(a,b,d){var c=a.G,e=c.fz(),f=1;c.gD&&(f+=c.ep/2);e.width-=2*f;e.height-=2*f;e.x+=f;e.y+=f;var e=b.tq(e),f=e.x,g=e.y,k=new IPCC.eu(1,0,0,1,0,0);switch(c.yz){case IPCC.Web.UI.Orientation.TopRight:k.scale(-1,1);break;case IPCC.Web.UI.Orientation.BottomRight:k.rotate(180);
break;case IPCC.Web.UI.Orientation.BottomLeft:k.rotate(180);k.scale(-1,1);break;case IPCC.Web.UI.Orientation.LeftTop:k.scale(-1,1);k.rotate(270);break;case IPCC.Web.UI.Orientation.RightTop:k.rotate(90);break;case IPCC.Web.UI.Orientation.RightBottom:k.scale(-1,1);k.rotate(90);break;case IPCC.Web.UI.Orientation.LeftBottom:k.rotate(270)}k.append(b);b={};d*=c.er*this.Bc/72;c.mX=d;b.fontSize=Math.round(d)+"px";d=k.Kf();k=k.BA();d&&(k=(360-k)%360);var m=Math.round(k/90),q="";if(d||m)q="progid:DXImageTransform.Microsoft.BasicImage(mirror="+
(d?"1":"0")+", rotation="+m.toString()+");";!0===this.V.mt()?(a.jK.opacity=.5,a.lQ.opacity=.5,q+=" progid:DXImageTransform.Microsoft.Alpha(opacity=0);"):255>c.tY&&(q+=" progid:DXImageTransform.Microsoft.Alpha(opacity="+Math.round(c.tY/255*100)+");");a.cd.style.filter=q;if(45<k&&135>k||225<k&&315>k)c=e.width,e.width=e.height,e.height=c;b.left=f+"px";b.top=g+"px";b.width=e.width+"px";b.height=e.height+"px";this.fi(a.cd,b);void 0!==a.uw&&(a.uw.style.width=e.width+"px")},LO:function(a){var b=a.G,d={lineHeight:1,
backgroundColor:"transparent"};d.color=b.oR;d.fontFamily=b.hv;d.fontStyle=b.eC&IPCC.Web.UI.FontStyle.Italic?"italic":"";d.fontWeight=b.eC&IPCC.Web.UI.FontStyle.Bold?"bold":"";d.textDecoration=b.eC&IPCC.Web.UI.FontStyle.Underline&&b.eC&IPCC.Web.UI.FontStyle.Strikeout?"underline line-through":b.eC&IPCC.Web.UI.FontStyle.Underline?"underline":b.eC&IPCC.Web.UI.FontStyle.Strikeout?"line-through":"";switch(b.pz){case IPCC.Web.UI.HorizontalAlignment.Center:d.textAlign="center";break;case IPCC.Web.UI.HorizontalAlignment.Right:d.textAlign=
"right";break;default:d.textAlign="left"}if(8>document.documentMode){var c=b.bz.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>");a.cd.innerHTML=c}else this.aiL(a);this.aD(a.cd,{});this.fi(a.cd,d);a.G.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction&&("#000000"===b.da&&(b.da="#ffffff"),!0===b.hX()?b.da="white":b.set_opacity(b.cv))},ME:function(a){var b=a.G;if(b){var d=a.ac,c,e={},f={},g={},k={},m=!0,q,n,u,r,l,C,E,w,t,y=!1;switch(b.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:y=
!0;this.YV(a);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Highlight:c=b.get_rectangle();0===c.x&&0===c.y&&(w=this.V.cA().eO(),0<w.fj()&&(c=w.le(b.aV).ax),b.ly="y");e.left=100*c.x+"px";e.top=100*c.y+"px";e.width=100*c.width+"px";e.height=100*c.height+"px";break;case IPCC.Web.UI.MarkType.HighlightText:this.BQ(a);e={display:b.get_visible()?"block":"none",filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.round(b.cv/2.55)+")",color:b.da};f={fillcolor:b.da,filled:!0};
k={color:b.da};this.fi(a.ma,e);this.aD(a.ma,f);this.aD(a.pd,k);this.vQ(a);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.BQ(a);e={display:b.get_visible()?"block":"none",filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*IPCC.bD.aW.HK(!1,a.G.get_selected())+")",color:b.da};f={fillcolor:b.da,filled:!0};k={color:b.da};E={filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*IPCC.bD.aW.xL(!1,a.G.get_selected())+")",weight:0};this.fi(a.ma,e);this.aD(a.ma,f);this.aD(a.pd,
k);this.fi(a.vS,E);this.aD(a.Hq,k);this.vQ(a);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:c=b.get_rectangle();e.left=100*c.x+"px";e.top=100*c.y+"px";e.width=100*c.width+"px";e.height=100*c.height+"px";a.C.style.width="100%";a.C.style.height="100%";c=0;"Underline"!==a.G.yN&&(0<a.G.Gx||0<a.G.Ep)&&(c=.4);a.C.setAttribute("arcsize",c);a.kS&&(a.kS.style.width="100%",a.kS.style.top="100%",a.kS.style.height="10000px",a.kS.setAttribute("fill",!0),a.kS.setAttribute("fillcolor",a.G.hG),a.agO.setAttribute("on",
!1),a.XL.setAttribute("type","solid"),a.XL.setAttribute("opacity",a.G.oP/255));a.Yy.setAttribute("type","solid");a.Yy.setAttribute("opacity",IPCC.bD.aW.HK());"Underline"===a.G.yN||0===a.G.ep?a.tO.setAttribute("on",!1):("Dashed"===a.G.yN?a.tO.setAttribute("dashstyle","dash"):a.tO.setAttribute("on",!0),a.tO.setAttribute("color",a.G.hG),a.tO.setAttribute("weight",a.G.ep+"px"),a.tO.setAttribute("opacity",a.G.oP/255));break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:c=
b.get_rectangle();e.left=100*c.x+"px";e.top=100*c.y+"px";e.width=100*c.width+"px";e.height=100*c.height+"px";a.gl.src=a.G.aF;E=a.ac.getBoundingClientRect();w=a.gl.getBoundingClientRect();void 0!==w.bottom&&void 0!==E.bottom&&(c=E.bottom-E.top,E=E.right-E.left,t=w.bottom-w.top,w=w.right-w.left,a.gl.style.position="relative",c===t&&E===w?(a.gl.style["max-height"]="100%",a.gl.style.height="auto",a.gl.style["max-width"]="100%",a.gl.style.width="auto",a.gl.style.top="0"):c<=t?(a.gl.style["max-height"]=
"100%",a.gl.style.height="100%",a.gl.style["max-width"]="available",a.gl.style.width="auto",a.gl.style.top="0"):(a.gl.style["max-height"]="available",a.gl.style.height="auto",a.gl.style["max-width"]="100%",a.gl.style.width="100%",a.gl.style.top=""),c>t&&(a.gl.style.top=(c/2-t/2)/c*100+"%"));break;case IPCC.Web.UI.MarkType.RectangleRedaction:c=b.get_rectangle();e.left=100*c.x+"px";e.top=100*c.y+"px";e.width=100*c.width+"px";e.height=100*c.height+"px";!0===this.V.mt()?(a.jK.opacity=.5,a.lQ.opacity=
.5,a.cd.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=0);"):(a.jK.opacity=1,a.lQ.opacity=1,a.cd.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100);");this.LO(a);setTimeout(function(){q=a.cd.cloneNode(!0);q.style.visibility="hidden";document.body.appendChild(q);n=q.getElementsByTagName("div");u=n[0];r=n[1];r.style.height="inherit";l=r.getBoundingClientRect();C=u.getBoundingClientRect();0!==l.top&&(a.uw.style.height=l.top===C.top&&l.bottom===C.bottom&&""!==a.cd.style.height?
a.cd.style.height:"inherit");document.body.removeChild(q);q=void 0},0);break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.vQ(a);return;case IPCC.Web.UI.MarkType.Ellipse:c=b.get_rectangle();e.left=100*c.x+"px";e.top=100*c.y+"px";e.width=100*c.width+"px";e.height=100*c.height+"px";break;case IPCC.Web.UI.MarkType.Polygon:c=this.KM(b);this.mQ(d,c,!0);break;case IPCC.Web.UI.MarkType.Text:this.Wl(a);this.LO(a);break;case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:c=b.get_rectangle();
e.left=100*c.x+"px";e.top=100*c.y+"px";e.width=100*c.width+"px";e.height=100*c.height+"px";(E=b.get_text())||(E=b.get_type()===IPCC.Web.UI.MarkType.Stamp?"APPROVED":"");a.ue.data=E;E=this.asQ(c.width,c.height);a.fM.style.textAlign="center";a.fM.style.fontSize=E+"px";b.get_type()===IPCC.Web.UI.MarkType.SignatureText&&(w=12*c.width/(b.wo||1),t=12*c.height/(b.vt||1),w=Math.min(w,t)/2,b.get_visible()?a.ac.style.display="block":a.ac.style.display="none");b.er=w||E;b.stampSize=Math.floor(w||E);a.fM.style.width=
c.width/3.25;a.fM.style.height=c.height/3.25;a.fM.style.lineHeight=a.fM.style.height;a.G.get_type()===IPCC.Web.UI.MarkType.SignatureText&&(a.fM.style.fontFamily=a.G.get_fontName()+", cursive");b.get_type()===IPCC.Web.UI.MarkType.Stamp?a.G.hG=a.G.da:b.gD=!1;c={};c.color=a.G.da;this.fi(a.fM,c);break;case IPCC.Web.UI.MarkType.TextLine:c=b.get_rectangle();e.left=100*c.x+"px";e.top=100*c.y+"px";e.width=100*c.width+"px";e.height=100*c.height+"px";E=b.get_text()||"";a.ue.data=E;w=12*c.width/(b.wo||1);t=
12*c.height/(b.vt||1);w=Math.min(w,t);w*=.9;b.er=w;b.mX=w;b.aiE=this.Bc/72;b.stampSize=w;a.fM.style.width=c.width;a.fM.style.height=c.height;a.fM.style.lineHeight=a.fM.style.height;a.fM.style.fontFamily=a.G.get_fontName()+", sans-serif";c={};c.color=a.G.oR;this.fi(a.fM,c);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:try{d.setAttribute("stroke",b.get_lineColor());if(!0===b.NH){b.NH=!1;d.setAttribute("d",b.get_pathString());t=b.get_pathWidth();var D=b.get_pathHeight();
d.setAttribute("width",100*t);d.setAttribute("height",100*D);d.coordsize=[t,D].join(", ")}!1===b.get_visible()?d.style.display="none":d.style.display="";var J,L,F,p,H=b.get_pathWidth()/b.get_pathHeight();c=b.get_rectangle();c.width/c.height>H?(L=c.height,J=c.height*H,F=c.x-(J-c.width)/2,p=c.y,b.Ma=b.ep*J/b.get_pathWidth()):(J=c.width,L=c.width/H,p=c.y-(L-c.height)/2,F=c.x,b.Ma=b.ep*L/b.get_pathHeight());e.left=100*F+"px";e.top=100*p+"px";e.width=100*J+"px";e.height=100*L+"px"}catch(B){}break;case IPCC.Web.UI.MarkType.Strikethrough:this.BQ(a);
e={display:b.get_visible()?"block":"none",filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*IPCC.bD.aW.HK(!1,a.G.get_selected())+")",color:b.hG};f={fillcolor:b.hG,filled:!0};k={color:b.hG};this.fi(a.Dm,E);this.aD(a.Ib,k);this.vQ(a);break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("type",b.get_type());}b.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&b.get_type()!==IPCC.Web.UI.MarkType.Freehand&&b.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&b.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&
b.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&(y?g.filled=!1:(b.yB&&"transparent"!==b.da?"fill"===a.jK.tagName?(g.on=!0,g.opacity=b.cv/255,g.color=b.da):(g.filled=!0,g.fillColor=b.da):"fill"===a.jK.tagName?(g.on=!0,g.opacity=.01,g.color="white"):g.filled=!1,m=b.gD),m&&"transparent"!==b.get_lineColor()?(k.color=b.get_lineColor(),k.dashstyle=this.xT(b.fU),k.on=!0):k.on=!1);m="";switch(b.jJ()){case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:break;default:if(y={},y[IPCC.Web.UI.MarkType.Rectangle]=
!0,y[IPCC.Web.UI.MarkType.Ellipse]=!0,y[IPCC.Web.UI.MarkType.Text]=!0,!0===y[b.jJ()])k.opacity=b.cv/255;else if(255>b.cv&&(m="progid:DXImageTransform.Microsoft.Alpha(opacity="+Math.round(b.cv/2.55)+")"),(y=d.firstChild)&&"shape"===y.nodeName)for(;y;)y.style.filter=m,y=y.nextSibling;else d.style.filter=m}if(b.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&b.get_type()!==IPCC.Web.UI.MarkType.Freehand)for(b.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&b.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&
b.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&(b.hh?(e.visibility="visible",a.cd&&(a.cd.style.visibility="visible")):(e.visibility="hidden",a.cd&&(a.cd.style.visibility="hidden"))),e.cursor=IPCC.ao.fp(this.am.Gp()),a.cd&&(a.cd.style.cursor=IPCC.ao.fp(this.am.Gp())),this.fi(d,e),this.aD(a.jK,g),this.aD(d,f),b=0;b<a.la.length;b++)a.la[b].imgearUnstyled||this.aD(a.la[b],k);else this.fi(d,e)}},vQ:function(a){for(var b=a.G,d={},c={},e=a.eD;e.firstChild;)e.removeChild(e.firstChild);var f;
for(a=0;a<b.fo.length;a++)for(var g=0;g<b.fo[a].length;g++){var k=this.V.cA().eO();0<k.fj()&&(f=k.le(b.fo[a].startIndex+g).ax);k=this.bM("rect");d.left=100*f.x+"px";d.top=100*f.y+"px";d.width=100*f.width+"px";d.height=100*f.height+"px";d.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+Math.round(b.fo[a].opacity/2.55)+")";this.fi(k,d);c.fillColor=b.fo[a].color;c.filled=!0;this.aD(k,c);var m=this.bM("stroke");this.aD(m,{on:"f"});k.appendChild(m);e.appendChild(k)}},BQ:function(a){var b=a.G;
if(null!==b.bj&&void 0!==b.bj&&(0===b.bj.length&&0<b.dk&&this.V.cA().mF()&&(b.bj=IPCC.bg.OR(this.V.cA().eO(),b.aV,b.aV+b.dk-1)),!a.aV||!a.dk||a.aV!==b.aV||!1===b.hh||!0===b.hh||a.dk!==b.dk)){var d,c=!0;a.vS&&(d=this.apH(b.bj,b.ep/-2),this.aD(a.vS,{path:d}));a.Dm&&(c=!1,d=this.aqv(b.bj,b.ep),this.aD(a.Dm,{path:d}));c&&(d=this.aqo(b.bj),this.aD(a.ma,{path:d}));a.aV=b.aV;a.dk=b.dk}},asQ:function(a,b){b=a>=b?a/14/2:a/15;15*b>=a&&(b=a/15/2);return b},xT:function(a){switch(a){case IPCC.Web.UI.LineStyle.Dash:return"dash";
case IPCC.Web.UI.LineStyle.Dot:return"dot";case IPCC.Web.UI.LineStyle.DashDot:return"dashdot";case IPCC.Web.UI.LineStyle.DashDotDot:return"shortdashdotdot"}return"solid"},Hy:function(a){this.ar.qt.removeChild(a.uE);a.cd&&this.ar.qt.removeChild(a.cd);delete a.uE},abo:function(a,b,d,c){b=a.transform({x:0,y:0});var e=a.transform({x:1,y:0}),f=b.x-e.x,g=f*f,f=b.y-e.y;b=Math.sqrt(g+f*f);e={width:d.width*b+"px",height:d.height*b+"px"};f=a.Kf();e.flip=f?"x":"";g=a.BA();45<g&&135>g||225<g&&315>g?(e.left=(d.height-
d.width)*b/2+"px",e.top=(d.width-d.height)*b/2+"px"):(e.left="0px",e.top="0px");var k,m;for(d=0;d<c.length;d++){m=c[d];this.aD(m.uE,{rotation:f?-g:g});this.fi(m.uE,e);for(k=0;k<m.la.length;k++)m.la[k].imgearCalloutSized?this.aD(m.la[k],{weight:m.G.De*b}):m.G.get_type()!==IPCC.Web.UI.MarkType.SignaturePath?this.aD(m.la[k],{weight:m.G.ep*b}):this.aD(m.la[k],{weight:0<m.G.Ma?m.G.Ma:m.G.ep*b});m.cd&&this.aoq(m,a,b);m.fM&&this.aoC(m,a,b)}},agS:function(){this.ar=void 0},bM:function(a){return document.createElement("igvml:"+
a)},fi:function(a,b){for(var d in b)b.hasOwnProperty(d)&&a.style[d]!==b[d]&&(a.style[d]=b[d])},aD:function(a,b){var d;if(8===document.documentMode)for(d in b){if(b.hasOwnProperty(d)){var c=b[d].toString();a[d]!==c&&(a[d]=c)}}else for(d in b)b.hasOwnProperty(d)&&b[d]&&a.setAttribute(d,b[d].toString())}};
IPCC.ama=function(a,b){var d=this;this.ajV="opacity";this.akV=function(a){return a.toString()};var c=function(a,b,c,d,f,e){this.V.te();a.Gk.setAttribute("width",c.width);a.Gk.setAttribute("height",c.height);a.wj.setAttribute("width",c.width);a.wj.setAttribute("height",c.height);b=b.rm().toString()+","+b.pF().toString()+","+b.rS().toString()+","+b.uo().toString()+","+(b.xD()+f).toString()+","+(b.ys()+e).toString();this.kE(a.HE,"transform","matrix("+b+")")},e,f;this.XV=function(b,d,g,k,r,l){if(b.abw.match("maglevel"))c.apply(this,
arguments);else{var C=b.gd.parentElement.getBoundingClientRect(),E=C.width/k.width,w=0,t=0,y;y=d.pF();1E-14>Math.abs(y)&&(y=0);var D=d.rS();1E-14>Math.abs(D)&&(D=0);var J=d.rm();y=0<=y&&0>D?90:0>y&&0<=D?270:0>J?180:0;switch(y){case 90:w=C.width;break;case 180:w=C.width;t=C.height;break;case 270:t=C.height}y*=Math.PI/180;if(1===parseInt(y,10)||4===parseInt(y,10))E=C.height/k.width;if(E!==e||y!==f)e=E,f=y,D=1,J=0,0!==y&&(D=Math.cos(y),J=Math.sin(y)),C=D*E,y=D*E,D=J*E,E*=-1*J,J=new IPCC.eu(C,D,E,y,w,
t),d.Sa(J),a.bV().hK(d),t="matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})".replace("{scaleX}",C).replace("{scaleY}",y).replace("{skewX}",D).replace("{skewY}",E).replace("{moveX}",w).replace("{moveY}",t),this.kE(b.HE,"transform",t)}};this.agF=function(){f=e=void 0};this.afi(a);this.agU=function(a){return new IPCC.Fe(a.clientWidth,a.clientHeight,96,96)};this.Yb=function(a){a.preventDefault();d.kN(a)};this.ZJ=function(a){a.preventDefault();d.jO(a)};this.Yj=function(a){a.preventDefault();d.iX(a)};
this.Sn=function(a){d.kN(a)};this.agR=function(a){d.wI(a)};this.TN=function(a){d.jO(a)};this.EN=function(a){d.mG(a)};this.Oh=0;this.Wd=function(a){if(1<a.rawEvent.detail)if(window.navigator.msPointerEnabled){var b=!1;navigator.userAgent.match("6.1")&&11===document.documentMode&&(b=!0);if(this.Oh){var c=500;b&&(c=8E3);a.rawEvent.timeStamp-this.Oh>c?d.iX(a):d.wI(a)}else a.target instanceof SVGPolylineElement&&!0===b?d.wI(a):d.iX(a);this.Oh=a.rawEvent.timeStamp}else d.wI(a);else d.iX(a)};this.Xq=function(a){d.Sc(a)};
this.aad=function(a){a.target!==document.activeElement&&d.alB(a)};this.Ww=function(a){a.target!==document.activeElement&&d.ajL(a)};this.qj=function(b){try{b.preventDefault();var c=new IPCC.Web.UI.MouseEventArgs;c.domEvent=b;d.sC(c);a.axi(c)}catch(f){a.K("mouseOut",f)}};this.Ru=function(b){try{b.preventDefault();var c=new IPCC.Web.UI.MouseEventArgs;c.domEvent=b;d.sC(c);a.ayZ(c)}catch(f){a.K("touchStart",f)}};this.Rm=function(b){try{b.preventDefault();var c=new IPCC.Web.UI.MouseEventArgs;c.domEvent=
b;d.sC(c);a.ayU(c)}catch(f){a.K("touchMove",f)}};this.QH=function(b){try{b.preventDefault();var c=new IPCC.Web.UI.MouseEventArgs;c.domEvent=b;d.sC(c);a.ayM(c)}catch(f){a.K("touchEnd",f)}};this.Jh=function(b){try{b.preventDefault();var c=new IPCC.Web.UI.MouseEventArgs;c.domEvent=b;d.sC(c);a.ayr(c)}catch(f){a.K("touchCancel",f)}};this.aiX=function(b){try{b.preventDefault()}catch(c){a.K("dragStart",c)}};this.aeq=function(){var c=a.kw().igElements.ny;IPCC.Web.UI.aE.addHandler(c,"mousewheel",this.EN);
IPCC.Web.UI.aE.addHandler(c,"DOMMouseScroll",this.EN);b&&(IPCC.Web.UI.aE.addHandler(c,"touchstart",this.Ru),IPCC.Web.UI.aE.addHandler(c,"touchmove",this.Rm),IPCC.Web.UI.aE.addHandler(c,"touchend",this.QH),IPCC.Web.UI.aE.addHandler(c,"touchcancel",this.Jh));IPCC.Web.UI.aE.addHandler(c,"mouseout",this.qj);IPCC.Web.UI.aE.addHandler(c,"dragstart",this.aiX)};this.ahp=function(){var c=a.kw().igElements.ny;IPCC.Web.UI.aE.removeHandler(c,"DOMMouseScroll",this.EN);IPCC.Web.UI.aE.removeHandler(c,"mouseout",
this.qj);b&&(IPCC.Web.UI.aE.removeHandler(c,"touchstart",this.Ru),IPCC.Web.UI.aE.removeHandler(c,"touchmove",this.Rm),IPCC.Web.UI.aE.removeHandler(c,"touchend",this.QH),IPCC.Web.UI.aE.removeHandler(c,"touchcancel",this.Jh));IPCC.Web.UI.aE.removeHandler(c,"dragstart",this.aiX)};this.agP=function(b,c,d,f){var e,g,k,E=function(a,b,c){a=document.createElementNS("http://www.w3.org/2000/svg",a);var d;b&&a.setAttribute("id",b);for(d in c)c.hasOwnProperty(d)&&a.setAttribute(d,c[d]);return a},w=E("svg",null,
{xmlns:"http://www.w3.org/2000/svg",version:"1.1",xlink:"http://www.w3.org/1999/xlink","image-rendering":"optimizeQuality"});b.wj=E("rect",null,{x:0,y:0,"fill-opacity":"0.005",fill:"#808080"});w.appendChild(b.wj);var t=E("g",null,{});b.HE=t;w.appendChild(t);var y;y=!1===a.te()?d.fm.length:1;for(e=0;e<y;e++)g=d.fm[e],g.pool.parentElementID=f+e.toString(),k=1/g.de,g=E("g",g.pool.parentElementID,{transform:"matrix("+k.toString()+",0,0,"+k.toString()+",0,0)"}),t.appendChild(g);b.Gk=w;c.appendChild(w)};
this.adY=function(a){var b=this.WI();a.elementID=b};this.agg=function(a){a=document.getElementById(a.elementID);this.kE(a,"display","none")};this.ZH=function(a){var b=document.getElementById(a.elementID);null!==b&&(b.setAttributeNS("http://www.w3.org/1999/xlink","href",""),b.parentNode.removeChild(b));a.elementID=""};var g=function(b){try{b.target.onload=void 0,b.target.onerror=void 0,b.target.onabort=void 0,b.target.poolItem.loaded=!0,d.yd()}catch(c){a.K("downloadImage",c)}},k=function(b){try{throw b.target.onload=
void 0,b.target.onerror=void 0,b.target.onabort=void 0,b.target.setAttributeNS("http://www.w3.org/1999/xlink","href",""),b.target.setAttribute("display","none"),new IPCC.Web.UI.ImGearException("An image failed to download or the user cancelled it",{name:"IPCC.Web.UI.ImGearHttpException"});}catch(c){a.K("downloadImage",c),b=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs,b.exception=c,b.pageNumber=a.ba,a.aR("pageOpenFailed",b)}};this.alW=function(b){var c,f;f=!1===a.te()?b.length:1;for(c=0;c<f;c++){var e=
b[c],r=document.getElementById(e.poolItem.elementID);if(null===r){var l=e.poolItem,C=document.getElementById(l.pool.parentElementID),r=document.createElementNS("http://www.w3.org/2000/svg","image");this.kE(r,"id",l.elementID);this.kE(r,"externalResourcesRequired","true");r.poolItem=l;r.onload=g;r.onerror=k;r.onabort=k;8<document.documentMode&&(l.loaded=!0);a.Oq()&&!0===a.ej()?this.QB(r,e.url,"image/png"):r.setAttributeNS("http://www.w3.org/1999/xlink","href",e.url);C.appendChild(r);this.kE(r,"display",
"block");l=e.right-e.x;C=e.bottom-e.y;this.kE(r,"x",e.x);this.kE(r,"y",e.y);this.kE(r,"width",l);this.kE(r,"height",C)}this.kE(r,"display","block")}8<document.documentMode&&0<b.length&&d.yd()};this.QB=function(b,c,d){var f=!0,e=0;0===a.iR()&&(f=!1);var g=new XMLHttpRequest,k,E=!1;if(a.Oq()&&!0===a.ej()){var w=IPCC.Web.ot.Ox(4),t=IPCC.Web.hA.Fd.lW(w);g.open("GET",c+"&iv="+t,!0)}else g.open("GET",c,!0);g.responseType="text";g.onreadystatechange=function(){var t;try{var D,J,L,F,p=D;if(4===g.readyState)if(D=
g.status,200===g.status)try{if(!0===f&&k&&clearTimeout(k),"true"===g.getResponseHeader("Accusoft-Data-Encrypted")&&!0===a.ej()){var H=IPCC.Web.hA.qM.sJ(g.getResponseHeader("Accusoft-Data-SK")),B=IPCC.Web.EE(H,w),x=IPCC.Web.ED(g),K=IPCC.Web.BS(x,B,w),M=IPCC.Web.hA.qM.lW(K,0,0);b.setAttributeNS("http://www.w3.org/1999/xlink","href","data:"+d+";base64,"+M)}else b.setAttributeNS("http://www.w3.org/1999/xlink","href",c)}catch(A){throw J="Image error, Error message = "+A.message,t=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs,
t.exception=A,t.pageNumber=a.ba,a.aR("pageOpenFailed",t),new IPCC.Web.UI.ImGearArgumentException(null,J);}else if(200>D||300<=D){!0===f&&k&&clearTimeout(k);p=g.status;if(403===D)throw e++,J=g.statusText&&""!==g.statusText?"Expired viewer session ID, error message from the server: "+g.statusText:"Expired viewer session ID. No error text message was received from the server:",new IPCC.Web.UI.ImGearHttpException(D,J);if(L=g.getResponseHeader("Accusoft-Status-Message")){var Z;F=g.getResponseHeader("Accusoft-Status-Number");
IPCC.Web.vq(F)&&(Z=parseInt(F,10));throw new IPCC.Web.UI.ImGearHttpException(p,L,Z);}if(E)throw new IPCC.Web.UI.ImGearHttpException(p,"Client Image load timeout");J=g.statusText&&""!==g.statusText?g.statusText:"HTTP Error was received from the image server but the server did not provide any error description.";throw new IPCC.Web.UI.ImGearHttpException(p,J);}}catch(A){a.K("openPage",A),"function"===typeof a.aR&&(t=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs,t.exception=A,t.pageNumber=a.ba,a.aR("pageOpenFailed",
t))}};!0===f&&(k=setTimeout(function(){E=!0;g.abort()},a.iR()));g.send()};this.aCp=function(b){function c(){try{var b,f,e,g,l=b,m;if(4===w.readyState)if(b=w.status,200===w.status){!0===k&&t&&clearTimeout(t);try{var q;if("true"===w.getResponseHeader("Accusoft-Data-Encrypted")&&!0===a.ej()){var r=IPCC.Web.hA.qM.sJ(w.getResponseHeader("Accusoft-Data-SK")),u=IPCC.Web.EE(r,L),D=IPCC.Web.ED(w),E=IPCC.Web.BS(D,u,L);q=IPCC.Web.hA.Bs.lW(E)}else q=w.responseText;J(q)}catch(W){throw f="SVG image error, Error message = "+
W.message,m=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs,m.exception=W,m.pageNumber=a.ba,a.aR("pageOpenFailed",m),new IPCC.Web.UI.ImGearArgumentException(null,f);}}else if(200>b||300<=b){!0===k&&t&&clearTimeout(t);l=w.status;if(480===b)throw d++,f=w.statusText&&""!==w.statusText?f="PDF file password required, error message from the server: "+w.statusText:"PDF file password required.",new IPCC.Web.UI.ImGearHttpException(b,f);if(403===b)throw d++,f=w.statusText&&""!==w.statusText?"Expired viewer session ID, error message from the server: "+
w.statusText:"Expired viewer session ID. No error text message was received from the server:",new IPCC.Web.UI.ImGearHttpException(b,f);if(e=w.getResponseHeader("Accusoft-Status-Message")){var T;g=w.getResponseHeader("Accusoft-Status-Number");IPCC.Web.vq(g)&&(T=parseInt(g,10));throw new IPCC.Web.UI.ImGearHttpException(l,e,T);}if(y)throw new IPCC.Web.UI.ImGearHttpException(l,"Client SVG load timeout");f=w.statusText&&""!==w.statusText?w.statusText:"HTTP Error was received from the image server but the server did not provide any error description.";
throw new IPCC.Web.UI.ImGearHttpException(l,f);}}catch(W){a.K("openPage",W),"function"===typeof a.aR&&(m=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs,m.exception=W,m.pageNumber=a.ba,a.aR("pageOpenFailed",m))}}var d=0,f=b.oT.fm[0].tiles[0];if(f){var e=f.level.pool,g=document.getElementById(e.parentElementID),k=!0;0===a.iR()&&(k=!1);var E=a.Jy();if(b.IG)2===E?(delete b.IG,0<g.childNodes.length&&g.removeChild(g.childNodes[0])):1===E?0<g.childNodes.length&&g.removeChild(g.childNodes[0]):0===g.childNodes.length&&
g.appendChild(b.aqG),a.zk=!0;else if(!(0<E)){var w=new XMLHttpRequest,t,y=!1,D=function(){a.zk=!0;a.aR("pageDisplayed",{ag:a.ba})},J=function(c){var d=e.parentElementID.toString();c=c.replace(/href="#/g,'href="#'+d);c=c.replace(/="url\(#/g,'="url(#'+d);c=c.replace(/fill:url\(#/g,"fill:url(#"+d);c=c.replace(/ id="/g,' id="'+d);c=c.replace(/<use([^>]+)\/>/g," <use$1></use>");d=document.createElement("div");d.innerHTML=c;c=d.querySelectorAll("style");IPCC.bg.forEach(c,function(a){var b=a.styleSheet?
a.styleSheet.cssText:a.textContent;a.styleSheet?a.styleSheet.cssText=b:a.appendChild(document.createTextNode(b))});c=null;for(d=d.firstChild;null!==d;){if("svg"===d.nodeName){c=d;break}d=d.nextSibling}if(null===c)throw new IPCC.Web.UI.ImGearInvalidOperationException("Unable to process SVG image data.");b.IG||(b.aqG=c,g.appendChild(c),b.IG=!0,!a.zk&&b.IG&&setTimeout(D,1))},L;a.zk=!1;!0===a.ej()?(L=IPCC.Web.ot.VA(4,IPCC.Web.RR()),E=IPCC.Web.hA.Fd.lW(L),f=f.url+"&iv="+E):f=f.url;w.open("GET",f,!0);w.responseType=
"text";w.setRequestHeader("Content-Type",IPCC.bg.Mb);w.onreadystatechange=c;!0===k&&(t=setTimeout(function(){y=!0;w.abort()},a.iR()));w.send()}}};this.Yr=function(a,b){if(a){var c=document.getElementById(a.poolItem.elementID);this.kE(c,"x",a.x);this.kE(c,"y",a.y);this.kE(c,"width",a.right-a.x);this.kE(c,"height",a.bottom-a.y);this.kE(c,"opacity",b);this.kE(c,"display","block")}};this.YR=function(b,c,d){if(!1===a.te())for(d=0;d<b.length;d++)this.Yr(b[d],c)};return this};IPCC.ama.prototype=new IPCC.aW;
IPCC.bD.amD=function(){};IPCC.bD.EH=1;
IPCC.bD.amD.prototype={agk:function(a,b,d){this.V=a;this.am=a.bV();this.ar=b;this.cw=d.width;this.dr=d.height;this.Bc=d.he;this.aBv=d.hc;b.qt=this.bM("g");this.aD(b.qt,{"fill-opacity":1});b.HE.appendChild(b.qt)},aho:function(a){var b="",d,c=this;switch(a.G.get_type()){case IPCC.Web.UI.MarkType.Rectangle:a.ac=this.bM("rect");a.G.hX()&&255===a.G.get_opacity()&&(a.ac.addEventListener("mouseover",function(b){!1!==a.G.get_selected()||!a.ac||0!==b.which&&0!==b.buttons||(a.ac.style.opacity=127/255)},!1),
a.ac.addEventListener("mouseout",function(b){!a.ac||0!==b.which&&0!==b.buttons||(a.ac.style.opacity=a.G.get_opacity()/255)},!1));break;case IPCC.Web.UI.MarkType.HighlightText:b="highlighttextannotation-"+a.G.hD();a.ac=this.bM("g");a.eD=this.bM("g");a.ac.appendChild(a.eD);a.lH=this.bM("g");a.lH.setAttribute("data-pcc-mark",b);a.ac.appendChild(a.lH);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:b="texthyperlinkannotation-"+a.G.hD();a.ac=this.bM("g");a.ac.style.cursor=IPCC.ao.fp(IPCC.ao.Link);
a.eD=this.bM("g");a.ac.appendChild(a.eD);a.lH=this.bM("g");a.lH.style.opacity=IPCC.bD.aW.HK();a.lH.style.fill="blue";a.lH.setAttribute("data-pcc-mark",b);a.ac.appendChild(a.lH);a.jP=this.bM("g");a.jP.style.stroke="blue";a.jP.style.opacity=IPCC.bD.aW.xL(!1);a.jP.setAttribute("data-pcc-mark",b);a.ac.appendChild(a.jP);a.ac.addEventListener("mouseover",function(b){a.jP&&(a.jP.style.opacity=IPCC.bD.aW.xL(!0,a.G.get_selected()))},!1);a.ac.addEventListener("mouseout",function(b){a.jP&&(a.jP.style.opacity=
IPCC.bD.aW.xL(!1,a.G.get_selected()))},!1);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:b="documenthyperlink-"+a.G.hD();a.ac=this.bM("g");a.ac.style.cursor=IPCC.ao.fp(IPCC.ao.Link);a.C=this.bM("rect");a.C.style["fill-opacity"]=IPCC.bD.aW.HK();"Underline"!==a.G.yN?(a.C.style.stroke=a.G.hG,a.C.style["stroke-width"]=a.G.ep+"px",a.C.style["stroke-opacity"]=0===a.G.ep?0:a.G.oP/255,"Dashed"===a.G.yN&&(a.C.style["stroke-dasharray"]=a.G.zf.join(", ")),a.C.setAttribute("rx",a.G.Gx),a.C.setAttribute("ry",
a.G.Ep)):(a.kS=this.bM("line"),a.kS.style.stroke=a.G.hG,a.kS.style["stroke-opacity"]=a.G.oP/255,a.kS.style["stroke-width"]=a.G.ep+"px",a.ac.appendChild(a.kS));a.C.style.fill="transparent";a.C.setAttribute("data-pcc-mark",b);a.ac.appendChild(a.C);break;case IPCC.Web.UI.MarkType.RectangleRedaction:b="textmark-"+a.G.hD();a.ac=this.bM("g");a.gx=this.bM("rect");a.jw=this.bM("g");a.jw.setAttribute("data-pcc-mark",b);a.sZ=document.createTextNode("");if(8<document.documentMode){a.eT=this.bM("text");a.eT.setAttribute("data-pcc-mark",
b);a.eT.appendChild(a.sZ);a.Xt=0;a.Ae=this.bM("clipPath");a.DN=this.bM("rect");a.jw.appendChild(a.Ae);a.Ae.appendChild(a.DN);a.jw.appendChild(a.eT);a.KU="PCC"+IPCC.bD.EH;IPCC.bD.EH++;this.aD(a.Ae,{id:a.KU,clipPathUnits:"userSpaceOnUse"});d=a.G.get_rectangle();this.aD(a.DN,{x:0,y:0,width:d.width,height:d.height,"data-pcc-mark":b});var e=function(b){!1!==a.G.get_selected()||!a.gx||0!==b.which&&0!==b.buttons||!1!==c.V.mt()||(a.ac.style.opacity=.5,a.eT.style.opacity=0)};a.ac.addEventListener("mouseover",
function(a){e(a)},!1);a.jw.addEventListener("mouseover",function(a){e(a)},!1);a.ac.addEventListener("mouseout",function(b){!a.gx||0!==b.which&&0!==b.buttons||!1!==c.V.mt()||(a.ac.style.opacity=1,a.eT.style.opacity=1)},!1)}else a.cd=document.createElement("div"),this.aD(a.cd,{"data-pcc-mark":b}),a.cd.appendChild(a.sZ),a.Op=document.createElement("div"),this.aD(a.Op,{"data-pcc-mark":b}),a.Op.appendChild(a.cd),a.uI=document.createElement("body"),this.aD(a.uI,{xmlns:"http://www.w3.org/1999/xhtml",style:"margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;",
"data-pcc-mark":b}),a.uI.appendChild(a.Op),a.Es=this.bM("foreignObject"),a.Es.appendChild(a.uI),a.jw.appendChild(a.Es),a.uI.addEventListener("mouseover",function(b){!1!==a.G.get_selected()||!a.gx||0!==b.which&&0!==b.buttons||(a.gx.style.opacity=.5,a.cd.style.opacity=0)},!1),a.uI.addEventListener("mouseout",function(b){!a.gx||0!==b.which&&0!==b.buttons||!1!==c.V.mt()||(a.gx.style.opacity=1,a.cd.style.opacity=1)},!1);a.ac.appendChild(a.gx);break;case IPCC.Web.UI.MarkType.Ellipse:a.ac=this.bM("ellipse");
break;case IPCC.Web.UI.MarkType.Highlight:a.ac=this.bM("rect");break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:a.ac=this.bM("g");a.eD=a.ac;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:a.ac=this.bM("g");a.gi=this.bM("polyline");a.wi=this.bM("path");a.vI=this.bM("path");a.ac.appendChild(a.gi);a.ac.appendChild(a.wi);a.ac.appendChild(a.vI);a.gi.setAttribute("stroke-linejoin","miter");a.gi.setAttribute("stroke-linecap","butt");a.gi.setAttribute("stroke-miterlimit","4");
break;case IPCC.Web.UI.MarkType.Polygon:a.ac=this.bM("polygon");break;case IPCC.Web.UI.MarkType.Text:b="textmark-"+a.G.hD();a.ac=this.bM("g");a.qs=this.bM("polygon");a.gi=this.bM("path");a.ti=this.bM("path");a.jw=this.bM("g");a.ac.appendChild(a.qs);a.ac.appendChild(a.gi);a.ac.appendChild(a.ti);this.aD(a.qs,{style:"stroke:none;"});a.jw.setAttribute("data-pcc-mark",b);a.sZ=document.createTextNode("");8<document.documentMode?(a.eT=this.bM("text"),a.eT.setAttribute("data-pcc-mark",b),a.eT.appendChild(a.sZ),
a.Xt=0,a.Ae=this.bM("clipPath"),a.DN=this.bM("rect"),a.jw.appendChild(a.Ae),a.Ae.appendChild(a.DN),a.ahE=this.bM("g"),a.jw.appendChild(a.ahE),a.jw.appendChild(a.eT),a.KU="PCC"+IPCC.bD.EH,IPCC.bD.EH++,this.aD(a.Ae,{id:a.KU,clipPathUnits:"userSpaceOnUse"}),d=a.G.get_rectangle(),this.aD(a.DN,{x:0,y:0,width:d.width,height:d.height,"data-pcc-mark":b})):(a.cd=document.createElement("div"),a.cd.appendChild(a.sZ),a.uI=document.createElement("body"),this.aD(a.uI,{xmlns:"http://www.w3.org/1999/xhtml",style:"margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;",
"data-pcc-mark":b}),a.uI.appendChild(a.cd),a.Es=this.bM("foreignObject"),a.Es.appendChild(a.uI),a.jw.appendChild(a.Es));a.qs.setAttribute("data-pcc-mark",b);break;case IPCC.Web.UI.MarkType.Stamp:a.ac=this.bM("g");a.wK=this.bM("rect");a.wK.style="fill:rgba(255, 255, 255, 0);stroke:none;";a.gx=this.bM("rect");a.Je=this.WY(a);a.ac.appendChild(a.wK);a.ac.appendChild(a.gx);a.ac.appendChild(a.Je);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:a.ac=this.bM("g");
a.wK=this.bM("rect");a.wK.style="fill:rgba(255, 255, 255, 0);stroke:none;";a.gx=this.bM("rect");a.afl=this.asw(a);a.afl.setAttribute("data-pcc-mark","mark-"+a.G.hD());a.ac.appendChild(a.wK);a.ac.appendChild(a.gx);a.ac.appendChild(a.afl);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var f=a.G,b=f.fz(),g=b.width,k=b.height,b=f.get_pathWidth();d=f.get_pathHeight();var m=f.get_pathString(),f=IPCC.bg.yF.Path(m,{width:g,height:k,multiplier:100,thickness:f.get_lineWidth(),
color:f.get_lineColor()}),g=IPCC.bg.yF.SVG("0 0 "+b+" "+d,100),b=IPCC.bg.yF.Rect(b,d,"fill:rgba(255, 255, 255, 0);stroke:none;");g.appendChild(b);g.appendChild(f);a.ac=g;a.aAD=f;a.aed=b;break;case IPCC.Web.UI.MarkType.SignatureText:a.ac=this.bM("g");a.gx=this.bM("rect");a.gx.style="fill:rgba(255, 255, 255, 0);stroke:none;";a.Je=this.WY(a);a.ac.appendChild(a.gx);a.ac.appendChild(a.Je);a.G.gD=!1;break;case IPCC.Web.UI.MarkType.TextLine:a.ac=this.bM("g");a.gx=this.bM("rect");a.gx.style="fill:rgba(255, 255, 255, 0);stroke:none;";
a.Je=this.WY(a,{alignment:"start"});a.ac.appendChild(a.gx);a.ac.appendChild(a.Je);break;case IPCC.Web.UI.MarkType.Strikethrough:b="strikethroughannotation-"+a.G.hD(),a.ac=this.bM("g"),a.eD=this.bM("g"),a.ac.appendChild(a.eD),a.lH=this.bM("g"),a.lH.setAttribute("data-pcc-mark",b),a.ac.appendChild(a.lH),a.Ad=this.bM("g"),a.Ad.setAttribute("data-pcc-mark",b),a.ac.appendChild(a.Ad)}a.ac.ImGearMarkRelation=a;a.ac.setAttribute("data-pcc-mark","mark-"+a.G.hD());this.ar.qt.appendChild(a.ac);a.jw&&(a.jw.ImGearMarkRelation=
a,this.ar.qt.appendChild(a.jw));this.ME(a)},WY:function(a,b){b=b||{};b=b.alignment?b.alignment.toLowerCase():"middle";var d=a.G,c=d.bz;c||(c=d.dE[0])||(c=d.get_type()===IPCC.Web.UI.MarkType.Stamp?"APPROVED":"");var e=d.fz();a.eT=this.bM("text");a.KU="PCC"+IPCC.bD.EH;IPCC.bD.EH++;c=document.createTextNode(c);a.eT.setAttribute("font-size","22px");a.eT.setAttribute("text-anchor",b);d.get_type()===IPCC.Web.UI.MarkType.TextLine&&a.eT.setAttribute("style","white-space:pre;");"middle"===b?(a.eT.setAttribute("x",
e.x+e.width/2),a.eT.setAttribute("y",e.y+e.height/2)):"start"===b?(a.eT.setAttribute("x",e.x),a.eT.setAttribute("y",e.y+e.height/2)):"end"===b&&(a.eT.setAttribute("x",e.x+e.width),a.eT.setAttribute("y",e.y+e.height/2));a.eT.appendChild(c);return a.eT},asw:function(a){var b=a.G;a.gl=document.createElementNS("http://www.w3.org/2000/svg","svg");a.AL=document.createElementNS("http://www.w3.org/2000/svg","image");a.AL.setAttribute("id","childimg");a.AL.setAttributeNS("http://www.w3.org/1999/xlink","href",
b.get_image());a.gl.appendChild(a.AL);return a.gl},arT:function(a,b){var d=a.G,c=d.fz(),e=d.bz.trim().replace(/ {2,}/g," "),f,g,k,m=a.eT,q=[];f=m.childNodes.length;if(1<f){var n=m.parentNode,u=this.bM("text");u.setAttribute("data-pcc-mark",a.jw.getAttribute("data-pcc-mark"));n.replaceChild(u,m);a.eT=u;a.eT.appendChild(a.sZ);a.jw.appendChild(a.eT);m=a.eT}a=2;if(b)switch(b){case IPCC.Web.UI.HorizontalAlignment.Center:a=c.width/2;break;case IPCC.Web.UI.HorizontalAlignment.Right:a=c.width-8.4}b=this.Bc/
72*d.er;for(var n=c.height,u=f=0,r=e.split("\n"),l=0;l<r.length;l++){var C="",E=2;if(0<r[l].length){g=r[l].split(" ");k=g[0];e=this.bM("tspan");0<l&&(e.setAttributeNS(null,"x",a),e.setAttributeNS(null,"dy",b*(f+1)));f=window.document.createTextNode(g[0]);e.appendChild(f);m.appendChild(e);for(var w=1;w<g.length;w++){g[w].length>k.length&&(k=g[w]);f=e.firstChild.data.length;var t=g[w];0<g[w].length&&(e.firstChild.data=" "!==e.firstChild.data[e.firstChild.data.length-1]?e.firstChild.data+(" "+g[w]):
e.firstChild.data+g[w]);" "!==e.firstChild.data[e.firstChild.data.length-1]&&w!==g.length-1&&(e.firstChild.data+=" ",t+=" ");C+=t;try{e.getComputedTextLength()}catch(y){}d.er/2*e.firstChild.data.length>=c.width&&(E++,C="",e.firstChild.data=e.firstChild.data.slice(0,f),C+=t,1<C.length&&(" "!==e.firstChild.data[e.firstChild.data.length-1]&&(e.firstChild.data+=" ",f+=1),q.push({aV:u,agJ:e}),u+=f,e=this.bM("tspan"),e.setAttributeNS(null,"x",a),e.setAttributeNS(null,"dy",b),f=w===g.length-1?window.document.createTextNode(g[w]):
window.document.createTextNode(t),e.appendChild(f),m.appendChild(e)));f=b*E;if(f>=n)break}0<e.firstChild.data.length&&q.push({aV:u,agJ:e});u+=e.firstChild.data.length+1;f=0}else f++}return q},aDP:function(a,b,d,c){if(0<a.length){var e=b.getNumberOfChars();if(!(a[0].aV>c+e))for(var f=Math.max(a[0].aV-c,0);f<e;f++){var g=b.getExtentOfChar(f),k=this.bM("rect");this.aD(k,{x:g.x,y:g.y,width:g.width,height:g.height,fill:a[0].BG});d.appendChild(k);if(a[0].dh===f+c){a.shift();if(0===a.length)break;f=a[0].aV-
c-1}}}},mQ:function(a,b,d){var c="M",e;for(e=0;e<b.length;e++)0<e&&(c+=" L"),c+=b[e].x+","+b[e].y;d&&(c+="Z");this.aD(a,{d:c})},abO:function(a,b,d){var c="",e;for(e=0;e<b.length;e++)0<e&&(c+=" "),c+=b[e].x+","+b[e].y;d&&2<b.length&&(c+=" "+b[0].x+","+b[0].y);this.aD(a,{points:c})},GP:function(a,b,d,c,e,f,g){b=this.agf(a,b,d,c,e);d=""+("stroke:"+f+";");switch(e){case IPCC.Web.UI.LineHeadType.None:d="display:none;";break;case IPCC.Web.UI.LineHeadType.Pointer:this.mQ(g,[b.uQ,a,b.ug],!1);break;case IPCC.Web.UI.LineHeadType.Solid:this.mQ(g,
[b.uQ,a,b.ug],!0);d+="fill:"+f+";";break;case IPCC.Web.UI.LineHeadType.Open:this.mQ(g,[b.uQ,a,b.ug],!0);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.mQ(g,[b.uQ,a,b.ug,b.Ac],!0),d+="fill:"+f+";"}this.aD(g,{style:d});return b},YV:function(a){var b=a.G,d,c,e,f="";d=b.get_points();c=[];for(e=0;e<d.get_length();e++)c.push(d.getPoint(e));2>c.length||b.mn?(this.aD(a.wi,{style:"display:none;"}),this.aD(a.vI,{style:"display:none;"})):(b.tx=b.hG,e=this.Qr(c,!0),d=this.GP(e.et,e.iJ,b.BK,b.CY,b.Ei,b.tx,
a.wi),e=this.Qr(c,!1),e=this.GP(e.et,e.iJ,b.CW,b.DR,b.lM,b.tx,a.vI),c[0]=d.Ac,c[c.length-1]=e.Ac);this.abO(a.gi,c,b.mn);b=this.xT(b.fU);""!==b&&(f+="stroke-dasharray:"+b+";");this.aD(a.gi,{style:f})},Wl:function(a){var b=this.ahA(a);this.abO(a.qs,b.UT,!1);var d="",c="fill:none;",e="fill:none;";b.OB&&(d="stroke:none;");b.IY?this.mQ(a.gi,b.IY,!1):c+="display:none;";b.Ds?this.mQ(a.ti,b.Ds,!1):e+="display:none;";b=a.G;b.AH&&(e+="stroke:"+b.Ew+";stroke-width:"+b.De+";",b=this.xT(b.rI),""!==b&&(e+="stroke-dasharray:"+
b+";"));this.aD(a.gi,{style:c});this.aD(a.ti,{style:e});this.aD(a.qs,{style:d})},LO:function(a){var b=a.G,d;if(b){var c=b.fz(),e=b.er*this.Bc/72;b.mX=e;var f=c.width,g=c.height,k=!1,m,q=0,n=0,u=1;b.gD&&(u+=b.ep/2);switch(b.yz){case IPCC.Web.UI.Orientation.TopLeft:m="1,0,0,1";break;case IPCC.Web.UI.Orientation.TopRight:m="-1,0,0,1";q=f-u;break;case IPCC.Web.UI.Orientation.BottomRight:m="-1,0,0,-1";q=f-u;n=g-u;break;case IPCC.Web.UI.Orientation.BottomLeft:m="1,0,0,-1";n=g-u;break;case IPCC.Web.UI.Orientation.LeftTop:m=
"0,1,1,0";k=!0;break;case IPCC.Web.UI.Orientation.RightTop:m="0,1,-1,0";q=f-u;k=!0;break;case IPCC.Web.UI.Orientation.RightBottom:m="0,-1,-1,0";q=f-u;n=g-u;k=!0;break;case IPCC.Web.UI.Orientation.LeftBottom:m="0,-1,1,0",n=g-u,k=!0}"#c0c0c0"===b.da&&(b.da="#ffffff");b.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction&&(!0===b.hX()?b.da="#ffffff":b.set_opacity(b.cv));k&&(k=f,f=g,g=k);f-=2*u;g-=2*u;0>f&&(f=0);0>g&&(g=0);var r="normal",l="normal",C,E;C="word-wrap:break-word;background-color:transparent;line-height:1;";
var w=0;7===b.oR.length&&"#"===b.oR.charAt(0)&&(w=parseInt(b.oR.slice(1),16));k=Math.min(1,Math.max(0,b.tY/255));8<document.documentMode?(l="normal",b.eC&IPCC.Web.UI.FontStyle.Italic&&(l="italic"),r="normal",b.eC&IPCC.Web.UI.FontStyle.Bold&&(r="bold"),E="none",b.eC&IPCC.Web.UI.FontStyle.Underline&&b.eC&IPCC.Web.UI.FontStyle.Strikeout?E="underline line-through":b.eC&IPCC.Web.UI.FontStyle.Underline?E="underline":b.eC&IPCC.Web.UI.FontStyle.Strikeout&&(E="line-through")):(C=C+("color:rgba("+(w>>16)+","+
(w>>8&255)+","+(w&255)+","+k+");")+("font-family:"+b.hv+";"),C+="font-size:"+e+"px;",b.eC&IPCC.Web.UI.FontStyle.Italic&&(C+="font-style:italic;"),b.eC&IPCC.Web.UI.FontStyle.Bold&&(C+="font-weight:bold;"),b.eC&IPCC.Web.UI.FontStyle.Underline&&b.eC&IPCC.Web.UI.FontStyle.Strikeout?C+="text-decoration:underline line-through;":b.eC&IPCC.Web.UI.FontStyle.Underline?C+="text-decoration:underline;":b.eC&IPCC.Web.UI.FontStyle.Strikeout&&(C+="text-decoration:line-through;"));var t=2,y="start";switch(b.pz){case IPCC.Web.UI.HorizontalAlignment.Left:C+=
"text-align:left;";break;case IPCC.Web.UI.HorizontalAlignment.Center:C+="text-align:center;";t=c.width/2-3;y="middle";break;case IPCC.Web.UI.HorizontalAlignment.Right:C+="text-align:right;",t=c.width-8,y="end"}if("undefined"===typeof document.documentMode){switch(b.BV){case IPCC.Web.UI.VerticalAlignment.Center:b.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&(this.aD(a.Op,{style:"display:table; width: 100%;"}),C+="display: table-cell; white-space: normal; vertical-align: middle; height:"+g+
"px")}this.aD(a.cd,{style:C});this.aD(a.jw,{transform:"matrix("+m+","+(q+c.x+u)+","+(n+c.y+u)+")"});this.aD(a.Es,{x:0,y:0,width:f,height:g});this.aiL(a)}else{f=this.arT(a,b.pz);g=f.length;switch(b.BV){case IPCC.Web.UI.VerticalAlignment.Center:b.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&(d=c.height/2+b.er/4,1<g&&(d-=b.er/2*(g-1)),0>d&&(d=b.er))}this.aD(a.DN,{x:0,y:0,width:c.width-5,height:c.height-5});g="url(#"+a.KU+")";e={x:t,y:this.Bc/72*b.er,width:c.width,height:c.height,"font-family":b.hv,
"font-size":e,fill:"rgba("+(w>>16)+", "+(w>>8&255)+", "+(w&255)+", "+k+")","font-weight":r,"font-style":l,"text-decoration":E,"text-anchor":y};"undefined"!==typeof d&&(delete e.y,e.dy=d);this.aD(a.eT,e);a.eT.style.opacity=k;this.aD(a.jw,{transform:"matrix("+m+","+(q+c.x+u)+","+(n+c.y+u)+")","clip-path":g});for(a=a.ahE;a&&a.firstChild;)a.removeChild(a.firstChild);if(b.fo)for(b=this.acf(b.fo),d=0;d<f.length;d++)this.aDP(b,f[d].agJ,a,f[d].aV)}}},BQ:function(a){var b=a.G;if(null!==b.bj&&void 0!==b.bj&&
(0===b.bj.length&&0<b.dk&&this.V.cA().mF()&&(b.bj=IPCC.bg.OR(this.V.cA().eO(),b.aV,b.aV+b.dk-1)),!a.aV||!a.dk||a.aV!==b.aV||a.dk!==b.dk||!1===b.hh||!0===b.hh)){for(;a.lH.firstChild;)a.lH.removeChild(a.lH.firstChild);if(a.jP)for(;a.jP.firstChild;)a.jP.removeChild(a.jP.firstChild);if(a.Ad)for(;a.Ad.firstChild;)a.Ad.removeChild(a.Ad.firstChild);!1!==b.hh&&(IPCC.bg.forEach(a.G.bj,function(b){var c=this.bM("rect");a.lH.appendChild(c);this.aD(c,{x:b.x,y:b.y,width:b.width,height:b.height});if(a.jP){var e=
this.bM("line");this.aD(e,{x1:b.x,y1:b.y+b.height-1,x2:b.x+b.width,y2:b.y+b.height-1,"stroke-width":2});a.jP.appendChild(e)}a.Ad&&(c.setAttribute("fill","transparent"),c=this.bM("line"),e=b.y+b.height/2,this.aD(c,{x1:b.x,y1:e,x2:b.x+b.width,y2:e,stroke:a.G.hG,"stroke-width":a.G.ep}),a.Ad.appendChild(c))},this),a.aV=b.aV,a.dk=b.dk)}},ME:function(a){var b=a.G;if(b){var d=a.ac,c,e="",f=!0,g,k,m=!1;switch(b.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:m=!0;this.YV(a);
break;case IPCC.Web.UI.MarkType.Rectangle:c=b.get_rectangle();this.aD(d,{x:c.x,y:c.y,width:c.width,height:c.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.BQ(a);a.lH.style.fill=b.da;a.lH.style.opacity=b.cv/255;this.vQ(a);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.BQ(a);a.lH.style.fill=b.da;a.jP.style.stroke=b.da;a.G.get_selected();a.jP.style.opacity=IPCC.bD.aW.xL(!1,a.G.get_selected());this.vQ(a);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:c=b.get_rectangle();
this.aD(a.C,{x:c.x,y:c.y,width:c.width,height:c.height});a.kS&&this.aD(a.kS,{x1:c.x,y1:c.y+c.height,x2:c.x+c.width,y2:c.y+c.height});break;case IPCC.Web.UI.MarkType.RectangleRedaction:"undefined"!==typeof a.gx&&(!0===this.V.mt()?(a.gx.style.opacity=.5,"undefined"!==typeof a.cd?a.cd.style.opacity=0:a.eT.style.opacity=0):(a.gx.style.opacity=1,"undefined"!==typeof a.cd&&(a.cd.style.opacity=1)));c=b.get_rectangle();this.aD(d,{x:c.x,y:c.y,width:c.width,height:c.height});this.aD(a.gx,{x:c.x,y:c.y,width:c.width,
height:c.height});!1===this.V.mt()&&this.LO(a);break;case IPCC.Web.UI.MarkType.Ellipse:c=b.get_rectangle();this.aD(d,{cx:c.x+c.width/2,cy:c.y+c.height/2,rx:c.width/2,ry:c.height/2});break;case IPCC.Web.UI.MarkType.Polygon:c=this.KM(b);this.abO(d,c,!1);e+="fill-rule:evenodd;";break;case IPCC.Web.UI.MarkType.Text:this.Wl(a);this.LO(a);"undefined"===typeof document.documentMode&&(a.uI.style.cursor=IPCC.ao.fp(this.am.Gp()));break;case IPCC.Web.UI.MarkType.Stamp:c=b.get_rectangle();this.aD(d,{x:c.x,y:c.y,
width:c.width,height:c.height});this.aD(a.wK,{x:c.x,y:c.y,width:c.width,height:c.height,stroke:"none",fill:"rgba(255, 255, 255, 0)"});a.wK.style.opacity=1;this.aD(a.gx,{x:c.x,y:c.y,width:c.width,height:c.height,stroke:b.da,"stroke-width":"5",fill:"none",rx:10,ry:10});k=c.width/6;k>c.height&&(k=c.height-c.height/6);(g=a.G.get_text())||(g="APPROVED");a.eT.childNodes[0].data=g;g.length*k>c.width&&(k=c.width/g.length);g=Math.round(k);b.stampSize=g.toString();this.aD(a.eT,{x:c.x+c.width/2,y:c.y+(c.height/
2+k/3),"font-size":k,stroke:b.da,"font-family":"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:c=b.get_rectangle();this.aD(d,{x:c.x,y:c.y,width:c.width,height:c.height});this.aD(a.wK,{x:c.x,y:c.y,width:c.width,height:c.height,stroke:"none",fill:"rgba(255, 255, 255, 0)"});a.wK.style.opacity=1;this.aD(a.gx,{x:c.x,y:c.y,width:c.width,height:c.height,stroke:b.da,"stroke-width":"0",fill:"none"});a.AL.setAttribute("height",c.height);a.AL.setAttribute("width",
c.width);a.AL.setAttribute("x",c.x);a.AL.setAttribute("y",c.y);a.AL.setAttributeNS("http://www.w3.org/1999/xlink","href",b.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.vQ(a);break;case IPCC.Web.UI.MarkType.Highlight:c=b.get_rectangle();0===c.x&&0===c.y&&(k=this.V.cA().eO(),0<k.fj()&&(c=k.le(b.aV).ax),b.ly="y");this.aD(d,{x:c.x,y:c.y,width:c.width,height:c.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:c=b.get_rectangle();this.aD(d,
{x:c.x,y:c.y,width:c.width,height:c.height});c=a.aAD;!0===b.NH&&(b.NH=!1,c.setAttribute("d",b.get_pathString()),k=b.get_pathWidth(),g=b.get_pathHeight(),d.setAttribute("viewBox","0 0 "+k+" "+g),a.aed.setAttribute("width",k),a.aed.setAttribute("height",g));b.get_visible()?a.ac.style.display="block":a.ac.style.display="none";c.style.stroke=b.get_lineColor();c.style.strokeWidth=b.get_lineWidth()+"px";c.style.opacity=b.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:c=b.get_rectangle();
this.aD(d,{x:c.x,y:c.y,width:c.width,height:c.height});this.aD(a.gx,{x:c.x,y:c.y,width:c.width,height:c.height,stroke:"none",fill:"rgba(255, 255, 255, 0)"});a.gx.style.opacity=1;k=a.G.get_text()||"";a.eT.childNodes[0].data=k;k=12*c.width/(b.wo||1);g=12*c.height/(b.vt||1);g=Math.min(k,g);b.stampSize=Math.floor(g).toString();this.aD(a.eT,{x:c.x+c.width/2,y:c.y+(c.height/2+g/3),"font-size":g,stroke:"none",fill:b.get_fillColor(),"font-family":b.get_fontName()});b.get_visible()?a.ac.style.display="block":
a.ac.style.display="none";break;case IPCC.Web.UI.MarkType.TextLine:this.aD(d,{style:"fill:none;opacity:1;"+b.hh?"display:block;":"display:none;"});c=b.get_rectangle();this.aD(d,{x:c.x,y:c.y,width:c.width,height:c.height});e="stroke:"+(b.gD?"black":"none")+";stroke-width:1;";this.aD(a.gx,{x:c.x,y:c.y,width:c.width,height:c.height,stroke:b.gD?"black":"none",fill:"rgba(255, 255, 255, 0)",style:e});a.eT.style.opacity=1;g=a.G.get_text()||"";a.eT.childNodes[0].data=g;k=IPCC.bg.aem(g,b.get_fontName(),c.width,
c.height,{vR:"pre",ei:a.ac});g=k.fontSize;b.mX=g;b.stampSize=g;b.Js=!0;b.oQ=k;this.aD(a.eT,{x:c.x,y:c.y+(c.height/2+g/3),"font-size":g,stroke:"none",fill:b.get_textColor(),"font-family":b.get_fontName(),"white-space":"pre"});break;case IPCC.Web.UI.MarkType.Strikethrough:this.BQ(a);this.vQ(a);break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("type",b.get_type());}b.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&b.get_type()!==IPCC.Web.UI.MarkType.Freehand&&b.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&
b.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&b.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&b.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&b.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&b.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&(m?e+="fill:none;":(e=b.yB?e+("fill:"+b.da+";"):e+"fill:none;",f=b.gD,m=this.xT(b.fU),""!==m&&(e+="stroke-dasharray:"+m+";")),f?(e+="stroke:"+b.get_lineColor()+";",e+="stroke-width:"+b.ep+";"):e+="stroke:none;",e=b.get_type()===
IPCC.Web.UI.MarkType.SignatureText?e+"opacity:1;":e+("opacity:"+b.cv/255+";"),b.hh?a.jw&&(a.jw.style.display="block"):(e+="display:none;",a.jw&&(a.jw.style.display="none")),e+="cursor:"+IPCC.ao.fp(this.am.Gp())+";",this.aD(d,{style:e}));b.get_type()===IPCC.Web.UI.MarkType.Freehand&&(e=b.hh?e+"display:block;":e+"display:none;",e+="cursor:"+IPCC.ao.fp(this.am.Gp())+";",this.aD(d,{style:e}))}},vQ:function(a){var b=a.G,d=b.get_visible(),c=b.get_rectangle();if(0!==c.x||0!==c.y){for(a=a.eD;a.firstChild;)a.removeChild(a.firstChild);
for(var e,c=0;c<b.fo.length;c++)for(var f=0;f<b.fo[c].length;f++){var g=this.V.cA().eO();0<g.fj()&&(e=g.le(b.fo[c].startIndex+f).ax);g=this.bM("rect");this.aD(g,{x:e.x,y:e.y,width:e.width,height:e.height,fill:b.fo[c].color,display:d?"block":"none"});g.style.opacity=b.fo[c].opacity?b.fo[c].opacity/255:.5;a.appendChild(g)}}},xT:function(a){switch(a){case IPCC.Web.UI.LineStyle.Dash:return"7,7";case IPCC.Web.UI.LineStyle.Dot:return"1,7";case IPCC.Web.UI.LineStyle.DashDot:return"7,7,1,7";case IPCC.Web.UI.LineStyle.DashDotDot:return"7,7,1,7,1,7"}return""},
Hy:function(a){this.ar.qt.removeChild(a.ac);a.jw&&this.ar.qt.removeChild(a.jw);delete a.ac},abo:function(){},agS:function(){this.ar=void 0},bM:function(a){return document.createElementNS("http://www.w3.org/2000/svg",a)},aD:function(a,b){for(var d in b)if(b.hasOwnProperty(d)){var c=b[d];a.setAttribute(d,void 0!==c&&null!==c?c.toString():"")}}};IPCC.bD.vP={As:function(){var a=IPCC.bD.vP;null===a.wg&&(a.wg=!0);return a.wg},wg:null};IPCC.vP.As()?IPCC.bD.aW=IPCC.bD.amD:IPCC.bD.aW=IPCC.bD.HD;
IPCC.bD.aW.xL=function(a,b){return(b?127:a?127:63)/255};IPCC.bD.aW.HK=function(){return 39/255};IPCC.bD.aW.aEy=function(a){return a?"purple":"blue"};
IPCC.bD.aW.prototype.agf=function(a,b,d,c,e){e={et:a,iJ:b,vA:d,qg:c,sP:e};a.x===b.x&&a.y===b.y&&(e.sP=IPCC.Web.UI.LineHeadType.None);b=Math.atan2(a.x-b.x,-(a.y-b.y))+Math.PI/2;d*=Math.PI/180;var f=b+d;e.uQ={x:a.x+Math.cos(f)*c,y:a.y+Math.sin(f)*c};f=b-d;e.ug={x:a.x+Math.cos(f)*c,y:a.y+Math.sin(f)*c};switch(e.sP){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:e.Ac={x:(e.uQ.x+e.ug.x)/2,y:(e.uQ.y+e.ug.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:e.Ac={x:a.x+Math.cos(b)*
c/2,y:a.y+Math.sin(b)*c/2};break;default:e.Ac=a}return e};
IPCC.bD.aW.prototype.ahA=function(a){function b(a){var b,e;b=(c.x-(f[a].x+f[(a+1)%8].x)/2)*d.height;e=b*b;b=(c.y-(f[a].y+f[(a+1)%8].y)/2)*d.width;return e+b*b}a=a.G;var d=a.get_rectangle(),c={x:a.or.x+d.x+1E-5,y:a.or.y+d.y+1E-5},e={},f=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}];if(!a.zT)return e.UT=f,e.OB=!a.gD,e;var g,k=[];for(g=0;4>g;g++)k.push({x:(f[g].x+f[(g+3)%4].x)/2,y:(f[g].y+f[(g+3)%4].y)/2,azx:!0});for(g=3;0<=g;g--)f.splice(g,0,k[g]);var k=
0,m=b(0),q;for(g=1;8>g;g++)q=b(g),q<m&&(m=q,k=g);f=f.slice(k+1).concat(f.slice(0,k+1));k=f[0];m=f[7];for(g=f.length-1;0<=g;g--)f[g].azx&&f.splice(g,1);switch(a.HY){case IPCC.Web.UI.CalloutType.Triangle:f.splice(0,0,{x:(3*k.x+m.x)/4,y:(3*k.y+m.y)/4});f.push({x:(k.x+3*m.x)/4,y:(k.y+3*m.y)/4});a.AH&&(e.OB=!0,e.IY=[].concat(f),e.Ds=[f[0],c,f[f.length-1]]);f.push(c);break;default:case IPCC.Web.UI.CalloutType.Line:e.Ds=[{x:(k.x+m.x)/2,y:(k.y+m.y)/2},c]}e.UT=f;a.gD||(e.OB=!0,delete e.IY,delete e.Ds);return e};
IPCC.bD.aW.prototype.KM=function(a){a=a.get_points();var b=[],d;for(d=0;d<a.get_length();d++)b.push(a.getPoint(d));return b};IPCC.bD.aW.prototype.Qr=function(a,b){var d=0,c=1,e=a.length-2,f;b||(d=a.length-1,c=-1);b=a[d];d+=c;f=a[d];for(d+=c;b.x===f.x&&b.y===f.y&&0<e;)f=a[d],d+=c,e--;return{et:b,iJ:f}};
IPCC.bD.aW.prototype.aiM=function(a,b,d,c){b.nT||(b.nT=[]);var e=b.nT;if(1>d.length&&1>e.length)b.xV.firstChild&&(b.xV.innerHTML="");else{a=a.eA().AD();if(void 0===this.gW){this.gW=40;var f=document.createElement("div");f.className="pccMarkHandleTopLeft";f.visibility="hidden";document.body.appendChild(f);if(f.currentStyle)this.gW=parseInt(f.currentStyle.width,10)||0;else if(document.defaultView&&document.defaultView.getComputedStyle){var g=document.defaultView.getComputedStyle(f);this.gW=parseInt(g.width,
10)||0}document.body.removeChild(f)}g=[];for(f=0;f<d.length;f++)!0===d[f].get_visible()&&(0<=a.JL(d[f])||!0===d[f].get_selected()&&(!0===d[f].kZ||!0===d[f].lN)||!0===d[f].AG)&&g.push(d[f]);for(f=0;f<e.length;f++){for(;f<e.length&&(f>=g.length||e[f].G!==g[f]);)b.xV.removeChild(e[f].je),e.splice(f,1);f<e.length&&this.ail(e[f],c)}for(f=e.length;f<g.length;f++)e[f]={G:g[f]},this.asG(b.xV,e[f]),this.ail(e[f],c)}};
IPCC.bD.aW.prototype.wH=function(a,b,d,c,e,f,g){d=[];var k,m;void 0===g&&(g="handle");for(k=0;k<b;k++)m={ac:document.createElement("div")},m.ac.ImGearMarkHandle=m,m.df=f,m.bk=c,m.bw=e+k,a.appendChild(m.ac),m.ac.setAttribute("data-pcc-mark",g+"-"+a.ImGearMarkRelation.G.hD()),d.push(m);return d};IPCC.bD.aW.prototype.anI=function(a){if(void 0!==a.dB){var b;for(b=0;b<a.dB.length;b++){var d=a.dB[b];d.ac.style.cursor=IPCC.ao.fp(d.df)}}};
IPCC.bD.aW.prototype.asG=function(a,b){b.je=document.createElement("div");b.je.style.width="0px";b.je.style.height="0px";b.je.style.left="0px";b.je.style.top="0px";b.je.style.zIndex="1";var d,c=b.G,e;b.je.ImGearMarkRelation=b;switch(c.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:b.dB=this.wH(b.je,2,this.gW,this.Jn,0,IPCC.ao.Move);b.dB=b.dB.concat(this.wH(b.je,2,this.gW,this.Jk,0,IPCC.ao.Move));break;case IPCC.Web.UI.MarkType.Polygon:b.dB=[];break;case IPCC.Web.UI.MarkType.Freehand:b.dB=
[];b.iK=document.createElement("div");b.iK.style.border="1px solid gray";b.iK.style.position="absolute";b.je.appendChild(b.iK);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(c.get_type()===
IPCC.Web.UI.MarkType.RectangleRedaction&&void 0!==c.bx)break;b.iK=document.createElement("div");b.iK.style.border="1px solid gray";b.iK.style.position="absolute";b.je.appendChild(b.iK);b.dB=this.wH(b.je,4,this.gW,this.YM,0,-1);b.dB=b.dB.concat(this.wH(b.je,4,this.gW,this.YO,0,-1));for(d=4;8>d;d++)e=b.dB[d],e.aqu=b.dB[d-4],e.aqs=b.dB[(d+1)%4];c.get_type()===IPCC.Web.UI.MarkType.Text&&(b.dB=b.dB.concat(this.wH(b.je,1,this.gW,this.WZ,0,IPCC.ao.Move)));break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:b.dB=
this.wH(b.je,1,this.gW,this.Jn,0,IPCC.ao.Move,"texthandlestart"),b.dB=b.dB.concat(this.wH(b.je,1,this.gW,this.Jn,1,IPCC.ao.Move,"texthandleend"))}if(c.jJ()===IPCC.Web.UI.MarkType.Text||c.jJ()===IPCC.Web.UI.MarkType.TextLine)d=document.createElement("div"),d.className="pccEditMarkButton",d.setAttribute("data-pcc-mark","edit-"+c.hD()),d.onclick=function(a){a=a||{};a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;a.preventDefault?a.preventDefault():a.returnValue=!1;for(var d,e=b.je;e&&(e.parentNode||
e.ownerSVGElement);)e.parentNode.id&&-1!==e.parentNode.id.indexOf("__pViewId")&&(d=e.parentNode),e=e.ownerSVGElement||e.parentNode;d&&d.ak.axH(a,c)},b.je.appendChild(d),b.dB.push({ac:d});a.appendChild(b.je)};IPCC.bD.aW.jV={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};IPCC.bD.aW.prototype.YM=0;IPCC.bD.aW.prototype.YO=1;IPCC.bD.aW.prototype.Jk=2;IPCC.bD.aW.prototype.Jn=3;
IPCC.bD.aW.prototype.WZ=4;
IPCC.bD.aW.prototype.acE=function(a,b){switch(b){case IPCC.bD.aW.jV.TopLeft:a.ac.className="pccMarkHandleTopLeft";break;case IPCC.bD.aW.jV.TopCenter:a.ac.className="pccMarkHandleTopCenter";break;case IPCC.bD.aW.jV.TopRight:a.ac.className="pccMarkHandleTopRight";break;case IPCC.bD.aW.jV.MidLeft:a.ac.className="pccMarkHandleMidLeft";break;case IPCC.bD.aW.jV.MidRight:a.ac.className="pccMarkHandleMidRight";break;case IPCC.bD.aW.jV.BottomLeft:a.ac.className="pccMarkHandleBottomLeft";break;case IPCC.bD.aW.jV.BottomCenter:a.ac.className=
"pccMarkHandleBottomCenter";break;case IPCC.bD.aW.jV.BottomRight:a.ac.className="pccMarkHandleBottomRight";break;case IPCC.bD.aW.jV.Point:a.ac.className="pccMarkHandlePoint";break;case IPCC.bD.aW.jV.TextSelectionStart:a.ac.className="pccMarkHandleTextSelectionStart";break;case IPCC.bD.aW.jV.TextSelectionEnd:a.ac.className="pccMarkHandleTextSelectionEnd";break;default:a.ac.className="pccMarkHandlePoint"}};
IPCC.bD.aW.prototype.Cc=function(a,b,d,c,e){a.aq=d.transform(b);a.ac.style.left=a.aq.x-c/2+"px";a.ac.style.top=a.aq.y-c/2+"px";a.ac.style.display="block";a.ac.style.zIndex="1";this.acE(a,e)};IPCC.bD.aW.prototype.aav=function(a,b,d){a.ac.style.left=a.aq.x-b/2+"px";a.ac.style.top=a.aq.y-b/2+"px";a.ac.style.display="block";a.ac.style.zIndex="1";this.acE(a,d)};IPCC.bD.aW.prototype.va=function(a){a.ac.style.display="none"};
IPCC.bD.aW.prototype.ail=function(a,b){var d,c,e,f,g,k;a.je.style.cursor=IPCC.ao.fp(this.am.Gp());var m,q=a.G,n=a.dB,u,r,l,C;switch(q.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:r=this.KM(q);m=r.length+2-n.length;0<m&&(a.dB=a.dB.concat(this.wH(a.je,m,this.gW,this.Jk,n.length-2,IPCC.ao.Move)),n=a.dB);for(m=0;m<r.length;m++)this.Cc(n[m+2],r[m],b,this.gW,IPCC.bD.aW.jV.Point);for(m=r.length+2;m<n.length;m++)this.va(n[m+2]);break;case IPCC.Web.UI.MarkType.Polygon:r=this.KM(q);
m=r.length-n.length;0<m&&(a.dB=a.dB.concat(this.wH(a.je,m,this.gW,this.Jk,n.length,IPCC.ao.Move)),n=a.dB);for(m=0;m<r.length;m++)this.Cc(n[m],r[m],b,this.gW,IPCC.bD.aW.jV.Point);for(m=r.length;m<n.length;m++)this.va(n[m]);break;case IPCC.Web.UI.MarkType.Freehand:r=q.fz();k=b.transform({x:r.x,y:r.y});c=b.transform({x:r.x+r.width,y:r.y+r.height});e=Math.min(k.x,c.x);f=Math.min(k.y,c.y);g=Math.max(k.x,c.x)-e;k=Math.max(k.y,c.y)-f;a.iK.style.left=e+"px";a.iK.style.top=f+"px";a.iK.style.width=g+"px";a.iK.style.height=
k+"px";a.iK.setAttribute("data-pcc-mark","outline-"+q.hD());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(q.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&
void 0!==q.bx)break;r=q.fz();n[0].aq=b.transform({x:r.x,y:r.y});n[1].aq=b.transform({x:r.x+r.width,y:r.y});n[2].aq=b.transform({x:r.x+r.width,y:r.y+r.height});n[3].aq=b.transform({x:r.x,y:r.y+r.height});e=Math.min(n[0].aq.x,n[2].aq.x);f=Math.min(n[0].aq.y,n[2].aq.y);g=Math.max(n[0].aq.x,n[2].aq.x)-e;k=Math.max(n[0].aq.y,n[2].aq.y)-f;d=e+g/2;c=f+k/2;for(m=0;4>m;m++)switch(u=n[m],l=u.aq.x<d?u.aq.y<c?0:2:u.aq.y<c?1:3,this.aav(u,this.gW,l),l){case 0:u.df=IPCC.ao.ResizeNW;break;case 1:u.df=IPCC.ao.ResizeNE;
break;case 2:u.df=IPCC.ao.ResizeSW;break;case 3:u.df=IPCC.ao.ResizeSE}a.iK.style.left=e+"px";a.iK.style.top=f+"px";a.iK.style.width=g+"px";a.iK.style.height=k+"px";a.iK.setAttribute("data-pcc-mark","outline-"+q.hD());d=e+g/4;e+=3*g/4;g=f+k/4;f+=3*k/4;this.am.AX()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose&&(k=n[0].aq,c=n[1].aq,m=n[2].aq,l=k.x-c.x,C=c.y-m.y,Math.min(l*l,C*C)<this.gW*this.gW*5&&(this.va(n[0]),this.va(n[1]),this.va(n[2]),this.va(n[3])));for(m=4;8>m;m++)u=n[m],k=u.aqu.aq,
c=u.aqs.aq,l=k.x-c.x,C=k.y-c.y,l=l*l+C*C,this.am.AX()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&l<this.gW*this.gW*5?this.va(u):(u.aq={x:(k.x+c.x)/2,y:(k.y+c.y)/2},this.aav(u,this.gW,m),u.aq.x<d?u.df=IPCC.ao.ResizeW:u.aq.x>e?u.df=IPCC.ao.ResizeE:u.aq.y<g?u.df=IPCC.ao.ResizeN:u.aq.y>f&&(u.df=IPCC.ao.ResizeS));q.get_type()===IPCC.Web.UI.MarkType.Text&&(q.zT?this.Cc(n[8],{x:r.x+q.or.x,y:r.y+q.or.y},b,this.gW,IPCC.bD.aW.jV.Callout):this.va(n[8]));break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;
case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:m=this.V.cA().eO();if(!0===q.kZ){r=q.aV;if(r>=m.fj()){r=m.le(m.fj()-1);r=r.wM();this.Cc(n[0],new IPCC.Web.UI.Point(r.x+r.width,r.y),b,this.gW,IPCC.bD.aW.jV.TextSelectionStart);break}r=m.le(q.aV);r=r.wM();this.Cc(n[0],new IPCC.Web.UI.Point(r.x,r.y),b,this.gW,IPCC.bD.aW.jV.TextSelectionStart)}else this.va(n[0]);!0===q.lN?(r=
q.aV+q.dk-1,0>r?(r=m.le(0),r=r.wM(),this.Cc(n[1],new IPCC.Web.UI.Point(r.x,r.y+r.height),b,this.gW,IPCC.bD.aW.jV.TextSelectionEnd)):(r=m.le(r),r=r.wM(),this.Cc(n[1],new IPCC.Web.UI.Point(r.x+r.width,r.y+r.height),b,this.gW,IPCC.bD.aW.jV.TextSelectionEnd))):this.va(n[1])}if(q.get_type()===IPCC.Web.UI.MarkType.Text||q.get_type()===IPCC.Web.UI.MarkType.TextLine)b=n[n.length-1],b.ac.className.match(/pcc/)&&(q=a.iK.clientHeight,n=a.iK.clientWidth,m=a.iK.offsetTop,r=a.iK.offsetLeft,u=b.ac.clientHeight,
d=b.ac.clientWidth,b.ac.style.position="absolute",b.ac.style.zIndex="2",b.ac.style.top=q>u+10&&n>d+10?(q-u)/2+m+"px":q+m+10+"px",b.ac.style.left=(n-d)/2+r+"px");this.anI(a)};IPCC.bD.aW.prototype.acf=function(a,b){a=IPCC.bg.aaw(a,b||"#ffffff");return IPCC.bg.map(a,function(a){return{aV:a.startIndex,dh:a.endIndex,BG:a.color}})};
IPCC.bD.aW.prototype.aiL=function(a){var b=a.G;if(b.fo){for(var d=this.acf(b.fo),b=b.bz,c="",e=d.length-1;0<=e;e--)var f=d[e],g=f.aV,k=f.dh,f=f.BG,m=IPCC.bg.Hw(b.substr(g,k-g+1)),k=IPCC.bg.Hw(b.substr(k+1,b.length-k+1)),b=b.substr(0,g),c="<span style='background-color:"+f+";'>"+m+"</span>"+k+c;c=IPCC.bg.Hw(b)+c;c=c.replace(/\n/g,"<br/>");a.cd.innerHTML=c}else a.sZ.data=b.bz};
IPCC.Web.UI.ImGearDocumentHyperlink=function(a){var b=0,d=0,c=0,e=0,f=a.href||"",g=a.borderStyle||"Solid",k=a.borderThickness||0,m=a.borderPattern||[1],q=a.borderHorizontalRadius||0,n=a.borderHorizontalRadius||0,u=a.borderColor||"#0000FF",r=a.borderOpacity||255,l,C;"string"===typeof r&&(r=parseInt(r,10));a.rectangle&&(b=a.rectangle.x,d=a.rectangle.y,c=a.rectangle.width,e=a.rectangle.height);l=new IPCC.Web.UI.Rectangle(b,d,c,e);this.fz=function(){return new IPCC.Web.UI.Rectangle(l.x,l.y,l.width,l.height)};
this.EV=function(a){l.x=a.x;l.y=a.y;l.width=a.width;l.height=a.height};this.ael=function(){return f};this.asu=function(){return g};this.asI=function(){return k};this.ary=function(){return m};this.asK=function(){return q};this.arM=function(){return n};this.arP=function(){return u};this.atl=function(){return r};this.Nh=function(){return C};this.anM=function(a){C=a}};
IPCC.Web.UI.ImGearTextCharacter=function(a,b,d,c,e,f){this.ax=new IPCC.Web.UI.Rectangle(a,b,d,c);this.ko=e;this.Hd=f;this.asH=function(){return e};this.wM=function(){return new IPCC.Web.UI.Rectangle(this.ax.x,this.ax.y,this.ax.width,this.ax.height)};this.aFB=function(){return this.Hd}};
IPCC.Web.UI.ImGearTextCharacterCollection=function(){function a(a){if(a>b.length-1||0>a)throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("index",a);}var b=[];this.awW=function(a){b.push(new IPCC.Web.UI.ImGearTextCharacter(a.ax.x,a.ax.y,a.ax.width,a.ax.height,a.ko,a.Hd))};this.aDx=function(a){a.forEach(function(a){b.push(a)},{})};this.aDZ=function(a,c){var e,f=b.length;if(a>b.length||0>a)throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("index",a,"index of theText Character Collection is out of range");
for(e=0;e<f;e++)if(b[e]===c)throw new IPCC.Web.UI.ImGearInvalidOperationException("You cannot duplicate same bz Character instance in a nb collection).");b.splice(a,0,c)};this.azo=function(a,c){IPCC.bg.forEach(b,function(b){b.ax.width*=a;b.ax.height*=c;b.ax.x*=a;b.ax.y*=c})};this.mf=function(a,c){var e=[].concat(b),f;for(f=0;f<e.length;f++)a.call(c,new IPCC.Web.UI.ImGearTextCharacter(e[f].x,e[f].y),f,this)};this.le=function(d){a(d);d=b[d];return new IPCC.Web.UI.ImGearTextCharacter(d.ax.x,d.ax.y,d.ax.width,
d.ax.height,d.ko,d.Hd)};this.aFj=function(d,c){a(d);var e=b[d];if(e.ax.x!==c.ax.x||e.ax.y!==c.y||e.ax.width!==c.ax.width||e.ax.height!==c.ax.height||e.ko!==c.ko||e.Hd!==c.Hd)b[d]=c};this.fj=function(){return b.length};this.aGa=function(d){a(d);b.splice(d,1)};this.aFL=function(){1>b.length||(b=[])};return this};
IPCC.Web.UI.ImGearHyperlinkCollection=function(){var a=[];this.awl=function(b){a.push(b)};this.ck=function(){return a.length};this.mf=function(b,d){IPCC.bg.forEach(a,b,d)};this.azA=function(){1>a.length||(a=[])};return this};IPCC.Web.UI.ImGearHyperlinkPage=function(){var a=new IPCC.Web.UI.ImGearHyperlinkCollection;this.Kw=function(){return a}};
IPCC.Web.UI.ImGearTextPage=function(){var a=new IPCC.Web.UI.ImGearTextCharacterCollection,b=!1,d=!1,c="",e=new IPCC.Web.UI.ImGearTextSectionCollection;this.eO=function(){return a};this.mF=function(){return b};this.Oj=function(a){d=!0;a===b||!0!==a&&!1!==a||(b=a)};this.za=function(){return d};this.FU=function(){return c};this.azL=function(a){a!==c&&(c=a)};this.Wt=function(){return e}};
IPCC.Web.UI.ImGearTextSection=function(){var a=null,b=0,d=0;this.fz=function(){return a};this.EV=function(b){a=b};this.afk=function(){return b};this.anJ=function(a){b=a};this.aeD=function(){return d};this.aAm=function(a){d=a}};IPCC.Web.UI.ImGearTextSectionCollection=function(){var a=[];this.anb=function(b){a.push(b)};this.asz=function(b){if(b>a.length-1||0>b)throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("index",b);return a[b]};this.fj=function(){return a.length};return this};IPCC.Type.registerNamespace("IPCC.Web.UI");
IPCC.Web.UI.ImGearThumbnailLayout=function(){};IPCC.Web.UI.ImGearThumbnailLayout.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearThumbnailLayout.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};IPCC.Web.UI.ImGearThumbnailLayout.registerEnum("IPCC.Web.UI.ImGearThumbnailLayout",!1);IPCC.Web.UI.ImGearThumbnailSelectionMode=function(){};IPCC.Web.UI.ImGearThumbnailSelectionMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearThumbnailSelectionMode.prototype={Single:1,Multiple:2};
IPCC.Web.UI.ImGearThumbnailSelectionMode.registerEnum("IPCC.Web.UI.ImGearThumbnailSelectionMode",!1);IPCC.Web.UI.ImGearPageCountStatus=function(){};IPCC.Web.UI.ImGearPageCountStatus.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearPageCountStatus.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};IPCC.Web.UI.ImGearPageCountStatus.registerEnum("IPCC.Web.UI.ImGearPageCountStatus",!1);IPCC.Web.UI.ImGearPageCreateArgs=function(){};IPCC.Web.UI.ImGearPageCreateArgs.registerClass=IPCC.Web.regClass;
IPCC.Web.UI.ImGearPageCreateArgs.prototype={};IPCC.Web.UI.ImGearPageCreateArgs.registerClass("IPCC.Web.UI.ImGearPageCreateArgs");
IPCC.Web.UI.ImGearPage=function(a){function b(){var a=C.Kw(),b=c/y,d=g/D;a.mf(function(a){a.EV(a.fz().scale(b,d));a=a.Nh();a.set_rectangle(a.get_rectangle().scale(b,d))})}this.bP=void 0;var d=0,c=0,e=0,f=0,g=0,k=0,m=0,q="",n=!1,u=this,r=new IPCC.Web.UI.gR;this.aGl=this.gX=void 0;this.fP={vh:0,apJ:!1,tu:1E3,Xm:!1};var l=new IPCC.Web.UI.ImGearTextPage,C=new IPCC.Web.UI.ImGearHyperlinkPage,E=0,w=!1,t=!1,y=0,D=0;if(void 0!==a.pageNumber){if(isNaN(a.pageNumber-0))throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber",
"","The value must be a number.");d=a.pageNumber}void 0!==a.caption&&(IPCC.aJ.bk(a.caption,"caption","string"),q=a.caption);void 0!==a.selected&&(n=a.selected);this.mc=function(){return d};this.aEk=function(b){isNaN(a.pageNumber-0)||(d=b)};this.mw=function(){return c};this.JH=function(a){c=a;t&&c&&c!==y&&g&&g!==D&&(l.eO().azo(c/y,g/D),b(),t=!1)};this.mr=function(){return g};this.GU=function(a){g=a;t&&c&&c!==y&&g&&g!==D&&(l.eO().azo(c/y,g/D),b(),t=!1)};this.aEs=function(){return e};this.arj=function(a){e=
a};this.aDU=function(){return k};this.aqf=function(a){k=a};this.aDj=function(){return f};this.aEv=function(a){f=a};this.aDX=function(){return m};this.aDg=function(a){m=a};this.LU=function(){return n};this.Ph=function(a){n!==a&&(n=a,this.bm("selected"))};this.Ve=function(){return q};this.XR=function(a){IPCC.aJ.jf(a,"caption");q=a;this.bm("caption")};this.auN=function(){return this.bP};this.cA=function(){return l};this.iR=function(){return E};this.sg=function(a){E===a||isNaN(a)||(E=a,this.bm("serviceResponseTimeout"))};
this.ej=function(){return w};this.jF=function(a){w=a};this.ix=function(a){r.addHandler("propertyChanged",a)};this.mP=function(a){r.removeHandler("propertyChanged",a)};this.wn=function(a){r.addHandler("textPageReady",a)};this.xH=function(a){r.removeHandler("textPageReady",a)};this.afy=function(){return C};this.abK=function(a){r.addHandler("hyperlinkPageReady",a)};this.acv=function(a){r.removeHandler("hyperlinkPageReady",a)};this.zS=function(a){r.dv("textExtractionFailed",a)};this.En=function(a){r.cX("textExtractionFailed",
a)};this.aix=function(a){0===c&&0===g&&(t=!0,y=a.width,D=a.height)};this.aeW=function(a){if(!(0<l.eO().fj()))if("1"===a.errorCode||1===a.errorCode){a=new IPCC.Web.UI.ImGearException(a.errorDescription,{name:"Text Extraction"});var b=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs;b.exception=a;b.pageNumber=u.get_pageNumber();u.aR("textExtractionFailed",b)}else{var b=l.eO(),d,f,e=1,k=1;a.height&&0<a.height&&0<g&&a.height!==g&&(e=g/a.height);a.width&&0<a.width&&0<c&&a.width!==c&&(k=c/a.width);for(var n,
m=-1,q,r,A=0;A<a.rectangles.length;A++)q=a.rectangles[A],r=a.text[A],d=!1,0===q[2]&&(r="\n",d=!0,0<A&&(f=a.rectangles[A-1],q[2]=f[2])),d=1===k&&1===e?new IPCC.Web.UI.ImGearTextCharacter(q[0],q[1],q[2],q[3],r,d):new IPCC.Web.UI.ImGearTextCharacter(q[0]*k,q[1]*e,q[2]*k,q[3]*e,r,d),b.awW(d),void 0===n||m!==q[1]||q[0]<n.fz().x?(n&&l.Wt().anb(n),n=new IPCC.Web.UI.ImGearTextSection,n.EV(new IPCC.Web.UI.Rectangle(q[0],q[1],q[2],q[3])),n.anJ(A)):q[0]+q[2]-n.fz().x>n.fz().width&&(n.fz().width=q[0]+q[2]-n.fz().x),
n.aAm(A),m=q[1];n&&l.Wt().anb(n);l.azL(a.text);0<a.text.length?(l.Oj(!0),u.aR("textPageReady",{pageNumber:u.mc(),containsText:!0})):(l.Oj(!1),u.aR("textPageReady",{pageNumber:u.mc(),containsText:!1}))}};this.agh=function(a,b,d){if(a){C.Kw().azA();var f=1,e=1;b&&0<b&&0<g&&b!==g&&(f=g/b);d&&0<d&&0<c&&d!==c&&(e=c/d);IPCC.bg.forEach(a,function(a){switch(a.markType){case "DocumentHyperlink":a=new IPCC.Web.UI.ImGearDocumentHyperlink(a.properties),a.EV(a.fz().scale(e,f)),C.Kw().awl(a)}});u.aR("hyperlinkPageReady",
{pageNumber:u.mc()})}};this.arH=function(){u.Bi()};this.Bi=function(){function a(b){if(b.pages){var c;if(0<b.pages.length){if(b.pages[0].number!==u.mc()){for(var d=0;d<b.pages.length;d++)if(b.pages[d].number===u.mc()){c=d;break}if(!c){u.fP.Xm=!1;return}}else c=0;var f=b.pages[c];u.fP.Xm=!0;b.pages[c].text&&0<b.pages[c].text.length?l.Oj(!0):l.Oj(!1);u.fP.tu=1E3;setTimeout(function(){u.aix(f);u.aeW(f);u.agh(f.markup,f.height,f.width)},10);return}}b=u.fP.tu;u.fP.Xm||(6>u.fP.vh?(b=2>u.fP.vh?b+1E3:b+3E3,
u.fP.vh++,u.fP.tu=b,setTimeout(u.arH,b)):u.fP.apJ=!0)}function b(){var g=u.bP.gN;try{var k,l;if(0===d.readyState||4===d.readyState)if(k=d.status,200===d.status){!0===c&&f&&clearTimeout(f);l=null;var n;if("true"===d.getResponseHeader("Accusoft-Data-Encrypted")){var m=IPCC.Web.hA.qM.sJ(d.getResponseHeader("Accusoft-Data-SK")),q=IPCC.Web.EE(m,g),r=IPCC.Web.ED(d),x=IPCC.Web.BS(r,q,g);n=IPCC.Web.hA.Bs.lW(x)}else n=d.responseText;l="undefined"!==typeof JSON?JSON.parse(n):IPCC.bY.pk(n);a(l)}else if(200>
k||300<=k){!0===c&&f&&clearTimeout(f);if(e)throw new IPCC.Web.UI.ImGearHttpException(k,"Text extraction timeout");if(d.statusText)throw new IPCC.Web.UI.ImGearHttpException(k,"Unable to obtain text, Error from the service = "+d.statusText);throw new IPCC.Web.UI.ImGearHttpException(k,"Unable to obtain text from the service");}}catch(C){g=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs,g.exception=C,g.pageNumber=u.get_pageNumber(),u.aR("textExtractionFailed",g)}}if(!u.bP)throw new IPCC.Web.UI.ImGearInvalidOperationException("You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.");
if(!l.za()){var c=!0;0===u.iR()&&(c=!1);var d,f,e=!1;window.XMLHttpRequest&&(d=new XMLHttpRequest);var g=u.get_pageNumber(),k=u.bP.get_documentIdentifier(),k=/^[\x00-\x7F]*$/.test(k)?"u"+encodeURIComponent(k):"e"+u.bP.get_encodedDocumentIdentifier(),n=u.bP.nD,m=u.bP.nS;u.ej()?d.open("GET",n+"/Document/q/"+g.toString()+"-"+g.toString()+"/Text?DocumentID="+k+"&iv="+m,!0):d.open("GET",n+"/Document/q/"+g.toString()+"-"+g.toString()+"/Text?DocumentID="+k,!0);d.responseType="text";d.setRequestHeader("accept",
"application/json");d.onreadystatechange=b;!0===c&&(f=setTimeout(function(){e=!0;d.abort()},u.iR()));d.send()}};this.cA=function(){return l};this.apr=function(a){"function"===typeof a.mF&&(l=a)};this.Xr=function(a,b){if(0<this.mw()||0<this.mr())a(this.mw(),this.mr());else{var c=IPCC.gE.sH(this.bP.get_documentIdentifier());c&&""!==c||b("Invalid encoded Identifier");var d=new XMLHttpRequest,f,e="";IPCC.vP.As()||(e="&ContentType=png");c=/^[\x00-\x7F]*$/.test(c)?this.bP.nD+"/Page/q/"+this.get_pageNumber()+
"/Attributes?DocumentID=u"+encodeURIComponent(this.bP.get_documentIdentifier())+e:this.bP.nD+"/Page/q/"+this.get_pageNumber()+"/Attributes?DocumentID=e"+c+e;d.open("GET",c,!0);d.setRequestHeader("Content-Type","application/json");d.onreadystatechange=function(){if(4===d.readyState){var c=d.status;200===c?(f="undefined"!==typeof JSON?JSON.parse(d.responseText):IPCC.bY.pk(d.responseText),f.imageWidth&&f.imageHeight?a(f.imageWidth,f.imageHeight):b("Unable to obtain document information from the server")):
(200>c||300<=c)&&b("Unable to obtain document information from the server")}};d.send()}};this.bm=function(a){var b=r.getHandler("propertyChanged");b&&b(this,new IPCC.qY(a))};this.aR=function(a,b){a=r.getHandler(a);if(null!==a)try{a(u,b)}catch(c){IPCC.fF.PW("event raise, ImGearPage, error: "+c.message)}};return this};
IPCC.Web.UI.ImGearPage.prototype={get_pageNumber:function(){return this.mc()},get_pageWidth:function(){return this.mw()},get_pageHeight:function(){return this.mr()},get_textPage:function(){return this.cA()},get_selected:function(){return this.LU()},set_selected:function(a){this.Ph(a)},get_caption:function(){return this.Ve()},set_caption:function(a){this.XR(a)},get_encryption:function(){return this.ej()},set_encryption:function(a){this.jF(a)},get_hyperlinkPage:function(){return this.afy()},get_document:function(){return this.auN()},
add_propertyChanged:function(a){this.ix(a)},remove_propertyChanged:function(a){this.mP(a)},requestPageAttributes:function(a,b){this.Xr(a,b)}};IPCC.Web.UI.ImGearPage.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPage.registerClass("IPCC.Web.UI.ImGearPage");IPCC.Web.UI.ImGearPageEventArgs=function(){return this};IPCC.Web.UI.ImGearPageEventArgs.prototype={};IPCC.Web.UI.ImGearPageEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageEventArgs.registerClass("IPCC.Web.UI.ImGearPageEventArgs");
IPCC.Web.UI.ImGearPageCollection=function(){function a(a){if(a>c.length-1||0>a)throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("index",a,"page index is out of range in the page collection");}function b(a,b){b=new IPCC.Web.UI.ImGearPageEventArgs;b.imGearPage=a;b.length=1;d.aR("pageChanged",b)}var d=this,c=[],e=new IPCC.Web.UI.gR;this.akJ=!1;this.akq=!0;this.bP=void 0;this.amZ=function(a){this.alP(c.length,a)};this.alP=function(a,e){var k,m=c.length;if(a>c.length||0>a)throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("index",
a,"index of the page Collection is out of range");if(d.akq&&d.akJ&&0<m)throw new IPCC.Web.UI.ImGearInvalidOperationException("You must first remove the existing selected page before adding a new one to the selected page collection).");for(k=0;k<m;k++)if(c[k]===e)throw new IPCC.Web.UI.ImGearInvalidOperationException("You cannot duplicate same page instance in a page collection).");d.bP&&!e.bP&&(e.bP=d.bP);e.add_propertyChanged(b);c.splice(a,0,e);a=new IPCC.Web.UI.ImGearPageEventArgs;a.imGearPage=e;
a.length=1;d.aR("pageAdded",a)};this.kL=function(b){a(b);return c[b]};this.ard=function(d,e){a(d);var k=c[d];k!==e&&(c[d]=e,d=new IPCC.Web.UI.ImGearPageEventArgs,d.imGearPage=e,d.length=1,this.aR("pageAdded",d),k.remove_propertyChanged(b),e=new IPCC.Web.UI.ImGearPageEventArgs,e.imGearPage=k,e.length=1,this.aR("pageRemoved",e))};this.fj=function(){return c.length};this.mf=function(a,b){var d=[].concat(c),e;for(e=0;e<d.length;e++)a.call(b,d[e],e,this)};this.aac=function(f){a(f);var e=new IPCC.Web.UI.ImGearPageEventArgs;
e.imGearPage=c[f];c[f].remove_propertyChanged(b);e.length=1;c.splice(f,1);d.aR("pageRemoved",e)};this.arV=function(a){for(var b=c.length,d=0;d<b;d++)if(a===c[d])return d;return-1};this.aCE=function(){for(;0<c.length;)this.aac(0)};this.HG=function(a){e.addHandler("pageAdded",a)};this.KF=function(a){e.removeHandler("pageAdded",a)};this.If=function(a){e.addHandler("pageChanged",a)};this.Lu=function(a){e.removeHandler("pageChanged",a)};this.IQ=function(a){e.addHandler("pageRemoved",a)};this.JY=function(a){e.removeHandler("pageRemoved",
a)};this.aR=function(a,b){a=e.getHandler(a);if(null!==a)try{a(d,b)}catch(c){IPCC.fF.PW("raise event error in ImGearPageCollection, Error: "+c.message)}};return this};
IPCC.Web.UI.ImGearPageCollection.prototype={addPage:function(a){this.amZ(a)},insertPage:function(a,b){this.alP(a,b)},forEach:function(a,b){this.mf(a,b)},getPage:function(a){return this.kL(a)},setPage:function(a,b){this.ard(a,b)},get_length:function(){return this.fj()},removePage:function(a){this.aac(a)},removeAllPages:function(){this.aCE()},add_pageAdded:function(a){this.HG(a)},remove_pageAdded:function(a){this.KF(a)},add_pageChanged:function(a){this.If(a)},remove_pageChanged:function(a){this.Lu(a)},
add_pageRemoved:function(a){this.IQ(a)},remove_pageRemoved:function(a){this.JY(a)}};IPCC.Web.UI.ImGearPageCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageCollection.registerClass("IPCC.Web.UI.ImGearPageCollection");IPCC.Web.UI.ImGearDocumentCreateArgs=function(){return this};IPCC.Web.UI.ImGearDocumentCreateArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentCreateArgs.prototype={};IPCC.Web.UI.ImGearDocumentCreateArgs.registerClass("IPCC.Web.UI.ImGearDocumentCreateArgs");
IPCC.Web.UI.ImGearDocument=function(a){function b(){this.K=function(a,b){a+="() threw an exception ";a=b.name?a+("( "+b.name+" "):a+".";b.message&&(a+="  exception message = "+b.message);b.statusCode&&(a+="  exception statusCode = "+b.statusCode);a=a.replace(/\n/g," ");IPCC.fF.iB(a,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,"ImGearDocument","document")};this.aR=function(a,b){a=n.getHandler(a);null!==a&&a(f,b)}}function d(a){var b=[],c;if(0<l.length){var d;for(c=0;c<
a;c++)d=!0,Array.prototype.indexOf?0>l.indexOf(c)&&(d=!1):0>IPCC.Web.hk(l,c)&&(d=!1),d||(l.push(c),C.push(c),b.push(c))}else for(c=0;c<a;c++)l.push(c),C.push(c),b.push(c);return b}var c="",e="",f=this;this.ca=new IPCC.Web.UI.ImGearPageCollection;this.qz=void 0;this.ca.bP=this;var g=!1;this.nD=void 0;var k=0,m=IPCC.Web.UI.ImGearPageCountStatus.UnRequested,q,n=new IPCC.Web.UI.gR;this.gN=IPCC.Web.ot.VA(4,IPCC.Web.RR());this.nS=IPCC.Web.hA.Fd.lW(this.gN);var u=[],r=0,l=[],C=[],E={startPage:0,lastPage:0,
requestCount:0,stopRequests:!1,lastTimeout:1E3},w=!1;this.aR=function(a,b){a=n.getHandler(a);if(null!==a)try{a(f,b)}catch(c){IPCC.fF.PW("raise event error in ImGearDocument, error: "+c.message),IPCC.fF.iB(c.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,"ImGearDocument","")}};this.ca.add_pageAdded(function(a,b){0<b.length&&f.aR("pageAdded",b)});this.ca.add_pageRemoved(function(a,b){0<b.length&&f.aR("pageRemoved",b)});this.ca.add_pageChanged(function(a,b){f.aR("pageChanged",
b)});if(0===arguments.length)throw new IPCC.Web.UI.ImGearArgumentException("ImGearDocument","ImGearDocument object creation requires parameters");if(0<arguments.length){void 0!==a.documentIdentifier&&(c=a.documentIdentifier,e=IPCC.gE.sH(c));if(void 0!==a.encodedDocumentIdentifier){var t=a.encodedDocumentIdentifier;if(void 0!==a.documentIdentifier){if(e=IPCC.gE.sH(c),t!==e)throw new IPCC.Web.UI.ImGearArgumentException("documentIdentifier","When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.");
}else c=IPCC.gE.GV(a.encodedDocumentIdentifier)}if(void 0!==a.imageServicePath)this.nD=a.imageServicePath,IPCC.Web.rF||IPCC.Web.Qq(this.nD);else throw new IPCC.Web.UI.ImGearArgumentException("ImGearDocument","Document creation requires imageServicePath.");if(void 0!==a.includeAllPages){if(g=a.includeAllPages,!0===g){var t=new b,y=0;f.aF=new IPCC.gE(e,0,0,0,0,0);m=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.aF.IW(this.nD,t,function(){k=f.aF.ef;for(m=IPCC.Web.UI.ImGearPageCountStatus.Known;y<
k;y++){var a=new IPCC.Web.UI.ImGearPage({pageNumber:y,bP:f});a.bP=f;f.ca.addPage(a)}})}catch(F){throw m=IPCC.Web.UI.ImGearPageCountStatus.Failed,t=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs,t.exception=F,f.aR("pageOpenFailed",t),F;}}}else if(void 0!==a.pages){if(0<a.pages.length)for(t=t=0;t<a.pages.length;t++){var D=a.pages[t];D.document=this;this.ca.addPage(D)}}else if(void 0!==a.pageNumber)if(void 0!==a.pageRangeCount)if(D=a.pageRangeCount,0<D){var J;for(J=a.pageNumber;J<=D;J++)t=new IPCC.Web.UI.ImGearPage(J),
t.bP=f,this.ca.addPage(t)}else 0===D&&(t=new IPCC.Web.UI.ImgearPage({pageNumber:a.pageNumber,bP:f}),t.bP=f,f.ca.addPage(t));else t=a.selected?new IPCC.Web.UI.ImGearPage({pageNumber:a.pageNumber,bP:f,selected:!0}):new IPCC.Web.UI.ImGearPage({pageNumber:a.pageNumber,bP:f}),t.bP=f,f.ca.addPage(t)}this.vH=function(){return c};this.zO=function(){return e};this.auQ=function(){return this.ca};this.atL=function(){return k};this.auC=function(){return m};this.auW=function(){return g};this.anZ=function(a){g=
a;this.bm("includeAllPages")};var L=!1;this.ej=function(){return L};this.jF=function(a){L=a};this.HG=function(a){n.addHandler("pageAdded",a)};this.KF=function(a){n.removeHandler("pageAdded",a)};this.IQ=function(a){n.addHandler("pageRemoved",a)};this.JY=function(a){n.removeHandler("pageRemoved",a)};this.zc=function(a){n.addHandler("pageOpenFailed",a)};this.AY=function(a){n.removeHandler("pageOpenFailed",a)};this.ix=function(a){n.addHandler("propertyChanged",a)};this.mP=function(a){n.removeHandler("propertyChanged",
a)};this.If=function(a){n.addHandler("pageChanged",a)};this.Lu=function(a){n.removeHandler("pageChanged",a)};this.bm=function(a){var b=n.getHandler("propertyChanged");b&&b(this,new IPCC.qY(a))};this.Ve=function(){return q};this.XR=function(a){q=a;this.bm("caption")};this.awY=function(a){n.addHandler("textPagesReceived",a)};this.aAn=function(a){n.removeHandler("textPagesReceived",a)};this.auk=function(){return C.length};this.aun=function(){return u.length};this.ate=function(){return E};this.aeB=function(){return w};
this.aot=function(a){w=a};this.awN=function(a){if(!0===E.stopRequests){var b={error:0};b.textPagesReceived=d(a);if(0===b.textPagesReceived.length&&0<r&&r<a)for(var c=r;c<a;c++)b.textPagesReceived.push(c);b.length=2;f.aR("textPagesReceived",b)}else{for(var b=!0,c=!1,e=0;e<r;e++)if(Array.prototype.indexOf){if(0>u.indexOf(e)){b=!1;c=!0;break}}else if(0>IPCC.Web.hk(u,e)){c=!0;break}if(c)f.IP(e,void 0,a);else if(r<a){for(c=0;c<a;c++)if(Array.prototype.indexOf){if(0>l.indexOf(c)){b=!1;break}}else if(0>
IPCC.Web.hk(l,c)){b=!1;break}b?f.IP(r,void 0,a):f.IP(c,void 0,a)}}};this.IP=function(a,b,g){function k(a){for(var b=r,c=[],d=!0,e,p=0;p<a.pages.length;p++)Array.prototype.indexOf?0>u.indexOf(a.pages[p].number)&&(d=!1):0>IPCC.Web.hk(u,a.pages[p].number)&&(d=!1),d||(u.push(a.pages[p].number),!1===f.ca.kL(a.pages[p].number).cA().za()&&(e=f.ca.kL(a.pages[p].number),e.aix(a.pages[p]),e.aeW(a.pages[p]),e.agh(a.pages[p].markup,a.pages[p].height,a.pages[p].width)),r++,c.push(a.pages[p].number),l.push(a.pages[p].number),
a.pages[p].text||C.push(a.pages[p].number));e={};if(a.hasOwnProperty("errorCode")){e.error=0;f.pageExtractionFailed=!0;e.textPagesReceived=c;e.length=2;for(b=E.startPage;b<E.lastPage+1;b++)d=!0,Array.prototype.indexOf?0>l.indexOf(b)&&(d=!1):0>IPCC.Web.hk(l,b)&&(d=!1),d||(l.push(b),C.push(b),e.textPagesReceived.push(b));f.aR("textPagesReceived",e);E.stopRequests=!0}else{r>b&&(e.textPagesReceived=c,e.length=2,e.error=0);d=E.lastTimeout;if(E.startPage===n&&E.lastPage===q&&r===b)if(25>E.requestCount)d+=
1E3,E.requestCount++;else{e.error=0;e.textPagesReceived=[];e.length=2;d=!0;for(b=E.startPage;b<E.lastPage+1;b++)d=!0,Array.prototype.indexOf?0>l.indexOf(b)&&(d=!1):0>IPCC.Web.hk(l,b)&&(d=!1),d||(l.push(b),C.push(b),e.textPagesReceived.push(b));if(0===e.textPagesReceived.length&&0<r&&r<g)for(b=r;b<g;b++)e.textPagesReceived.push(b);E.stopRequests=!0;f.aR("textPagesReceived",e);return}else d=1E3,E.requestCount=0;E.lastTimeout=d;E.startPage=n;E.lastPage=q;setTimeout(function(){f.awN(g)},d);r>b&&f.aR("textPagesReceived",
e)}}w=!0;var n;n=isNaN(a)?0:a;var m;isNaN(g)||(m=g);var q;isNaN(b)?isNaN(m)?(m=g,isNaN(m)||(q=m-1)):q=m-1:q=b;isNaN(q)&&(q=n+1);9<q-n&&(q=n+9);var t;window.XMLHttpRequest&&(t=new XMLHttpRequest);a=c;b=f.nD;a=/^[\x00-\x7F]*$/.test(a)?"u"+a:"e"+e;f.ej()?t.open("GET",b+"/Document/q/"+n.toString()+"-"+q.toString()+"/Text?DocumentID="+a+"&iv="+f.nS,!0):t.open("GET",b+"/Document/q/"+n.toString()+"-"+q.toString()+"/Text?DocumentID="+a,!0);t.responseType="text";t.setRequestHeader("accept","application/json");
t.onreadystatechange=function(){var a={};try{var b,c=null,e;if(0===t.readyState||4===t.readyState)if(b=t.status,200===t.status){if("true"===t.getResponseHeader("Accusoft-Data-Encrypted")){var p=IPCC.Web.hA.qM.sJ(t.getResponseHeader("Accusoft-Data-SK")),n=IPCC.Web.EE(p,f.gN),m=IPCC.Web.ED(t),q=IPCC.Web.BS(m,n,f.gN);e=IPCC.Web.hA.Bs.lW(q)}else e=t.responseText;c="undefined"!==typeof JSON?JSON.parse(e):IPCC.bY.pk(e);k(c)}else if(200>b||300<=b)if(t.responseText)if(c="undefined"!==typeof JSON?JSON.parse(t.responseText):
IPCC.bY.pk(t.responseText),c.hasOwnProperty("errorCode")){a.error=0;if(0<r){if(c.pages&&0<c.pages.length){k(c);return}}else a.error=-1;0===l.length&&(a.error=-1);f.pageExtractionFailed=!0;a.textPagesReceived=[];a.length=2;a.textPagesReceived=d(g);f.aR("textPagesReceived",a)}else throw new IPCC.Web.UI.ImGearHttpException(b,"Unable to obtain text");else throw new IPCC.Web.UI.ImGearHttpException(b,"Unable to obtain text");}catch(u){a.error=-1,d(g),a.textPagesReceived=[],a.length=2,f.aR("textPagesReceived",
a)}};t.send()};return this};IPCC.Web.UI.ImGearDocument.encodeDocumentIdentifier=function(a){var b;void 0!==a&&(b=IPCC.gE.sH(a));return b};IPCC.Web.UI.ImGearDocument.decodeDocumentIdentifier=function(a){var b;void 0!==a&&(b=IPCC.gE.GV(a));return b};
IPCC.Web.UI.ImGearDocument.prototype={get_documentIdentifier:function(){return this.vH()},get_encodedDocumentIdentifier:function(){return this.zO()},get_pages:function(){return this.auQ()},get_pageCountStatus:function(){return this.auC()},set_pageCountStatus:function(a){this.aDy(a)},get_pageCount:function(){return this.atL()},get_includeAllPages:function(){try{return this.auW()}catch(a){throw a;}},set_includeAllPages:function(a){try{this.anZ(a)}catch(b){throw b;}},get_caption:function(){return this.Ve()},
set_caption:function(a){this.XR(a)},get_encryption:function(){return this.ej()},set_encryption:function(a){this.jF(a)},add_pageChanged:function(a){this.If(a)},remove_pageChanged:function(a){this.Lu(a)},add_pageRemoved:function(a){this.IQ(a)},remove_pageRemoved:function(a){this.JY(a)},add_pageAdded:function(a){this.HG(a)},remove_pageAdded:function(a){this.KF(a)},add_pageOpenFailed:function(a){this.zc(a)},remove_pageOpenFailed:function(a){this.AY(a)},get_textRequestInfo:function(){try{return this.ate()}catch(a){throw a;
}},get_numberOfPagesWithText:function(){try{return this.aun()}catch(a){throw a;}},get_numberOfPagesWithoutText:function(){try{return this.auk()}catch(a){throw a;}},add_textPagesReceived:function(a){try{this.awY(a)}catch(b){throw b;}},remove_textPagesReceived:function(a){try{this.aAn(a)}catch(b){throw this.K("remove_textPagesReceived",b),b;}},add_propertyChanged:function(a){this.ix(a)},remove_propertyChanged:function(a){this.mP(a)}};IPCC.Web.UI.ImGearDocument.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocument.registerClass("IPCC.Web.UI.ImGearDocument");
IPCC.Web.UI.ImGearDocumentEventArgs=function(){return this};IPCC.Web.UI.ImGearDocumentEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentEventArgs.prototype={};IPCC.Web.UI.ImGearDocumentEventArgs.registerClass("IPCC.Web.UI.ImGearDocumentEventArgs");
IPCC.Web.UI.ImGearDocumentCollection=function(){function a(a,b){if(b){var c=new IPCC.Web.UI.ImGearDocumentEventArgs;c.document=a;c.propertyName=b.get_propertyName();c.length=2;e.aR("documentChanged",c)}}function b(a){if(a>d.length-1||0>a)throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("index",a,"document index is out of range");}var d=[],c=new IPCC.Web.UI.gR,e=this;this.Jp=function(a){this.amg(d.length,a)};this.amg=function(b,e){var k,m=d.length;if(b>d.length||0>b)throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("index",
b,"document index is out of range");for(k=0;k<m;k++)if(d[k]===e)throw new IPCC.Web.UI.ImGearInvalidOperationException("The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.");(k=c.getHandler("pageAdded"))&&e.add_pageAdded(k);(k=c.getHandler("pageRemoved"))&&e.add_pageRemoved(k);(k=c.getHandler("pageChanged"))&&e.add_pageChanged(k);e.add_propertyChanged(a);d.splice(b,0,e);k=new IPCC.Web.UI.ImGearDocumentEventArgs;k.imGearDocument=
e;k.index=b;k.length=1;this.aR("documentAdded",k)};this.aeZ=function(a){b(a);return d[a]};this.fj=function(){return d.length};this.aFA=function(a,b){var c=[].concat(d),e;for(e=0;e<c.length;e++)a.call(b,c[e],e,this)};this.acM=function(a){b(a);var c=new IPCC.Web.UI.ImGearDocumentEventArgs;c.imGearDocument=d[a];c.length=1;d[a].get_pages().removeAllPages();d.splice(a,1);this.aR("documentRemoved",c)};this.azc=function(){for(;0<d.length;)this.acM(0)};this.ayg=function(a){c.addHandler("documentAdded",a)};
this.aze=function(a){c.removeHandler("documentAdded",a)};this.ayH=function(a){c.addHandler("documentRemoved",a)};this.azJ=function(a){c.removeHandler("documentRemoved",a)};this.ayA=function(a){c.addHandler("documentChanged",a)};this.azf=function(a){c.removeHandler("documentChanged",a)};this.HG=function(a){c.addHandler("pageAdded",a)};this.KF=function(a){c.removeHandler("pageAdded",a);for(var b=0;b<d.length;b++)d[b].remove_pageAdded(a)};this.If=function(a){c.addHandler("pageChanged",a)};this.Lu=function(a){c.removeHandler("pageChanged",
a);for(var b=0;b<d.length;b++)d[b].remove_pageChanged(a)};this.IQ=function(a){c.addHandler("pageRemoved",a)};this.JY=function(a){c.removeHandler("pageRemoved",a);for(var b=0;b<d.length;b++)d[b].remove_pageRemoved(a)};this.aR=function(a,b){a=c.getHandler(a);if(null!==a)try{a(e,b)}catch(d){IPCC.fF.PW("event raise, ImGearDocumentCollection, error: "+d.message)}};return this};
IPCC.Web.UI.ImGearDocumentCollection.prototype={addDocument:function(a){this.Jp(a)},insertDocument:function(a,b){this.amg(a,b)},forEach:function(a,b){this.mf(a,b)},getDocument:function(a){return this.aeZ(a)},get_length:function(){return this.fj()},removeDocument:function(a){this.acM(a)},removeAllDocuments:function(){this.azc()},add_documentAdded:function(a){this.ayg(a)},remove_documentAdded:function(a){this.aze(a)},add_documentRemoved:function(a){this.ayH(a)},remove_documentRemoved:function(a){this.azJ(a)},
add_documentChanged:function(a){this.ayA(a)},remove_documentChanged:function(a){this.azf(a)},add_pageAdded:function(a){this.HG(a)},remove_pageAdded:function(a){this.KF(a)},add_pageRemoved:function(a){this.IQ(a)},remove_pageRemoved:function(a){this.JY(a)},add_pageChanged:function(a){this.If(a)},remove_pageChanged:function(a){this.Lu(a)}};IPCC.Web.UI.ImGearDocumentCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentCollection.registerClass("IPCC.Web.UI.ImGearDocumentCollection");
IPCC.Web.UI.kC=function(a){this.ad=void 0;var b=new IPCC.Web.UI.gR;this.bU=this.fu=this.gh=this.Ar=this.zd=this.kH=this.gX=void 0;this.zU=!1;this.DE=0;this.apU=void 0;this.ja=this.jx=!1;0<arguments.length&&void 0!==a.page&&(this.ad=a.page);this.bm=function(a){var c=b.getHandler("propertyChanged");c&&c(this,new IPCC.qY(a))};return this};IPCC.Web.UI.aDF=function(){this.iS=new IPCC.Web.UI.ImGearPageCollection;this.aCS=0;return this};IPCC.Web.UI.Thumbnailcounter=1;
IPCC.Web.UI.ImGearThumbnailList=function(a){function b(){var a,b;if(""!==x&&(a=document.getElementById(x))){var c=ta.get_length(),d;if(0<c){b='{"selectedPages":[';for(d=0;d<c;d++)if(ta.getPage(d)){var f=ta.getPage(d).bP.get_encodedDocumentIdentifier(),e=ta.getPage(d).get_pageNumber();f&&0<=e&&(0<d&&(b+=","),b+='{"encodedDocumentIdentifier":"'+f,b+='","pageNumber":"'+e.toString()+'"',b+="}")}b+="]}"}a.value=b}}function d(){for(var a=0;a<A.length;a++)if(A[a]&&A[a].gh){A[a].gh=!1;if(A[a].ad){A[a].ad.set_selected(!1);
for(var b=0;b<ta.get_length();b++)ta.getPage(b)===A[a].ad&&ta.removePage(b)}!0===ga?document.getElementById(A[a].gX).style.backgroundColor=Ga:document.getElementById(A[a].gX).className="imGearTNItem"}}function c(a,b,c){c&&c.ad&&(!0===a?(b&&(b.className="imGearTNSelected"),c.ad.set_selected(!0),c.gh=!0):(b&&(b.className="imGearTNItem"),c.ad.set_selected(!1),c.gh=!1))}function e(a,b,c){c&&c.ad&&(!0===a?(b&&(b.style.backgroundColor=ob),c.ad.set_selected(!0),c.gh=!0):(b&&(b.style.backgroundColor=Ga),
c.ad.set_selected(!1),c.gh=!1))}function f(a,b,d,f){!0===ga?B.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single?(f&&(document.getElementById(f.gX).style.backgroundColor=Ga),e(!0,b,d),ta.removeAllPages()):B.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple&&e(!1,b,d):B.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single?(f&&(document.getElementById(f.gX).className="imGearTNItem"),c(!0,b,d),ta.removeAllPages()):B.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple&&
c(!0,b,d)}function g(){k()}function k(){var a,b,c,d,f,e,h,g,p,k,l=[];if(""!==ma){d=ma.scrollTop;f=ma.scrollLeft;e=d+ma.clientHeight;h=f+ma.clientWidth;for(a=0;a<A.length;a++)if((b=A[a])&&b.kH)if(c=document.getElementById(b.gX),g=c.offsetTop,p=c.offsetLeft,k=g+c.offsetHeight,c=p+c.offsetWidth,k=d-k,c=f-c,g-=e,p-=h,0<=k)l.push({kC:b,Yl:!0,qD:k});else if(0>g&&0<=c)l.push({kC:b,Yl:!0,qD:c});else if(0<=g)l.push({kC:b,Yl:!1,qD:g});else if(0>k&&0<=p)l.push({kC:b,Yl:!1,qD:p});else if(b=document.getElementById(b.kH))b=
b.ak,b.xC(0);l.sort(function(a,b){return a.qD-b.qD});for(a=0;a<l.length;a++)b=l[a].kC,(b=document.getElementById(b.kH))&&(b=b.ak)&&(1>a?b.xC(0):50>a?b.xC(1):b.xC(2))}}function m(a,f){if(f){if(0!==f.domEvent.button)return}else if(0!==a.button)return;var h,g;if(a.id&&null!==a.id)h=a.id.split("_"),void 0!==h&&B.fQ().id===h[0]&&(g=a);else if(a.target){if("DIV"===a.target.tagName&&null!==a.target.firstChild&&"DIV"===a.target.firstChild.tagName&&(g=a.target),!g&&a.target.parentNode)if(void 0!==a.target.parentNode.id&&
""!==a.target.parentNode.id)if(h=a.target.parentNode.id.split("_"),void 0!==h)if(B.fQ().id===h[0])g=a.target.parentNode;else return;else return;else if(a.target.parentNode.parentNode&&void 0!==a.target.parentNode.parentNode.id&&""!==a.target.parentNode.parentNode.id)if(h=a.target.parentNode.parentNode.id.split("_"),void 0!==h)if(B.fQ().id===h[0])g=a.target.parentNode.parentNode;else return;else return}else g=a.fQ().parentNode;var p;if(B.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single)for(h=
0;h<A.length;h++)if(!0===A[h].gh){A[h].ad&&A[h].ad.set_selected(!1);!0===ga?document.getElementById(A[h].gX).style.backgroundColor=Ga:document.getElementById(A[h].gX).className="imGearTNItem";A[h].gh=!1;p=A[h];break}if(void 0!==g){var k,l,n=!1;for(h=0;h<A.length;h++)if(A[h].ad&&(k=document.getElementById(A[h].gX),k===g)){n=!0;l=A[h];break}!0===n&&(B.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple&&(f?!1===f.domEvent.ctrlKey&&d():a.ctrlKey?!1===a.ctrlKey&&d():d()),!0===ga?B.get_selectionMode()===
IPCC.Web.UI.ImGearThumbnailSelectionMode.Single?(p&&(document.getElementById(p.gX).style.backgroundColor=Ga),e(!0,g,l),ta.removeAllPages()):B.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple&&(f?!0===f.domEvent.ctrlKey?!0===l.gh?e(!1,g,l):e(!0,g,l):e(!0,g,l):a.ctrlKey?!0===a.ctrlKey?!0===l.gh?e(!1,g,l):e(!0,g,l):e(!0,g,l):e(!0,g,l)):B.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single?(p&&(document.getElementById(p.gX).className="imGearTNItem"),c(!0,g,l),
ta.removeAllPages()):B.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple&&(f?!0===f.domEvent.ctrlKey?!0===l.gh?c(!1,g,l):c(!0,g,l):c(!0,g,l):a.ctrlKey?!0===a.ctrlKey?!0===l.gh?c(!1,g,l):c(!0,g,l):c(!0,g,l):c(!0,g,l)),b(),H(l))}}function q(a,b,c){function d(a,b){m(a,b)}IPCC.Web.UI.aE.addHandler(c,"mouseDown",d);b.add_mouseDown(d)}function n(a,d){a.add_pageOpened(function(f,h){for(h=0;h<A.length;h++)if(f=A[h],f===d){h=document.getElementById(f.gX);!0===ga?e(!0,h,f):c(!0,h,f);B.get_selectionMode()===
IPCC.Web.UI.ImGearThumbnailSelectionMode.Single&&(B.get_pageViewClientId()&&(h=document.getElementById(f.kH).ak)&&h.set_selected(!0),f.ad&&0<ta.get_length()&&ta.removeAllPages());f.ad&&(ta.addPage(f.ad),f.gh=!0);break}b();B.scrollToSelectedThumbnail();k();d.ad.JH(a.get_pageWidth());d.ad.GU(a.get_pageHeight())})}function u(a,b){a.add_pageOpened(function(c,d){function f(a){function b(){var a=hb,d=gb;hb+=gb;hb+gb>c&&(gb=c-hb);setTimeout(function(){B.lj.getDocument(0).IP(a,a+d-1,a+d)},50)}var c=B.lj.getDocument(0).ef;
c?(tb++,1===tb&&(gb=30>c?Math.floor(c/3)+1:10),tb===hb+gb&&(0===hb?!0===B.lj.getDocument(0).aeB()?lb=!0:(B.lj.getDocument(0).aot(!0),b()):b())):setTimeout(function(){f(a)},2E3)}c=d.pageNumber;d=d.documentIdentifier;!1===lb&&f(c);b.ad.JH(a.get_pageWidth());b.ad.GU(a.get_pageHeight());for(var e=0;e<A.length;e++)if(A[e].ad.get_pageNumber()===c&&A[e].ad.bP.get_documentIdentifier()===d){A[e].ja=!1;A[e].jx=!0;var h;!1===A[e].fu&&(A[e].kH&&(h=document.getElementById(A[e].kH).ak),h&&(h.display(),A[e].fu=
!0));0<I&&--I;break}k();0===I&&setTimeout(function(){r()},60)});0===I&&1<A.length&&0===I&&setTimeout(function(){r()},100)}function r(){var a,c;var d=document.getElementById(T),f=document.getElementById(A[0].gX),e;e=1<A.length?document.getElementById(A[1].gX).offsetHeight+2*f.offsetTop:f.clientHeight+f.clientTop+2*f.offsetTop;if(0<e)for(f=Math.ceil(d.scrollTop/e),d=f+Math.ceil(d.offsetHeight/e)+2,--f,0>f&&(f=0),d>=A.length&&(d=A.length-1);f<=d;f++)if(!1===A[f].ja&&!1===A[f].jx){c=f;break}c=c?c:-1;
if(0<c)a=c;else{for(c=0;c<A.length;c++)if(!1===A[c].ja&&!1===A[c].jx){a=c;break}a=a?a:-1}if(a&&0<a&&a<A.length){a=A[a];var h;0<I?(a.kH&&(h=document.getElementById(a.kH).ak),h&&(h.display(),a.fu=!0)):(document.getElementById(a.gX),h=document.getElementById(a.kH).ak,!1===a.jx&&(B.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService?a.ad&&(!0===a.zU?a.bU&&h.openPage({encodedDocumentIdentifier:a.ad.bP.get_encodedDocumentIdentifier(),pageNumber:a.ad.get_pageNumber(),artPage:a.bU,imaGearPage:a.ad}):
h.openPage({encodedDocumentIdentifier:a.ad.bP.get_encodedDocumentIdentifier(),pageNumber:a.ad.get_pageNumber(),imageServiceOption:B.get_artServiceOption(),imaGearPage:a.ad}),a.ja=!0,I++):(a.bU=h.get_artPage(),a.ad&&(a.bU?h.openPage({encodedDocumentIdentifier:a.ad.bP.get_encodedDocumentIdentifier(),pageNumber:a.ad.get_pageNumber(),artPage:a.bU,imaGearPage:a.ad}):h.openPage({encodedDocumentIdentifier:a.ad.bP.get_encodedDocumentIdentifier(),pageNumber:a.ad.get_pageNumber(),imaGearPage:a.ad}),a.ja=!0,
I++))),b())}}function l(a,b){a.add_pageOpenFailed(function(a,b){B.aR("pageAddFailed",b)})}function C(a){var b=document.createElement("div"),c;for(c in a)a.hasOwnProperty(c)&&(b.style[c]=a[c]);return b}function E(){var a=B.fQ().id,b=document.getElementById(a),c;""===V&&(ma=C({width:b.clientWidth+"px",height:b.clientHeight+"px",position:"relative",margin:"0px",border:"1px solid #000000",overflow:"auto"}),!0===ga?aa===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection?(c=h,V=C({width:c+"px",
margin:"4px"}),ma.style.overflowY="hidden",B.sm=1,0<c&&(B.Db=b.clientWidth/c)):(V=C({width:b.clientWidth+"px",height:b.clientHeight+"px",position:"relative",margin:"4px"}),ma.style.overflowX="hidden",B.sm=1,0<h&&(B.Db=b.clientWidth/h),B.sm=b.clientHeight/Na):(V=C({width:b.clientWidth+"px",height:b.clientHeight+"px",position:"relative",margin:"4px"}),aa===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection?ma.style.overflowY="hidden":ma.style.overflowX="hidden"),ma.onscroll=g,V.setAttribute("id",
a+"_ListContainer"),ma.setAttribute("id",a+"_ListWrapper"),T=a+"_ListWrapper",ma.appendChild(V),b.appendChild(ma))}function w(a){var b,c="",d,f,e,h;if(""!==Aa&&-1!==Aa.indexOf("{")&&(b=Aa.split("{"),0<b.length))for(h=0;h<b.length;h++){d="";f=b[h];e="";if(-1!==b[h].indexOf("DC"))d=a.bP.get_caption(),void 0!==d?e=f.replace(/DC\}/,a.bP.get_caption()):(a.bP.get_documentIdentifier(),e=f.replace(/DC\}/,a.bP.get_documentIdentifier()));else if(-1!==b[h].indexOf("PC"))d=a.get_caption(),e=void 0!==d&&""!==
d&&null!==d?f.replace(/PC\}/,a.get_caption()):f.replace(/PC\}/,"Page");else if(-1!==b[h].indexOf("P#")){var g=a.bP.get_pages().arV(a),p=g;"number"===typeof p?d=(g+1).toString():p&&(d=parseInt(p,10),d++,d=d.toString());null!==d&&(e=f.replace(/P#\}/,d))}else-1!==b[h].indexOf("PN")?(d=(a.get_pageNumber()+1).toString(),null!==d&&(e=f.replace(/PN\}/,d))):-1!==b[h].indexOf("PP")&&(d=a.bP.get_pages().get_length().toString(),null!==d&&(e=f.replace(/PP\}/,d)));c+=e}return c}function t(a){var b=a.get_pageNumber(),
c,d,f=document.getElementById(B.fQ().id),e,g=0,p,k=B.get_documents().get_length();for(p=0;p<k&&(d=B.get_documents().getDocument(p),null===d||(e=d.qz,e!==a.bP.qz));p++);for(p=0;p<A.length;p++)A[p].bP&&(d=A[p].bP,0===p?g++:A[p-1].bP!==d&&g++);for(p=A.length-1;0<=p;p--)if(A[p].ad&&A[p].ad===a)return;var H=!0,r,x,t;for(p=0;p<A.length;p++)if(k=A[p],1===k.DE&&a.bP.qz===k.Ar){c=document.getElementById(k.gX);k.DE=0;r=k.gX;H=!1;x=k;break}for(p=A.length-1;0<=p&&(!A[p].ad||A[p].ad.bP!==a.bP);p--);""===V&&E();
!1===ga&&(H&&(c=document.createElement("div"),c.className="imGearTNItem",c.style.styleFloat="left"),t=document.createElement("div"),t.className="imGearTNItemCaption");!0===ga&&(H&&(c=c=C({width:h+"px",height:Na+"px",styleFloat:"left",overflow:"hidden",border:la+"px solid "+Ka,marginRight:pa+"px",marginTop:Oa+"px"}),c.style.cssFloat="left",c.style.backgroundColor=Ga),t=C({width:h+"px",height:"30px",overflow:"hidden",padding:"1px",position:"relative",margin:"2px"}));!0===H&&(r=a.bP.qz+"_"+IPCC.Web.UI.Thumbnailcounter.toString(),
IPCC.Web.UI.Thumbnailcounter++,c.setAttribute("id",r));g=r+"__tViewId";!1===ga?(d=document.createElement("div"),d.className="imGearTNImage"):d=C({width:h-4+"px",height:Na-40+"px",overflow:"hidden",padding:"1px"});d.setAttribute("id",g);k=document.createElement("p");!0===ga&&(k.style.cssText="font-family:arial,sans-serif;font-size:10pt;text-align: center;color:#000099;");void 0!==Aa&&null!==Aa&&""!==Aa&&(p=w(a),k.innerHTML=p,t.appendChild(k));IPCC.Web.UI.aE.addHandler(t,"mousedown",m);IPCC.Web.UI.aE.addHandler(c,
"mousedown",m);c.appendChild(t);c.appendChild(d);!0===H&&(x=new IPCC.Web.UI.kC({page:a}));a.gX=r;x.kH=g;x.gX=r;x.ad=a;x.Ar=e;x.gh=!1;x.fu=!1;x.zd=t;x.bU=void 0;x.zU=!1;x.bP=a.bP;x.jx=!1;x.dI=b;var T;if(H)if(0===A.length)V.appendChild(c),A.push(x);else{for(p=0;p<A.length;p++)if(k=A[p],k.Ar===e&&k.ad&&(r=k.ad.get_pageNumber(),b<r)){A.splice(p,0,x);b=document.getElementById(k.gX);V.insertBefore(c,b);T=!0;break}T||(V.appendChild(c),A.push(x))}aa===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection?
!0===ga?(b=c.clientWidth*(A.length+1),b+=2*pa*(A.length+1),V.style.width=b+"px",V.style.height=c.clientHeight+2*pa+"px"):(b=c.clientWidth*(A.length+1),V.style.width=b+"px",V.style.height=c.clientHeight+"px",0===B.sm&&0<c.clientWidth&&(B.sm=f.width/c.clientWidth),0===this.Db&&0<c.clientHeight&&(B.sm=f.height/c.clientHeight)):0<f.clientWidth&&(b=f.clientWidth/(c.clientWidth+2*c.clientLeft),B.sm=f.clientHeight/(c.clientHeight+2*c.clientTop),B.Db=b);f=new IPCC.Web.UI.ThumbnailView(document.getElementById(g));
f.pQ(document.getElementById(g));f.jF(B.ej());f.initialize();f.set_imageHandlerUrl(a.bP.nD);f.set_selected(!1);f.set_pageViewClientID(M);B.oe()&&f.rM(!0);f&&(G&&f.set_resourcePath(G),l(f,x),f.jF(B.ej()),(b=f.asE())||(b=new IPCC.Web.UI.PageViewState),b.viewFitType=Z,b.viewRotationDegreesClockwise=kb,b.viewZoomFactor=z,b.encryption=B.ej(),f.aoU(b));b=B.get_artServiceOption();q(m,f,c);e=ta.get_length();if(0<e)for(g=0;g<e;g++)for(p=0;p<A.length;p++){if(k=A[p],k.ad&&k.ad.bP.get_documentIdentifier()===
ta.getPage(g).bP.get_documentIdentifier()&&ta.getPage(g).get_pageNumber===a.get_pageNumber()){n(f,x);break}}else a.get_selected()&&n(f,x);u(f,x);2>A.length&&(f.jF(B.ej()),f.openPage({encodedDocumentIdentifier:a.bP.get_encodedDocumentIdentifier(),pageNumber:a.get_pageNumber(),artServiceOption:b,imGearPage:a}),x.ja=!0,I++);if(1<a.bP.get_pages().get_length())for(x=0;x<A.length;x++)b=A[x],b.ad&&a.bP===b.ad.bP&&(p=w(b.ad),b=b.zd.firstChild,b.igPreviousCaption&&b.igPreviousCaption===p||(b.innerHTML=p,b.igPreviousCaption=
p));d.ak=f;return c}function y(a){var b=a.qz+"_"+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;var c,d,f=[],e=B.fQ().id,e=document.getElementById(e),g,p,k=B.get_documents().get_length();for(p=0;p<k;p++)if(d=B.get_documents().getDocument(p))if(g=d.qz,g===a.qz)break;for(a=p=0;a<A.length;a++)A[a].bP&&(d=A[a].bP,0===a?(f[p]=d,p++):A[a-1].bP!==d&&(f[p]=d,p++));""===V&&E();!1===ga?(c=document.createElement("div"),c.className="imGearTNItem",c.style.styleFloat="left"):!0===ga&&(c=
c=C({width:h+"px",height:Na+"px",styleFloat:"left",overflow:"hidden",border:la+"px solid "+Ka,marginRight:pa+"px",marginTop:Oa+"px"}),c.style.cssFloat="left",c.style.backgroundColor=Ga);c.setAttribute("id",b);a=new IPCC.Web.UI.kC;a.gX=b;a.Ar=g;a.gh=!1;a.fu=!1;a.bU=void 0;a.zU=!1;a.DE=1;a.bP=d;a.jx=!1;var l,k=B.get_documents().get_length();for(p=0;p<k;p++)if(d=B.get_documents().getDocument(p),f[p]&&d!==f[p]&&p+1<k&&B.get_documents().getDocument(p+1)===f[p]){l=p;break}if(l){for(p=b=0;p<l;p++)B.get_documents().getDocument(p).get_pages()&&
(b+=B.get_documents().getDocument(p).get_pages().get_length());l=document.getElementById(A[b].gX);V.insertBefore(c,l);A.splice(b,0,a)}else V.appendChild(c),A.push(a);aa===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection?!0===ga?(l=c.clientWidth*(A.length+1),l+=2*pa*(A.length+1),V.style.width=l+"px",V.style.height=c.clientHeight+2*pa+"px"):(l=c.clientWidth*(A.length+1),V.style.width=l+"px",V.style.height=c.clientHeight+"px",0===this.sm&&0<c.clientWidth&&(B.sm=e.width/c.clientWidth),0===
B.Db&&0<c.clientHeight&&(B.sm=e.height/c.clientHeight)):0<e.clientWidth&&(l=e.clientWidth/(c.clientWidth+2*c.clientLeft),B.sm=e.clientHeight/(c.clientHeight+2*c.clientTop),B.Db=l);return c}function D(a,b){t(b.imGearPage)}function J(a,b){a=b.imGearPage;var c,d;for(d=0;d<A.length;d++)if(A[d].ad&&A[d].ad===a&&(c=document.getElementById(A[d].gX))){!0===A[d].fu&&(b=document.getElementById(A[d].kH).ak,b.get_selected()&&(b.set_selected(!1),B.get_pageViewClientId()&&document.getElementById(B.get_pageViewClientId()).ak.closePage()),
b.remove_mouseDown(m),b.get_currentState().documentIdentifier&&b.dispose(),A[d].fu=!1);A[d].zd&&IPCC.Web.UI.aE.removeHandler(c.zd,"mousedown",m);c.style.display="none";A.splice(d,1);if(1<=a.bP.get_pages().get_length())for(b=0;b<A.length;b++)c=A[b],a.bP===c.ad.bP&&c.ad&&(d=w(c.ad),c.zd.firstChild.innerHTML=d);break}}function L(a,b){if(b)for(var c=0;c<A.length;c++)if(a=A[c],b.imGearPage===a.ad&&a.ad){var d;if(B.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single)for(b=0;b<A.length;b++)if(!0===
A[b].gh){A[b].ad&&A[b].ad.set_selected(!1);A[b].gh=!1;d=A[b];break}b=w(a.ad);a.zd.firstChild.innerHTML=b;c=document.getElementById(a.gX);if(a.ad.get_selected()&&!a.gh){if(b=document.getElementById(a.kH).ak)b.set_imGearPage(a.ad),b.set_selected(!0),B.aR("pageSelectionChanged",{}),f(!0,c,a,d)}else!a.ad.get_selected()&&a.gh&&(b=document.getElementById(a.kH).ak)&&(b.set_selected(!1),B.aR("pageSelectionChanged",{}),f(!1,c,a,d));break}}function F(a,b){if(b&&"caption"===b.propertyName)for(a=0;a<A.length;a++){var c=
A[a];if(c.ad&&c.ad.bP&&b.imGearDocument&&b.imGearDocument===c.ad.bP){var d=w(c.ad);c.zd.firstChild.innerHTML=d}}}function p(a,b){if(!1!==B.LQ())if(null!==M&&""!==M&&document.getElementById(M),a=b.imGearDocument,b=B.Xg(),a.qz=b,!1===a.get_includeAllPages()){b=a.get_pages();var c=b.get_length();if(0<c){for(var d=0;d<c;d++)b.getPage(d).bP||(b.getPage(d).bP=a);b.forEach(t)}}else y(a)}function H(a){var d;for(d=0;d<A.length;d++)if(A[d]===a){a=document.getElementById(A[d].gX);!0===ga?e(!0,a,A[d]):c(!0,a,
A[d]);if(B.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(B.get_pageViewClientId()){a=document.getElementById(A[d].kH).ak;if(!1===A[d].jx||0===ta.get_length())B.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService?A[d].ad&&(!0===A[d].zU?A[d].bU&&a.openPage({encodedDocumentIdentifier:A[d].ad.bP.get_encodedDocumentIdentifier(),pageNumber:A[d].ad.get_pageNumber(),artPage:A[d].bU,imGearPage:A[d].ad}):a.openPage({encodedDocumentIdentifier:A[d].ad.bP.get_encodedDocumentIdentifier(),
pageNumber:A[d].ad.get_pageNumber(),imageServiceOption:B.get_artServiceOption(),imGearPage:A[d].ad})):!1===A[d].ja&&!1===A[d].jx&&(A[d].bU=a.get_artPage(),A[d].ad&&(A[d].bU?a.openPage({encodedDocumentIdentifier:A[d].ad.bP.get_encodedDocumentIdentifier(),pageNumber:A[d].ad.get_pageNumber(),artPage:A[d].bU,imGearPage:A[d].ad}):a.openPage({encodedDocumentIdentifier:A[d].ad.bP.get_encodedDocumentIdentifier(),pageNumber:A[d].ad.get_pageNumber(),imGearPage:A[d].ad}),A[d].ja=!0,I++));a&&(a.set_selected(!0),
B.aR("pageSelectionChanged",{}))}A[d].ad&&0<ta.get_length()&&ta.removeAllPages()}A[d].ad&&ta.addPage(A[d].ad);break}b()}var B=this,x="",K=IPCC.Web.UI.ImGearArtDataServices.None,M="",Z=null,A=[],Da="",ga=!0,T,W=new IPCC.Web.UI.gR,ha=IPCC.Web.UI.DebugErrorLevel.Production,ja=!1,ka=IPCC.Web.UI.ImGearThumbnailSelectionMode.Single,V="",ma="",da=0,aa=IPCC.Web.UI.ImGearThumbnailLayout.VerticalScrollDirection,Na=140,h=124,Ga="gray",Oa=4,pa=4,la=2,Ka="#000000",fb=!1,Aa="";this.lj=new IPCC.Web.UI.ImGearDocumentCollection;
var ta=new IPCC.Web.UI.ImGearPageCollection,ob="#FFDA6A";ta.akJ=!0;var hb=0,gb=10,tb=0,lb=!1,kb=0,z;this.K=function(a,b){ja&&ha>=IPCC.Web.UI.DebugErrorLevel.Production&&(a=a+"() threw an exception ("+b.name+'), "'+b.message+'"',a=a.replace(/\n/g," "),IPCC.fF.iB(a,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,"ImGearThumbnailList",this.get_igelement().id))};this.aO=function(a,b,c){if(ja&&ha>=IPCC.Web.UI.DebugErrorLevel.Development){a+="(";var d;for(d=0;d<b.length;d++)0<
d&&(a+=", "),a+=IPCC.fF.hT(b[d],c?c:0);this.mu(a+")",IPCC.Web.UI.DebugErrorLevel.Development)}};this.vD=function(a,b,c,d){if(ja&&ha>=IPCC.Web.UI.DebugErrorLevel.Development){a+="(";var f;for(f=0;f<b.length;f++)0<f&&(a+=", "),a+=IPCC.fF.hT(b[f],d?d:0);a=a+") = "+IPCC.fF.hT(c,1);this.mu(a,IPCC.Web.UI.DebugErrorLevel.Development)}};this.bh=function(a,b,c){if(ja&&ha>=IPCC.Web.UI.DebugErrorLevel.Detailed){a+="(";var d;for(d=0;d<b.length;d++)0<d&&(a+=", "),a+=IPCC.fF.hT(b[d],0);a=a+") = "+IPCC.fF.hT(c,
1);this.mu(a,IPCC.Web.UI.DebugErrorLevel.Detailed)}};this.mu=function(a,b){IPCC.fF.iB(a,IPCC.Web.UI.DebugItemCause.FunctionCall,b,"ImGearThumbnailList",this.fQ().id)};this.iB=function(a){IPCC.fF.iB(a,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,"ImGearThumbnailList",this.fQ().id)};this.sz=function(){return ja};this.Bf=function(a){a=!!a;ja!==a&&(ja=a,this.bm("debug"))};this.ox=function(){return ha};this.uM=function(a){IPCC.aJ.kK(a,"value",IPCC.Web.UI.DebugErrorLevel);ha!==
a&&(ha=a,this.bm("debugErrorLevel"))};this.ix=function(a){W.addHandler("propertyChanged",a)};this.mP=function(a){W.removeHandler("propertyChanged",a)};this.aEZ=function(a){W.addHandler("thumbnailSelectionChanged",a)};this.aGg=function(a){W.removeHandler("thumbnailSelectionChanged",a)};this.axL=function(a){W.addHandler("pageSelectionChanged",a)};this.azM=function(a){W.removeHandler("pageSelectionChanged",a)};this.axX=function(a){W.addHandler("pageAddFailed",a)};this.azX=function(a){W.removeHandler("pageAddFailed",
a)};var U;this.fQ=function(){return U};this.pQ=function(a){U=a};this.Db=this.sm=0;this.aR=function(a,b){try{var c=W.getHandler(a);null!==c&&c(B,b)}catch(d){B.K(a+"Event",d)}};this.bm=function(a){var b=W.getHandler("propertyChanged");b&&b(this,new IPCC.qY(a))};this.aGj=function(a){if(void 0===IPCC.Web.UI.Thumbnailcounter||null===IPCC.Web.UI.Thumbnailcounter)IPCC.Web.UI.Thumbnailcounter=1;a=a+"_"+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;return a};this.aFI=function(a){return a+
"__tViewId"};this.Xg=function(){if(void 0===da||null===da)da=1;var a=this.fQ().id.toString()+"_"+da.toString();da++;return a};this.WS=function(a){if(0<IPCC.Web.mI.length)if(Array.prototype.indexOf){if(0<=IPCC.Web.mI.indexOf(a))return!0}else if(0<=IPCC.Web.mI.aDm(a))return!0};var I=0;this.dR=function(){var a;if((a=A[0])&&a.ad){a.ad.bP.get_pages().get_length();var b;b=A.length;for(a=0;a<b;a++)if(A[a].ad){document.getElementById(A[a].gX);var c;c=document.getElementById(A[a].kH).ak;!1===A[a].fu&&(B.get_artServiceOption()===
IPCC.Web.UI.ImGearArtDataServices.ArtDataService?!0===A[a].zU?A[a].bU&&!1===A[a].jx&&(c.openPage({encodedDocumentIdentifier:A[a].ad.bP.get_encodedDocumentIdentifier(),pageNumber:A[a].ad.get_pageNumber(),artPage:A[a].bU,imaGearPage:A[a].ad}),I++,A[a].ja=!0):!1===A[a].jx&&(c.openPage({encodedDocumentIdentifier:A[a].ad.bP.get_encodedDocumentIdentifier(),pageNumber:A[a].ad.get_pageNumber(),imageServiceOption:B.get_artServiceOption(),imaGearPage:A[a].ad}),I++,A[a].ja=!0):!1===A[a].imageDataRequested&&
!1===A[a].jx&&0===I&&(c.openPage({encodedDocumentIdentifier:A[a].ad.bP.get_encodedDocumentIdentifier(),pageNumber:A[a].ad.get_pageNumber(),imaGearPage:A[a].ad}),A[a].ja=!0));c&&(c.display(),!0===A[a].gh&&c.set_selected(!0))}k()}};this.aAs=function(){var a=A[0];d();H(a)};this.aAJ=function(){var a=A[A.length-1];d();H(a)};this.azS=function(){for(var a,b,c=0;c<A.length;c++)if(b=A[c],!0===b.gh){a=b;break}a&&c<=A.length-1&&0<c&&(c--,a=A[c],d(),H(a))};this.aAU=function(){var a,b,c=A.length-1;for(c;0<=c;c--)if(b=
A[c],!0===b.gh){a=b;break}a&&c<=A.length-2&&0<=c&&(c++,a=A[c],d(),H(a))};this.azv=function(){var a=document.getElementById(T);aa===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection?a.scrollLeft=0:a.scrollTop=0};this.azj=function(){var a=document.getElementById(T);aa===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection?a.scrollLeft=a.scrollWidth:a.scrollTop=a.scrollHeight};this.aAA=function(){var a,b,c;for(c=0;c<A.length;c++)if(b=A[c],!0===b.gh){a=b;!1===a.jx&&H(a);break}b=document.getElementById(T);
a&&a.gX&&(aa===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection?(a=document.getElementById(a.gX),b.scrollLeft=a.offsetLeft):(a=document.getElementById(a.gX),b.scrollTop=a.offsetTop))};this.aAb=function(){var a=document.getElementById(A[0].gX),b=document.getElementById(T),c;aa===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection?(c=b.scrollLeft+a.clientWidth+a.clientLeft,b.scrollLeft=c):(c=b.scrollTop,b.scrollTop=c+a.clientHeight+a.clientTop)};this.aAB=function(){var a=document.getElementById(A[0].gX),
b=document.getElementById(T),c;aa===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection?(c=b.scrollLeft,c-=a.clientWidth+a.clientLeft,b.scrollLeft=0<c?c:0):(c=b.scrollTop-(a.clientHeight+a.clientTop),b.scrollTop=0<c?c:0)};this.aAq=function(a){for(var b,c=0;c<A.length;c++)b=A[c],(b=document.getElementById(b.kH).ak)&&b.saveArtPage();a&&a()};this.atf=function(){0<B.lj.get_length()&&B.lj.removeAllDocuments();A=[]};this.aFu=function(){return Da};this.aEN=function(a){IPCC.aJ.jf(a,"value");Da=a;
this.bm("imageServicePath")};this.Kp=function(){return x};this.Ix=function(a){IPCC.aJ.jf(a,"value");x=a};this.aec=function(){return M};this.ars=function(){return ga};this.anG=function(a){ga=a;this.bm("useDefaultStyling")};this.asq=function(){return Ka};this.aoo=function(a){Ka=a;this.bm("thumbnailBorderColor")};this.ass=function(){return la};this.aoV=function(a){la=a;this.bm("thumbnailBorderWidth")};this.xs=function(a){if(a!==IPCC.Web.UI.ImGearArtDataServices.None&&a!==IPCC.Web.UI.ImGearArtDataServices.ArtDataService)throw new IPCC.Web.UI.ImGearArgumentException("type",
"The value must be a member of the IPCC.Web.UI.ImGearArtDataServices enumeration.");K=a};this.yi=function(){return K};this.VL=function(){return this.lj};this.aEG=function(){return Aa};this.aoy=function(a){IPCC.aJ.jf(a,"value");Aa=a;this.bm("thumbnailCaptionFormat")};this.aec=function(){return M};this.aob=function(a){M!==a&&(M=a,this.bm("pageViewClientId"))};this.arL=function(){return aa};this.aoN=function(a){aa=a;this.bm("thumbnailsLayout")};this.arG=function(){return ka};this.aoH=function(a){if(a!==
IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple&&a!==IPCC.Web.UI.ImGearThumbnailSelectionMode.Single)throw new IPCC.Web.UI.ImGearArgumentException("type","The value must be a member of the IPCC.Web.UI.ImGearThumbnailSelectionMode enumeration.");ka=a;ka===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple&&(ta.akq=!1);this.bm("selectionMode")};this.LQ=function(){return fb};this.Jx=function(a){fb=a;this.bm("enabled")};this.ata=function(){return h};this.anH=function(a){h=a;this.bm("thumbnailWidth")};
this.asP=function(){return Na};this.anQ=function(a){Na=a;this.bm("thumbnailHeight")};this.asn=function(){return Ga};this.aoF=function(a){Ga=a;this.bm("thumbnailBackgroundColor")};this.arJ=function(){return ob};this.aoS=function(a){ob=a;this.bm("thumbnailSelectedBackgroundColor")};this.aew=function(){return pa};this.anV=function(a){pa=a;this.bm("xSpacing")};this.arQ=function(){return Oa};this.anT=function(a){Oa=a;this.bm("ySpacing")};this.asx=function(){return!1};this.asB=function(){return ta};var G;
this.tZ=function(a){G=a};this.nY=function(){return G};this.ho=function(a){for(var b=0;b<A.length;b++){var c=A[b];if(a===c.ad&&(c=document.getElementById(c.kH).ak))return c.get_artPage()}return null};this.aoA=function(a){Z=a};this.asA=function(){return Z};this.apb=function(a){kb=a};this.asO=function(){return kb};this.aqL=function(a){z=a};this.art=function(){return z};var Ia=!1;this.oe=function(){return Ia};this.rM=function(a){Ia!==a&&(Ia=a,this.bm("requireRequestsOptimize"))};var X=!1;this.ej=function(){return X};
this.jF=function(a){"boolean"===typeof a&&a!==X&&(X=a)};this.initialize=function(){this.fQ();var a=this.fQ(),b;for(b=a.childNodes.length-1;0<=b;b--)"INPUT"!==a.childNodes[b].tagName&&a.removeChild(a.childNodes[b]);this.lj.add_documentAdded(p);this.lj.add_pageAdded(D);this.lj.add_pageRemoved(J);this.lj.add_pageChanged(L);this.lj.add_documentChanged(F);this.Jx(!0);a.ak=this}};
IPCC.Web.UI.ImGearThumbnailList.prototype={dispose:function(){this.aO("dispose",arguments);this.atf();this.Jx(!1)},get_debug:function(){try{var a=this.sz();this.bh("get_debug",arguments,a);return a}catch(b){throw this.K("get_debug",b),b;}},set_debug:function(a){try{this.aO("set_debug",arguments);var b=this.sz();this.Bf(a);b||this.aO("set_debug",arguments)}catch(d){throw this.K("set_debug",d),d;}},get_debugErrorLevel:function(){try{var a=this.ox();this.bh("get_debugErrorLevel",arguments,a);return a}catch(b){throw this.K("get_debugErrorLevel",
b),b;}},set_debugErrorLevel:function(a){try{this.aO("set_debugErrorLevel",arguments);var b=this.ox();this.uM(a);b<IPCC.Web.UI.DebugErrorLevel.Development&&this.aO("set_debugErrorLevel",arguments)}catch(d){throw this.K("set_debugErrorLevel",d),d;}},add_pageSelectionChanged:function(a){try{this.axL(a)}catch(b){throw this.K("add_pageSelectionChanged",b),b;}},remove_pageSelectionChanged:function(a){try{this.azM(a)}catch(b){throw this.K("remove_pageSelectionChanged",b),b;}},add_pageAddFailed:function(a){try{this.axX(a)}catch(b){throw this.K("add_pageAddFailed",
b),b;}},remove_pageAddFailed:function(a){try{this.azX(a)}catch(b){throw this.K("remove_pageAddFailed",b),b;}},add_mouseDown:function(a){try{this.Bz(a)}catch(b){throw this.K("add_mouseDown",b),b;}},remove_mouseDown:function(a){try{this.DV(a)}catch(b){throw this.K("remove_mouseDown",b),b;}},add_mouseMove:function(a){try{this.Bm(a)}catch(b){throw this.K("add_mouseMove",b),b;}},remove_mouseMove:function(a){try{this.Ed(a)}catch(b){throw this.K("remove_mouseMove",b),b;}},add_mouseUp:function(a){try{this.CE(a)}catch(b){throw this.K("add_mouseUp",
b),b;}},remove_mouseUp:function(a){try{this.Ef(a)}catch(b){throw this.K("remove_mouseUp",b),b;}},add_propertyChanged:function(a){try{this.add_propertyChanged(a)}catch(b){throw this.K("add_propertyChanged",b),b;}},remove_propertyChanged:function(a){try{this.mP(a)}catch(b){throw this.K("remove_propertyChanged",b),b;}},writeToLog:function(a){try{this.iB(a)}catch(b){throw this.K("writeToLog",b),b;}},get_documents:function(){return this.VL()},get_controlStateElementId:function(){try{var a=this.Kp();this.bh("get_controlStateElementId",
arguments,a);return a}catch(b){throw this.K("get_controlStateElementId",b),b;}},set_controlStateElementId:function(a){try{this.aO("set_controlStateElementId",arguments),this.Ix(a)}catch(b){throw this.K("set_controlStateElementId",b),b;}},get_useDefaultStyling:function(){try{var a=this.ars();this.bh("get_get_useDefaultStyling",arguments,a);return a}catch(b){throw this.K("get_useDefaultStyling",b),b;}},set_useDefaultStyling:function(a){try{this.aO("set_useDefaultStyling",arguments),this.anG(a)}catch(b){throw this.K("set_useDefaultStyling",
b),b;}},get_selectedPages:function(){try{var a=this.asB();this.bh("get_currentSelectedPages",arguments,a);return a}catch(b){throw this.K("get_currentSelectedPages",b),b;}},get_artDataChanged:function(){try{var a=this.asx();this.bh("get_artDataChanged",arguments,a);return a}catch(b){throw this.K("get_artDataChanged",b),b;}},get_xSpacing:function(){try{var a=this.aew();this.bh("get_xSpacing",arguments,a);return a}catch(b){throw this.K("get_xSpacing",b),b;}},set_xSpacing:function(a){try{this.aO("set_xSpacing",
arguments),this.anV(a)}catch(b){throw this.K("set_xSpacing",b),b;}},get_ySpacing:function(){try{var a=this.arQ();this.bh("get_ySpacing",arguments,a);return a}catch(b){throw this.K("get_ySpacing",b),b;}},set_ySpacing:function(a){try{this.aO("set_ySpacing",arguments),this.anT(a)}catch(b){throw this.K("set_ySpacing",b),b;}},get_thumbnailHeight:function(){try{var a=this.asP();this.bh("get_thumbnailHeight",arguments,a);return a}catch(b){throw this.K("get_thumbnailHeight",b),b;}},set_thumbnailHeight:function(a){try{this.aO("set_thumbnailHeight",
arguments),this.anQ(a)}catch(b){throw this.K("set_thumbnailHeight",b),b;}},get_thumbnailWidth:function(){try{var a=this.ata();this.bh("get_thumbnailWidth",arguments,a);return a}catch(b){throw this.K("get_thumbnailWidth",b),b;}},set_thumbnailWidth:function(a){try{this.aO("set_thumbnailWidth",arguments),this.anH(a)}catch(b){throw this.K("set_thumbnailWidth",b),b;}},get_thumbnailBackgroundColor:function(){try{var a=this.asn();this.bh("get_thumbnailBackgroundColor",arguments,a);return a}catch(b){throw this.K("get_thumbnailBackgroundColor",
b),b;}},set_thumbnailBackgroundColor:function(a){try{this.aO("set_thumbnailBackgroundColor",arguments),this.aoF(a)}catch(b){throw this.K("set_thumbnailBackgroundColor",b),b;}},get_thumbnailSelectedBackgroundColor:function(){try{var a=this.arJ();this.bh("get_thumbnailSelectedBackgroundColor",arguments,a);return a}catch(b){throw this.K("get_thumbnailSelectedBackgroundColor",b),b;}},set_thumbnailSelectedBackgroundColor:function(a){try{this.aO("set_thumbnailSelectedBackgroundColor",arguments),this.aoS(a)}catch(b){throw this.K("set_thumbnailSelectedBackgroundColor",
b),b;}},get_thumbnailBorderWidth:function(){try{var a=this.ass();this.bh("get_thumbnailBorderWidth",arguments,a);return a}catch(b){throw this.K("get_thumbnailBorderWidth",b),b;}},set_thumbnailBorderWidth:function(a){try{this.aO("set_thumbnailBorderWidth",arguments),this.aoV(a)}catch(b){throw this.K("set_thumbnailBorderWidth",b),b;}},get_thumbnailBorderColor:function(){try{var a=this.asq();this.bh("get_thumbnailBorderColor",arguments,a);return a}catch(b){throw this.K("get_thumbnailBorderColor",b),
b;}},set_thumbnailBorderColor:function(a){try{this.aO("set_thumbnailBorderColor",arguments),this.aoo(a)}catch(b){throw this.K("set_thumbnailBorderColor",b),b;}},get_resourcePath:function(){try{var a=this.nY();this.bh("get_resourcePath",arguments,a);return a}catch(b){throw this.K("get_resourcePath",b),b;}},set_resourcePath:function(a){try{this.aO("set_resourcePath",arguments),this.tZ(a)}catch(b){throw this.K("set_resourcePath",b),b;}},get_pageViewClientId:function(){try{var a=this.aec();this.bh("get_pageViewClientId",
arguments,a);return a}catch(b){throw this.K("get_pageViewClientId",b),b;}},set_pageViewClientId:function(a){try{this.aO("set_pageViewClientId",arguments),this.aob(a)}catch(b){throw this.K("set_pageViewClientId",b),b;}},get_selectionMode:function(){try{var a=this.arG();this.bh("selectionMode",arguments,a);return a}catch(b){throw this.K("get_selectionMode",b),b;}},set_selectionMode:function(a){try{this.aO("set_selectionMode",arguments),this.aoH(a)}catch(b){throw this.K("set_selectionMode",b),b;}},get_layout:function(){try{var a=
this.arL();this.bh("getthumbnailsLayout",arguments,a);return a}catch(b){throw this.K("get_thumbnailsLayout",b),b;}},set_layout:function(a){try{this.aO("set_thumbnailsLayout",arguments),this.aoN(a)}catch(b){throw this.K("set_thumbnailsLayout",b),b;}},get_enabled:function(){try{var a=this.LQ();this.bh("get_enabled",arguments,a);return a}catch(b){throw this.K("get_enabled",b),b;}},get_thumbnailCaptionFormat:function(){try{var a=this.aew();this.bh("get_thumbnailCaptionFormat",arguments,a);return a}catch(b){throw this.K("get_thumbnailCaptionFormat",
b),b;}},set_thumbnailCaptionFormat:function(a){try{this.aO("set_thumbnailCaptionFormat",arguments),this.aoy(a)}catch(b){throw this.K("set_thumbnailCaptionFormat",b),b;}},get_artServiceOption:function(){try{var a=this.yi();this.bh("get_artServiceOption",arguments,a);return a}catch(b){throw this.K("get_artServiceOption",b),b;}},set_artServiceOption:function(a){try{this.aO("set_artServiceOption",arguments),this.xs(a)}catch(b){throw this.K("set_artServiceOption",b),b;}},selectPreviousThumbnail:function(){try{this.aO("selectPreviousThumbnail",
arguments,1),this.azS()}catch(a){throw this.K("selectPreviousThumbnail",a),a;}},selectNextThumbnail:function(){try{this.aO("selectNextThumbnail",arguments,1),this.aAU()}catch(a){throw this.K("selectNextThumbnail",a),a;}},selectFirstThumbnail:function(){try{this.aO("selectFirstThumbnail",arguments,1),this.aAs()}catch(a){throw this.K("selectFirstThumbnail",a),a;}},selectLastThumbnail:function(){try{this.aO("selectLastThumbnail",arguments,1),this.aAJ()}catch(a){throw this.K("selectLastThumbnail",a),
a;}},scrollToNextBand:function(){try{this.aO("scrollToNextBand",arguments,1),this.aAb()}catch(a){throw this.K("scrollToNextBand",a),a;}},scrollToPreviousBand:function(){try{this.aO("scrollToPreviousBand",arguments,1),this.aAB()}catch(a){throw this.K("scrollToPreviousBand",a),a;}},scrollToFirstThumbnail:function(){try{this.aO("scrollToFirst",arguments,1),this.azv()}catch(a){throw this.K("scrollToFirst",a),a;}},scrollToLastThumbnail:function(){try{this.aO("scrollToFirst",arguments,1),this.azj()}catch(a){throw this.K("scrollToFirst",
a),a;}},scrollToSelectedThumbnail:function(){try{this.aO("ScrollToSelectedThumbnail",arguments,1),this.aAA()}catch(a){throw this.K("ScrollToSelectedThumbnail",a),a;}},saveArtData:function(a){try{this.aO("saveArtData",arguments,1),this.aAq(a)}catch(b){throw this.K("saveArtData",b),b;}},getArtPage:function(a){try{var b=this.ho(a);this.vD("getArtPage",arguments,b,1);return b}catch(d){throw this.K("getArtPage",d),d;}},display:function(){try{this.aO("display",arguments,1),this.dR()}catch(a){throw this.K("display",
a),a;}},get_requireRequestsOptimize:function(){try{var a=this.oe();this.bh("get_requireRequestsOptimize",arguments,a);return a}catch(b){throw this.K("oe",b),b;}},set_requireRequestsOptimize:function(a){try{this.aO("set_requireRequestsOptimize",arguments),this.rM(a)}catch(b){throw this.K("set_requireRequestsOptimize",b),b;}},get_pageViewFitType:function(){try{var a=this.asA();this.bh("get_pageViewFitType",arguments,a);return a}catch(b){throw this.K("get_pageViewFitType",b),b;}},set_pageViewFitType:function(a){try{this.aO("set_pageViewFitType",
arguments),this.aoA(a)}catch(b){throw this.K("set_pageViewFitType",b),b;}},get_pageViewRotationDegreesClockwise:function(){try{var a=this.asO();this.bh("get_pageViewRotationDegreesClockwise",arguments,a);return a}catch(b){throw this.K("get_pageViewRotationDegreesClockwise",b),b;}},set_pageViewRotationDegreesClockwise:function(a){try{this.aO("set_pageViewRotationDegreesClockwise",arguments),this.apb(a)}catch(b){throw this.K("set_pageViewRotationDegreesClockwise",b),b;}},get_pageViewZoomFactor:function(){try{var a=
this.art();this.bh("get_pageViewZoomFactor",arguments,a);return a}catch(b){throw this.K("get_pageViewZoomFactor",b),b;}},set_pageViewZoomFactor:function(a){try{this.aO("set_pageViewZoomFactor",arguments),this.aqL(a)}catch(b){throw this.K("set_pageViewZoomFactor",b),b;}},get_encryption:function(){try{var a=this.ej();this.bh("get_encryption",arguments,a);return a}catch(b){throw this.K("get_encryption",b),b;}},set_encryption:function(a){try{this.aO("set_encryption",arguments),this.jF(a)}catch(b){throw this.K("set_encryption",
b),b;}}};IPCC.Web.UI.ImGearThumbnailList.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearThumbnailList.registerClass("IPCC.Web.UI.ImGearThumbnailList",IPCC.Sys.UI.Control);IPCC.Type.registerNamespace("IPCC");IPCC.PageLayout=function(){};IPCC.PageLayout.registerEnum=IPCC.Web.regEnum;IPCC.PageLayout.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};IPCC.PageLayout.registerEnum("IPCC.PageLayout",!1);IPCC.ViewMode=function(){};IPCC.ViewMode.registerEnum=IPCC.Web.regEnum;
IPCC.ViewMode.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};IPCC.ViewMode.registerEnum("IPCC.ViewMode",!1);IPCC.FitType=function(){};IPCC.FitType.registerEnum=IPCC.Web.regEnum;IPCC.FitType.prototype={FitToWidth:0,ShrinkToWidth:1,ActualSize:2,FitToHeight:3,BestFit:4};IPCC.FitType.registerEnum("IPCC.FitType",!1);IPCC.ScaleTrigger=function(){};IPCC.ScaleTrigger.registerEnum=IPCC.Web.regEnum;IPCC.ScaleTrigger.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};
IPCC.ScaleTrigger.registerEnum("IPCC.ScaleTrigger",!1);IPCC.PageEventArgs=function(){return this};IPCC.PageEventArgs.registerClass=IPCC.Web.regClass;IPCC.PageEventArgs.prototype={};IPCC.PageEventArgs.registerClass("IPCC.PageEventArgs");IPCC.ExceptionEventArgs=function(){return this};IPCC.ExceptionEventArgs.registerClass=IPCC.Web.regClass;IPCC.ExceptionEventArgs.prototype={};IPCC.ExceptionEventArgs.registerClass("IPCC.ExceptionEventArgs");IPCC.OpenPageEventArgs=function(){return this};
IPCC.OpenPageEventArgs.registerClass=IPCC.Web.regClass;IPCC.OpenPageEventArgs.prototype={};IPCC.OpenPageEventArgs.registerClass("IPCC.OpenPageEventArgs");IPCC.Pagecounter=1;
IPCC.PageList=function(a){function b(a,b){X.addHandler(a,b)}function d(a,b){X.removeHandler(a,b)}function c(a){IPCC.Web.UI.aE.removeHandler(a.target,Ta,c);IPCC.Web.UI.aE.removeHandler(a.target,ib,c);Ab>Q?(I.fg(a.target,"pccNextPageIn"),I.fg(a.target,"pccPreviousPageIn"),I.fg(a.target,"pccCurrentPage"),I.fg(a.target,"pccPageBack"),I.fg(a.target,"pccPageForward"),I.kc(a.target,"pccNextPage")):Ab<Q&&(I.fg(a.target,"pccNextPageIn"),I.fg(a.target,"pccPreviousPageIn"),I.fg(a.target,"pccCurrentPage"),I.fg(a.target,
"pccPageBack"),I.fg(a.target,"pccPageForward"),I.kc(a.target,"pccPreviousPage"));I.fg(P,"pccPageListContainerPageChanging");O.style.overflow="auto";Ea=null;P.style.overflow="hidden";a=IPCC.bg.filter(ba,function(a){return a.ag===Q+1});ja(a);setTimeout(function(){u(!0)},60)}function e(a,b){if(!(0>=ea)){var c=ea,d=Ba,e=96/v[0].hF;!0===f(Xa)&&(c=Ba,d=ea,e=96/v[0].hd);var h=1,h=na===IPCC.PageLayout.VerticalScrollDirection?(O.clientWidth-W()-(Fa+ua+xa+Ya))/(c*e):(O.clientHeight-(qa+Ca+Za+bb))/(d*e),g;R<=
h?g=!1:R>h&&(g=!0);if(!(isNaN(h)||0>=h||Infinity===Math.abs(h))){R=h;ra=oa=0;for(var h=v.length-1,p=0,p=0;p<=h;p++){var k;v[p].bf&&(k=document.getElementById(v[p].bf).ak);var l=document.getElementById(v[p].bf),n=c,m=d;0<v[p].ap&&(!0===f(v[p].hI)?(n=v[p].ah,m=v[p].ap):(n=v[p].ap,m=v[p].ah));var q=1;na===IPCC.PageLayout.VerticalScrollDirection?(q=c/n*R*e,l.style.width=c*R*e+"px",l.style.height=m*q+"px",c*R*e>oa&&(oa=c*R*e),m*q*96/v[p].hd>ra&&(ra=m*q*e)):(q=d/m*R,l.style.height=d*R*e+"px",l.style.width=
n*q*e+"px",n*R*96/v[p].hF>oa&&(oa=n*R*e),d*q*e>ra&&(ra=d*q*e));k&&!0===v[p].fu&&!0===k.gv()&&k.zoom(q);k&&!0===v[p].fu&&!0===k.gv()&&k.display()}U(!0);u(!0);setTimeout(function(){ka(ba);da(ba)},0);I.aR("scaleChanged",{scaleType:g?"scaledDown":"scaledUp",scaleTrigger:a,fitType:b,scaleFactor:R})}}}function f(a){switch(a){case 90:case 270:case -90:case -270:return!0;default:return!1}}function g(a){var b=document.createElement("div"),c;for(c in a)a.hasOwnProperty(c)&&(b.style[c]=a[c]);return b}function k(a,
b){a=b.imGearDocument;b=I.Xg();a.qz=b;b=a.get_pages();var c=b.get_length();if(0<c){for(var d=document.createDocumentFragment(),f=0;f<c;f++){var e=b.getPage(f);e.bP||(e.bP=a);n(e,d)}P.appendChild(d)}}function m(a,b){0===b.imGearPage.get_pageNumber()?n(b.imGearPage):(Db.push(b.imGearPage),Kb())}function q(a,b){a=b.imGearPage.get_pageNumber();b=b.imGearPage.bP.get_documentIdentifier();for(var c=0;c<v.length;c++)if(v[c].ad.get_pageNumber()===a&&v[c].ad.bP.get_documentIdentifier()===b){var d=document.getElementById(v[c].bf);
P.removeChild(d);d.ak&&(d.ak.dispose(),d=IPCC.bg.filter(ba,function(a){return a.ag===v[c].dI+1}),T(d));d=-1;d=Array.prototype.indexOf?fa.indexOf(a):IPCC.Web.hk(fa,a);-1!==d&&fa.splice(d,1);v.splice(c,1)}}function n(a,b){var c=a.get_pageNumber(),d;I.fQ();var e,k,l=0,n,q=I.get_documents().get_length();for(n=0;n<q&&(e=I.get_documents().getDocument(n),null===e||(k=e.qz,k!==a.bP.qz));n++);for(n=0;n<v.length;n++)v[n].bP&&(e=v[n].bP,0===n?l++:v[n-1].bP!==e&&l++);for(n=v.length-1;0<=n;n--)if(v[n].ad&&v[n].ad===
a)return;e=!0;var m,G;for(n=0;n<v.length;n++)if(l=v[n],1===l.DE&&a.bP.qz===l.Ar){d=document.getElementById(l.bf);l.DE=0;m=l.bf;e=!1;G=l;break}for(n=v.length-1;0<=n&&(!v[n].ad||v[n].ad.bP!==a.bP);n--);""===P&&ob();!0===e&&(m=a.bP.qz+"_"+IPCC.Pagecounter.toString(),IPCC.Pagecounter++);m+="__pViewId";if(Y!==IPCC.ViewMode.SinglePage||0===c)Y!==IPCC.ViewMode.SinglePage?(d=g({overflow:"hidden",position:"relative"}),d.className+=" pccPageListItem"):(d=g({overflow:"hidden",position:"absolute",margin:"0px"}),
d.className="pccPageListItem pccCurrentPage",Pa.push(0)),0<ea?!0===f(Xa)?(d.style.width=Ba*R*96/v[0].hF+"px",d.style.height=ea*R*96/v[0].hd+"px"):(d.style.width=ea*R*96/v[0].hF+"px",d.style.height=Ba*R*96/v[0].hd+"px"):(n=P.clientWidth-Fa-ua,0<n&&(d.style.width=n+"px",d.style.height=.8*P.clientWidth+"px")),na===IPCC.PageLayout.VerticalScrollDirection||Y===IPCC.ViewMode.SinglePage?(d.style.display="block",0<ea&&(d.style.margin=qa+"px auto "+Ca+"px auto")):(d.style.display="inline-block",0<ea&&(d.style.margin=
qa+"px "+Fa+"px "+Ca+"px "+ua+"px")),d.setAttribute("id",m);!0===e&&(G=new IPCC.cl({page:a}));F(a);J(a);L(a);G.bf=m;G.ad=a;G.Ar=k;G.fu=!1;G.bU=new IPCC.Web.UI.ArtPage;G.dZ=new IPCC.Web.UI.ArtPage;G.hI=Xa;B(G);x(G);K(G);M(G);Z(G);Da(G);A(G);h(G);Ga(G);Oa(G);G.zU=!1;G.bP=a.bP;G.jx=!1;G.dI=c;var z;if(e)if(0===v.length)P.appendChild(d),v.push(G);else if(b)Y!==IPCC.ViewMode.SinglePage&&b.appendChild(d),v.push(G);else{for(n=0;n<v.length;n++)if(l=v[n],l.Ar===k&&l.ad&&(b=l.ad.get_pageNumber(),c<b)){v.splice(n,
0,G);c=document.getElementById(l.bf);P.insertBefore(d,c);z=!0;break}z||(Y!==IPCC.ViewMode.SinglePage&&P.appendChild(d),v.push(G))}2>v.length&&(c=new IPCC.Web.UI.PageView(document.getElementById(m),!1),c.set_autoUpdate(!1),c.pQ(document.getElementById(m)),c.initialize(),c.set_imageHandlerUrl(a.bP.nD),c.set_imGearPage(G.ad),c.set_artPage(G.bU),c.set_documentArtPage(G.dZ),c.set_requireRequestsOptimize(Bb),void 0!==qb&&c.set_serviceResponseTimeout(qb),c.set_scrollBars(IPCC.Web.UI.ScrollBars.None),c.set_textRequired(ub),
c.set_markHandleMode(vb),c.set_cursor(-1),c.set_debug(Ha),c.set_debugErrorLevel(eb),c.jF(I.ej()),rb&&c.set_resourcePath(rb),Ja?c.JM(Ja()):c.set_mouseTool(IPCC.Web.UI.MouseTool.None),c.qi(I.mt()),t(c,G),y(c),D(c),p(c),H(c),k=new IPCC.OpenPageEventArgs,k.pageIndex=G.ad.get_pageNumber(),k.imGearPage=G.ad,k.viewRotationDegreesClockwise=G.hI,k.pageNodeID=G.bf,I.aR("pageOpening",k),c.openPage({encodedDocumentIdentifier:a.bP.get_encodedDocumentIdentifier(),pageNumber:a.get_pageNumber(),artServiceOption:0,
imGearPage:G.ad,artPage:G.bU,documentArtPage:G.dZ,viewRotationDegreesClockwise:G.hI}),G.ja=!0,Wa++);return d}function u(a){if(!(0<Wa||!1===wa||null!==Ea)){var b;a=r(a);0<=a&&(b=a);if(void 0!==b&&0<=b&&b<v.length){b=v[b];if(Y===IPCC.ViewMode.SinglePage&&null===document.getElementById(b.bf)){var c=g({overflow:"hidden",position:"absolute",margin:"0px"});c.className="pccPageListItem";Pa.push(b.dI);b.dI>Q?I.kc(c,"pccNextPage"):b.dI<Q?I.kc(c,"pccPreviousPage"):I.kc(c,"pccCurrentPage");0<ea?!0===f(Xa)?(c.style.width=
Ba*R*96/v[0].hF+"px",c.style.height=ea*R*96/v[0].hd+"px"):(c.style.width=ea*R*96/v[0].hF+"px",c.style.height=Ba*R*96/v[0].hd+"px"):(c.style.width=P.clientWidth-Fa-ua+"px",c.style.height=.8*P.clientWidth+"px");c.style.display="block";c.setAttribute("id",b.bf);a=c;P.appendChild(c)}else a=document.getElementById(b.bf);null!==a&&(a=new IPCC.Web.UI.PageView(document.getElementById(b.bf),!1),a.set_autoUpdate(!1),a.pQ(document.getElementById(b.bf)),a.initialize(),a.set_imageHandlerUrl(b.bP.nD),a.set_imGearPage(b.ad),
a.set_artPage(b.bU),a.set_requireRequestsOptimize(Bb),void 0!==qb&&a.set_serviceResponseTimeout(qb),a.set_scrollBars(IPCC.Web.UI.ScrollBars.None),a.set_textRequired(ub),a.set_markHandleMode(vb),a.set_cursor(-1),a.set_debug(Ha),a.set_debugErrorLevel(eb),a.jF(I.ej()),rb&&a.set_resourcePath(rb),Ja?a.JM(Ja()):a.set_mouseTool(IPCC.Web.UI.MouseTool.None),a.qi(I.mt()),t(a,b),y(a),D(a),p(a),H(a),!1===b.jx&&b.ad&&(c=new IPCC.OpenPageEventArgs,c.pageIndex=b.ad.get_pageNumber(),c.imGearPage=b.ad,c.viewRotationDegreesClockwise=
b.hI,c.pageNodeID=b.bf,I.aR("pageOpening",c),c={encodedDocumentIdentifier:b.ad.bP.get_encodedDocumentIdentifier(),pageNumber:b.ad.get_pageNumber(),imGearPage:b.ad,viewRotationDegreesClockwise:b.hI},b.bU&&(c.artPage=b.bU),b.dZ&&(c.documentArtPage=b.dZ),a.openPage(c),b.ja=!0,Wa++))}}}function r(a){U();var b,c=1,c=mb;c>za&&(c=za);!1===a&&(c=0);for(var d=S;d<=sa;d++)if(!1===v[d].ja&&!1===v[d].uy)if(!1===v[d].jx&&void 0===b){b=d;break}else if(a){var f=document.getElementById(v[d].bf);!1===v[d].fu&&I.wf(f,
d)}0===wb&&!0===a&&(wb++,setTimeout(function(){!0===wa&&E()},60));if(void 0!==b)return b;if(0<za){a=-1;if(0<=Va){if(Va<yb&&0!==Va)return C(za,c);a=C(za,c);-1===a&&(a=l(za,c));Va=-Va;return a}if(0>Va){if(Va>-yb)return l(za,c);a=l(za,c);-1===a&&(a=C(za,c));Va=-Va;return a}}return-1}function l(a,b){for(var c,d=S-1;d>S-1-a;d--)if(!(0>d)&&!1===v[d].ja&&!1===v[d].uy)if(!1===v[d].jx&&void 0===c){c=d;break}else if(d>=S-b){var f=document.getElementById(v[d].bf);!1===v[d].fu&&I.wf(f,d)}return void 0!==c?c:
-1}function C(a,b){for(var c,d=sa+1;d<sa+1+a;d++)if(!(d>=v.length)&&!1===v[d].ja&&!1===v[d].uy)if(!1===v[d].jx&&void 0===c){c=d;break}else if(d<=sa+b){var f=document.getElementById(v[d].bf);!1===v[d].fu&&I.wf(f,d)}return void 0!==c?c:-1}function E(){function a(b,c){var d=-1,d=Array.prototype.indexOf?c.indexOf(b):IPCC.Web.hk(c,b);-1!==d&&c.splice(d,1);Y===IPCC.ViewMode.SinglePage&&(c=-1,c=Array.prototype.indexOf?Pa.indexOf(b):IPCC.Web.hk(Pa,b),-1!==c&&Pa.splice(c,1));v[b].jx=!1;v[b].ja=!1;v[b].fu=
!1;return(c=document.getElementById(v[b].bf))&&c.ak?(c.ak.dispose(),d=IPCC.bg.filter(ba,function(a){return a.ag===v[b].dI+1}),T(d),Y===IPCC.ViewMode.SinglePage&&c.parentNode.removeChild(c),b):-1}U();for(var b=-1,c=0;c<Ua.length;c++)(!1===wa||(Ua[c]<S-za||Ua[c]>sa+za)&&v[Ua[c]].bf)&&a(Ua[c],Ua);for(c=0;c<fa.length;c++)if(!1===wa||(fa[c]<S-mb||fa[c]>sa+mb)&&v[fa[c]].bf)if(!1===wa||(fa[c]<S-za||fa[c]>sa+za)&&v[fa[c]].bf||8===document.documentMode){if(b=a(fa[c],fa),-1!==b)break}else{var d=document.getElementById(v[fa[c]].bf);
d&&d.ak&&d.ak.avA();var d=fa[c],f=-1,f=Array.prototype.indexOf?fa.indexOf(d):IPCC.Web.hk(fa,d);-1!==f&&fa.splice(f,1);v[d].jx=!0;v[d].ja=!1;for(var f=v[d].fu=!1,e=0;e<Ua.length;e++)Ua[e]===d&&(f=!0);!1===f&&Ua.push(d)}if(Y===IPCC.ViewMode.SinglePage)for(c=Pa.length;0<=c;c--)if(d=Pa[c],!1===wa||(d<S-za||d>sa+za)&&v[d].bf)d=document.getElementById(v[d].bf),d.parentNode.removeChild(d),Pa.splice(c,1);0<wb&&wb--;!1===wa&&0===fa.length&&0<v.length?(v=[],b=I.fQ(),O.removeChild(P),b.removeChild(O)):-1!==
b&&(wb++,setTimeout(function(){E()},1E3))}function w(a,b){var c;a.forEachMark(function(a){switch(a.get_type()){case IPCC.Web.UI.MarkType.Line:a=a.get_points();var d=a.Ap(0),f=a.Ap(1);a.setPoint(0,new IPCC.Web.UI.Point(d.x*b,d.y*b));a.setPoint(1,new IPCC.Web.UI.Point(f.x*b,f.y*b));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextSelectionRedaction:c=
a.get_rectangle();a.set_rectangle({x:c.x*b,y:c.y*b,width:c.width*b,height:c.height*b});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:for(c=a.get_rectangle(),a.set_rectangle({x:c.x*b,y:c.y*b,width:c.width*b,height:c.height*b}),a=a.bj,f=0;f<a.length;f++)d=a[f],d.x*=b,d.y*=b,d.width*=b,d.height*=b}})}function t(a,b){a.add_pageOpened(function(c,d){var e=d.pageNumber,h=d.documentIdentifier;b.ap=a.get_pageWidth();
b.ah=a.get_pageHeight();c=a.get_pageXResolution();var g=a.get_pageYResolution();!isNaN(parseFloat(c))&&isFinite(c)&&(b.hF=c);!isNaN(parseFloat(g))&&isFinite(g)&&(b.hd=g);a=null;for(c=0;c<v.length;c++)if(wa&&v[c].ad.get_pageNumber()===e&&v[c].ad.bP.get_documentIdentifier()===h){v[c].ja=!1;v[c].jx=!0;v[c].uy=!1;Y===IPCC.ViewMode.SinglePage&&(e=-1,e=Array.prototype.indexOf?Pa.indexOf(c):IPCC.Web.hk(Pa,c),-1!==e&&Pa.splice(e,1));e=!1;for(h=0;h<Ua.length;h++)Ua[h]===c&&(e=!0);!1===e&&Ua.push(c);var p=
0,k=0,e=document.getElementById(v[c].bf),k=e.ak;if(0!==ea||0!==c&&!0!==v[0].uy){if(Y===IPCC.ViewMode.Document||Y===IPCC.ViewMode.SinglePage)!0===f(v[c].hI)?(p=k.get_pageHeight()*R*96/v[c].hF,k=k.get_pageWidth()*R*96/v[c].hd):(p=k.get_pageWidth()*R*96/v[c].hF,k=k.get_pageHeight()*R*96/v[c].hd);else{var l,p=k.get_pageWidth(),n=k.get_pageHeight(),h=ea,g=Ba;!0===f(Xa)&&(h=Ba,g=ea);!0===f(v[c].hI)&&(p=k.get_pageHeight(),n=k.get_pageWidth());na===IPCC.PageLayout.VerticalScrollDirection?(l=h/p*R*96/v[0].hd,
p=h*R*96/v[0].hF,k=n*l):(l=g/n*R*96/v[0].hF,k=g*R*96/v[0].hd,p*=l)}p!==Math.round(p)&&(p=Math.floor(100*p)/100);k!==Math.round(k)&&(k=Math.floor(100*k)/100);if(e.style.width!==p+"px"||e.style.height!==k+"px")e.style.width=p+"px",e.style.height=k+"px",ka(ba,!0),da(ba,!0)}else{e.currentStyle?(Za=parseInt(e.currentStyle.borderTopWidth,10)||0,qa=parseInt(e.currentStyle.marginTop,10)||0,xa=parseInt(e.currentStyle.borderLeftWidth,10)||0,Fa=parseInt(e.currentStyle.marginLeft,10)||0,bb=parseInt(e.currentStyle.borderBottomWidth,
10)||0,Ca=parseInt(e.currentStyle.marginBottom,10)||0,Ya=parseInt(e.currentStyle.borderRightWidth,10)||0,ua=parseInt(e.currentStyle.marginRight,10)||0):document.defaultView&&document.defaultView.getComputedStyle&&(h=document.defaultView.getComputedStyle(e),Za=parseInt(h.borderTopWidth,10)||0,qa=parseInt(h.marginTop,10)||0,xa=parseInt(h.borderLeftWidth,10)||0,Fa=parseInt(h.marginLeft,10)||0,bb=parseInt(h.borderBottomWidth,10)||0,Ca=parseInt(h.marginBottom,10)||0,Ya=parseInt(h.borderRightWidth,10)||
0,ua=parseInt(h.marginRight,10)||0);Y===IPCC.ViewMode.SinglePage?(e.style.margin=qa+"px 0px "+Ca+"px 0px",P.style.margin="0px auto"):na===IPCC.PageLayout.VerticalScrollDirection?e.style.margin=qa+"px auto "+Ca+"px auto":(e.style.margin=qa+"px "+Fa+"px "+Ca+"px "+ua+"px",P.style.margin="0px "+Fa+"px 0px "+ua+"px");ea=k.get_pageWidth();Ba=k.get_pageHeight();h=ea;g=Ba;l=96/v[c].hF;!0===f(v[c].hI)&&(g=ea,h=Ba,l=96/v[c].hd);I.avB();Y===IPCC.ViewMode.SinglePage?(p=O.offsetHeight-(qa+Ca+Za+bb+sb),$a=(O.offsetWidth-
(Fa+ua+xa+Ya))/(h*l),p/=g*l,p<$a&&($a=p)):$a=na===IPCC.PageLayout.VerticalScrollDirection?(O.offsetWidth-IPCC.Web.nC()-(Fa+ua+xa+Ya))/(h*l):(O.offsetHeight-IPCC.Web.nC()-(qa+Ca+Za+bb))/(g*l);k.zoom($a*l);p=h*$a*l;k=g*$a*l;e.style.width=p+"px";e.style.height=k+"px";Y===IPCC.ViewMode.SinglePage&&(P.style.width=p+"px",P.style.height=k+"px");if(Y!==IPCC.ViewMode.SinglePage)for(l=0;l<v.length;l++)!1===v[l].fu&&l!==c&&v[l].bf&&(e=document.getElementById(v[l].bf),e.style.width=h*$a+"px",e.style.height=g*
$a+"px",e.style.margin=na===IPCC.PageLayout.VerticalScrollDirection?qa+"px auto "+Ca+"px auto":qa+"px "+Fa+"px "+Ca+"px "+ua+"px");R=$a;e.ak.display();fa.push(0)}p>oa&&(oa=p,na===IPCC.PageLayout.VerticalScrollDirection&&(O.scrollLeft=(oa-O.clientWidth)/2));k>ra&&(ra=k,na===IPCC.PageLayout.HorizontalScrollDirection&&(O.scrollTop=(ra-O.clientHeight)/2));0<v[c].Ii&&(e=document.getElementById(v[c].bf).ak)&&(e.rotate(v[c].Ii),e.display(),v[c].Ii=0);0<Wa&&--Wa;!0===v[c].Bp&&v[c].ap!==ea&&(e=v[c].ap/ea,
(h=I.ho(v[c].ad))&&w(h,e));v[c].Bp=!1;U();e=new IPCC.OpenPageEventArgs;e.pageIndex=d.pageNumber;e.imGearPage=d.imGearPage;e.viewRotationDegreesClockwise=d.viewRotationDegreesClockwise;e.pageNodeID=v[c].bf;I.aR("pageOpened",e);break}0===Wa&&null===La&&null===Ea&&setTimeout(function(){u(!0)},60)})}function y(a){a.add_pageOpenFailed(function(a,b){if(!1!==wa){var c;0<=b.pageNumber&&v[b.pageNumber].bf&&(c=v[b.pageNumber].bf);v[b.pageNumber].uy=!0;v[b.pageNumber].ja=!1;v[b.pageNumber].jx=!1;v[b.pageNumber].fu=
!1;a=new IPCC.ExceptionEventArgs;a.exception=b.exception;a.pageIndex=b.pageNumber;a.pageNodeID=c;I.aR("pageOpenFailed",a);0<Wa&&(--Wa,0===Wa&&setTimeout(function(){u(!1)},60))}})}function D(a){a.add_pageDisplayed(function(a,b){if(!1!==wa){a=new IPCC.PageEventArgs;a.pageIndex=b.ag;a.imGearPage=v[b.ag].ad;a.pageNodeID=v[b.ag].bf;v[b.ag].fu=!0;for(var c=!1,d=0;d<fa.length;d++)fa[d]===b.ag&&(c=!0);!1===c&&fa.push(b.ag);Y===IPCC.ViewMode.SinglePage&&(c=-1,c=Array.prototype.indexOf?Pa.indexOf(b.ag):IPCC.Web.hk(Pa,
b.ag),-1!==c&&Pa.splice(c,1));I.aR("pageDisplayed",a);setTimeout(function(){var a=IPCC.bg.filter(ba,function(a){return Y===IPCC.ViewMode.SinglePage?b.ag===a.ag-1&&a.ag-1===Q:b.ag===a.ag-1});ka(a);da(a)},0)}})}function J(a){a.wn(function(a,b){!1!==wa&&(I.aR("textPageReady",{pageIndex:b.pageNumber,containsText:b.containsText}),a=mb,a>za&&(a=za),!0===b.containsText&&b.pageNumber>=S-a&&b.pageNumber<=sa+a&&v[b.pageNumber].bU&&0<v[b.pageNumber].bU.get_markCount()&&(a=document.getElementById(v[b.pageNumber].bf),
I.wf(a,b.pageNumber)))})}function L(a){a.abK(function(b,c){if(!1!==wa){var d=v[c.pageNumber].dZ;a.afy().Kw().mf(function(a){var b=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),c=a.fz();b.set_rectangle(new IPCC.Web.UI.Rectangle(c.x,c.y,c.width,c.height));b.set_href(a.ael());b.set_lineColor(a.arP());b.set_lineWidth(a.asI());b.set_borderPattern(a.ary());b.set_borderType(a.asu());b.set_borderHorizontalRadius(a.asK());b.set_borderVerticalRadius(a.arM());b.set_borderOpacity(a.atl());d.addMark(b);
a.anM(b)});I.aR("hyperlinkPageReady",{pageIndex:c.pageNumber});b=mb;b>za&&(b=za);c.pageNumber>=S-b&&c.pageNumber<=sa+b&&(b=document.getElementById(v[c.pageNumber].bf),I.wf(b,c.pageNumber))}})}function F(a){a.zS(function(a,b){if(!1!==wa){var c;0<=b.pageNumber&&v[b.pageNumber].bf&&(c=v[b.pageNumber].bf);I.aR("textExtractionFailed",{exception:b.exception,pageIndex:b.pageNumber,pageNodeID:c})}})}function p(a){a.add_exceptionThrown(function(a,b){if(!1!==wa){var c;!1===isNaN(b.pageNumber)&&(0<=b.pageNumber&&
v[b.pageNumber].bf&&(c=v[b.pageNumber].bf),v[b.pageNumber].uy=!0,v[b.pageNumber].ja=!1,v[b.pageNumber].jx=!1,v[b.pageNumber].fu=!1);a=new IPCC.ExceptionEventArgs;a.functionName=b.function_name;a.exception=b.exception;a.pageIndex=b.pageNumber;a.pageNodeID=c;I.aR("exceptionThrown",a);0<Wa&&(--Wa,0===Wa&&setTimeout(function(){u(!1)},60))}})}function H(a){a.add_markCreating(function(a,b){I.aR("markCreating",b)})}function B(a){a.bU.add_marksLoaded(function(){if(!1!==wa){var b=mb;b>za&&(b=za);a.dI>=S-b&&
a.dI<=sa+b&&(b=document.getElementById(a.bf),I.wf(b,a.dI));b=new IPCC.Web.UI.MarkEventArgs;b.pageIndex=a.dI;I.aR("marksLoaded",b)}})}function x(a){a.bU.add_markAdded(function(b,c){b=new IPCC.Web.UI.MarkEventArgs;b.pageIndex=a.dI;b.mark=c.mark;b.zIndex=c.zIndex;b.clientX=c.clientX;b.clientY=c.clientY;I.aR("markAdded",b)})}function K(a){function b(a,c){if(!1!==jb){var d=ha();ga(a,c,d);da(ba,!0,d)}}function c(a,g){e=a;h=g;f&&!d&&(d=G(function(){f=!1;d=void 0;e&&h?b(e,h):b(a,g)}))}var d,f=!1,e,h;a.bU.add_markChanged(function(b,
d){if(!0!==d.mark.AG)if(b=new IPCC.Web.UI.MarkEventArgs,b.pageIndex=a.dI,b.mark=d.mark,b.zIndex=d.zIndex,b.propertyName=d.propertyName,I.aR("markChanged",b),(b=ba[d.mark.get_markID()])&&("rectangle"===d.propertyName||"points"===d.propertyName||"startPoint"===d.propertyName||"endPoint"===d.propertyName))f=!0,c(d.mark,b);else if(b&&"visible"===d.propertyName){d=d.mark.get_visible();var e;e=IPCC.bg.inArray(fa,b.ag-1)&&b.ag-1>=S&&b.ag-1<=sa;d&&e?(ja([b]),da(ba,!0,ha())):T([b])}})}function M(a){a.bU.add_markReordered(function(b,
c){b=new IPCC.Web.UI.MarkEventArgs;b.pageIndex=a.dI;b.mark=c.mark;b.zIndex=c.zIndex;b.oldZIndex=c.oldZIndex;I.aR("markReordered",b)})}function Z(a){a.bU.add_markSelectionChanged(function(b,c){!0!==c.mark.AG&&(b=new IPCC.Web.UI.MarkEventArgs,b.pageIndex=a.dI,b.mark=c.mark,b.zIndex=c.zIndex,I.aR("markSelectionChanged",b))})}function A(a){a.bU.add_markRemoved(function(b,c){c.mark&&(b=new IPCC.Web.UI.MarkEventArgs,b.pageIndex=a.dI,b.mark=c.mark,b.zIndex=c.zIndex,I.aR("markRemoved",b),b=ba[c.mark.get_markID()])&&
(c.mark.get_conversation()===Qa&&(Qa=null),b.cc.parentElement.removeChild(b.cc),delete ba[c.mark.get_markID()],da(ba,!0))})}function Da(a){a.bU.add_markTextSelectionChanged(function(b,c){b=new IPCC.Web.UI.MarkEventArgs;b.pageIndex=a.dI;b.mark=c.mark;b.zIndex=c.zIndex;I.aR("markTextSelectionChanged",b)})}function ga(a,b,c){var d=v[b.ag-1],f=document.getElementById(d.bf);a=Na(a,d.dI+1);if(f.ak){var e=f.ak.transformPagePointToWindow(new IPCC.Web.UI.Point(a.x,a.y),!0);c=(f.offsetTop-1*qa*d.dI+e.y)/(c-
qa*v.length);b.bL=a;b.YF=c}}function T(a,b){var c="undefined"===typeof b;IPCC.bg.forEach(a,function(a){a&&(c||a.pageNumber===b)&&(a.cc.style.display="none",a.Hk=!1)})}function W(){return Ra.currentStyle&&"none"===Ra.currentStyle.display?0:Ra.clientWidth}function ha(){return Ra.currentStyle&&"none"===Ra.currentStyle.display?0:Ra.offsetHeight}function ja(a,b){var c="undefined"===typeof b;IPCC.bg.forEach(a,function(a){if(c||a.pageNumber===b)a.cc.style.display="",a.Hk=!0,a&&a.G&&!1===a.G.get_visible()&&
(a.cc.style.display="none",a.Hk=!1)})}function ka(a,b){if(!1!==jb){a=b?IPCC.bg.filter(ba,function(a){return IPCC.bg.inArray(fa,a.ag-1)&&a.ag-1>=S&&a.ag-1<=sa}):a;var c=ha();IPCC.bg.forEach(a,function(a){ga(a.G,a,c)})}}function V(a,b,c){c=c||0;var d,f,e,h=b-qa*v.length;IPCC.bg.forEach(a,function(a){e=qa*(a.ag-1);f=a.YF*h+e;d=Math.max(c+5,f);a.cc.style.top!==d+"px"&&(a.cc.style.top=d+"px");c=d+a.ZB})}function ma(a,b){var c,d,f,e,h,g=b-qa*v.length;IPCC.bg.forEach(a,function(a){e=qa*(a.ag-1);f=a.YF*g+
e;void 0===c&&(c=f);a.G.get_conversation()===Qa?(d=f,h=d+a.ZB):d=Math.min(c-5-a.ZB,f);a.cc.style.top!==d+"px"&&(a.cc.style.top=d+"px");c=d});return h}function da(a,b,c){if(!1!==jb){c||(c=ha());a=b?IPCC.bg.filter(ba,function(a){return IPCC.bg.inArray(fa,a.ag-1)&&a.ag-1>=S&&a.ag-1<=sa}):a;ja(a);a=IPCC.bg.map(a,function(a,b){a.ZB=a.cc.offsetHeight;return a}).sort(function(a,b){if(a.ag!==b.ag)return a.ag-b.ag;switch(v[a.ag-1].hI){case 90:return a.bL.x!==b.bL.x?a.bL.x-b.bL.x:a.bL.y!==b.bL.y?b.bL.y-a.bL.y:
a.zv-b.zv;case 180:return a.bL.y!==b.bL.y?b.bL.y-a.bL.y:a.bL.x!==b.bL.x?b.bL.x-a.bL.x:a.zv-b.zv;case 270:return a.bL.x!==b.bL.x?b.bL.x-a.bL.x:a.bL.y!==b.bL.y?a.bL.y-b.bL.y:a.zv-b.zv;default:return a.bL.y!==b.bL.y?a.bL.y-b.bL.y:a.bL.x!==b.bL.x?a.bL.x-b.bL.x:a.zv-b.zv}});var d=[],f=[],e=!1;Qa?(b=ba[Qa.get_mark().get_markID()],IPCC.bg.inArray(a,b)||(e=!0),IPCC.bg.forEach(a,function(a){e?f.push(a):a.G.get_conversation()===Qa?(d.unshift(a),e=!0):d.unshift(a)})):f=a;a=0;d.length&&(a=ma(d,c));V(f,c,a)}}
function aa(a,b,c){if(a=b[a.get_markID()])a.cc.parentElement.replaceChild(c,a.cc),a.cc=c;return a}function Na(a,b){a=a.get_boundingRectangle?a.get_boundingRectangle():{};switch(v[b-1].hI){case 90:return{x:a.x,y:a.y+(a.height||0)};case 180:return{x:a.x+(a.width||0),y:a.y+(a.height||0)};case 270:return{x:a.x+(a.width||0),y:a.y};default:return{x:a.x,y:a.y}}}function h(a){a.bU.add_commentAdded(function(b,c){var d=new IPCC.Web.UI.CommentEventArgs;d.pageIndex=a.dI;d.mark=c.mark;d.index=c.index;d.comment=
c.comment;var f=document.getElementById(a.bf);I.aR("commentAdding",d);setTimeout(function(){var b=ha(),e,h;if(0===c.index){h=nb(c.mark,{isSelected:!1},null);if(!h)return;if(!IPCC.bg.vY(h))throw Error(h+" is not a valid HTMLElement");var g=Na(c.mark,a.dI+1);e=g.x;var g=g.y,p;p=f&&f.ak?f.ak.transformPagePointToWindow(new IPCC.Web.UI.Point(e,g),!0):new IPCC.Web.UI.Point(0,0);e=c.mark;g=Ra;p=(f.offsetTop-qa*a.dI+p.y)/(b-qa*v.length);var k=a.dI+1,l=new IPCC.fa;l.cc=h;ba[e.get_markID()]=l;var n=ba[e.hD()];
n.ag=k;n.G=e;n.bL=Na(e,k);n.zv=e.eA().oA(e);l.YF=p;g.appendChild(h);e=l}else{e=c.mark.get_conversation()===Qa;h=ba[c.mark.get_markID()];if(!h)return;h=nb(c.mark,{isSelected:e},h.cc);if(!h)return;if(!IPCC.bg.vY(h))throw Error(h+" is not a valid HTMLElement");e=aa(c.mark,ba,h)}IPCC.bg.inArray(fa,a.dI)&&a.dI>=S&&a.dI<=sa?da(ba,!0,b):T([e]);I.aR("commentAdded",d)},0)})}function Ga(a){a.bU.add_commentChanged(function(a,b){a=null;if(ba[b.mark.get_markID()]){a=ba[b.mark.get_markID()].cc;var c=b.mark.get_conversation()===
Qa;a=nb(b.mark,{isSelected:c},a)}if(a){if(!IPCC.bg.vY(a))throw Error(a+" is not a valid HTMLElement");a&&(c=ha(),aa(b.mark,ba,a),da(ba,!0,c))}I.aR("commentChanged",b)})}function Oa(a){a.bU.add_commentRemoved(function(a,b){a=null;ba[b.mark.get_markID()]&&(a=ba[b.mark.get_markID()].cc);var c=b.mark.get_conversation()===Qa;a=nb(b.mark,{isSelected:c},a);if(IPCC.bg.vY(a))aa(b.mark,ba,a);else if(a=ba[b.mark.get_markID()])b.mark.get_conversation()===Qa&&(Qa=null),a.cc.parentElement.removeChild(a.cc),delete ba[b.mark.get_markID()];
da(ba,!0);I.aR("commentRemoved",b)})}function pa(){var a=Ba,b=ea,c;c=O.getBoundingClientRect();c={width:c.width||c.right-c.left,height:c.height||c.bottom-c.top,top:c.top,bottom:c.bottom,left:c.left,right:c.right};var d={height:Math.floor(c.height/2)};d.width=d.height*b/a;d.width>b/2&&(d.width=b/2);d.height>a/2&&(d.height=a/2);var f={height:Math.floor(8*a)};f.width=f.height*b/a;return{min:d,max:f,page:{width:b,height:a},viewport:c,atMin:b*R<d.width+5,atMax:b*R>f.width-5,maxFactor:f.width/b,minFactor:d.width/
b}}function la(a,b){if(b)Ka.apply(this,arguments);else{var c=a<R?!0:!1,d=pa();d.atMin&&c||d.atMax&&!c||(a>d.maxFactor?a=d.maxFactor:a<d.minFactor&&(a=d.minFactor),d.atMax&&d.atMin||Ka.apply(this,arguments))}}function Ka(a,b,c,d,e,h,g,p){if(!(isNaN(a)||0>=a||Infinity===Math.abs(a))){b=a<R?!0:!1;var k=0,l=v.length-1;Y===IPCC.ViewMode.SinglePage&&(0<=Q-za&&(k=Q-za),Q+za<v.length-1&&(l=Q+za));var n=a/R;R=a;var m=h&&void 0!==h.x?h.x:O.scrollLeft+O.clientWidth/2;h=h&&void 0!==h.y?h.y:O.scrollTop+O.clientHeight/
2;for(ra=oa=0;k<=l;k++){var q,H=document.getElementById(v[k].bf);if(H){q=H.ak;var G=96*a/v[k].hF,z=ea,r=Ba,B=ea,x=Ba;!0===f(Xa)&&(B=Ba,x=ea);0<v[k].ap?!0===f(v[k].hI)?(z=v[k].ah,r=v[k].ap):(z=v[k].ap,r=v[k].ah):(G=96*a/v[0].hF,!0===f(v[k].hI)&&(G=z,z=r,r=G,G=96*a/v[0].hd));var A;Y===IPCC.ViewMode.SinglePage?(x=z*G,B=r*G,H.style.width=x+"px",H.style.height=B+"px",k===Q&&(P.style.width=x+"px",P.style.height=B+"px"),q&&!0===v[k].fu&&!0===q.gv()&&q.zoom(G)):Y===IPCC.ViewMode.Document?(x=z*G,B=r*G,H.style.width=
x+"px",H.style.height=B+"px",q&&!0===v[k].fu&&!0===q.gv()&&q.zoom(G),z*G>oa&&(oa=z*G),r*G>ra&&(ra=r*G)):(G=96*a/v[0].hF,na===IPCC.PageLayout.VerticalScrollDirection?(A=B/z*G,H.style.width=B*G+"px",H.style.height=r*A+"px",B*G>oa&&(oa=B*G),r*G>ra&&(ra=r*G)):(A=x/r*G,H.style.height=x*G+"px",H.style.width=z*A+"px",z*G>oa&&(oa=z*G),x*G>ra&&(ra=x*G)),q&&!0===v[k].fu&&!0===q.gv()&&q.zoom(A));q&&!0===v[k].fu&&!0===q.gv()&&(q.display(),navigator.userAgent.match("Edge")&&(q=O.style.display,O.style.display=
"none",O.style.display=q,fb()))}}Fb=na===IPCC.PageLayout.VerticalScrollDirection?O.scrollTop:O.scrollLeft;l=a=0;e?(c=e.offsetLeft+n*c,d=e.offsetTop+n*d):(na===IPCC.PageLayout.VerticalScrollDirection?l=qa*Q:a=(Fa+ua)*Q,c=n*(m-a),d=n*(h-l));O.scrollLeft=c-O.clientWidth/2+a;O.scrollTop=d-O.clientHeight/2+l;U();!0===b&&Y!==IPCC.ViewMode.SinglePage&&u(!0);da(ba,!0);I.aR("scaleChanged",{scaleType:b?"scaledDown":"scaledUp",scaleTrigger:g,fitType:p,scaleFactor:R})}}function fb(){var a=document.createElement("div");
setTimeout(function(){O.appendChild(a);O.removeChild(a)},0)}function Aa(a,b,c,d){var f=a.igElements;if((d=d||ta(a))&&0<d.right-d.left&&0<d.bottom-d.top)return new IPCC.Web.UI.Point(b+d.left+f.oi.scrollLeft,c+d.top+f.oi.scrollTop)}function ta(a){a=a.igElements;var b;if(a.ny.getBoundingClientRect)try{b=a.ny.getBoundingClientRect()}catch(c){return}else for(a=a.ny,b=document.documentElement,b={left:b.clientLeft-b.scrollLeft,top:b.clientTop-b.scrollTop},a=a.offsetParent;a;)b.top+=a.offsetTop-a.scrollTop,
b.left+=a.offsetLeft-a.scrollLeft,a=a.offsetParent;return b}function ob(){var a=I.fQ(),b=a.id,c,d,f,e,h,p=!1,k,l=[],n=-1,q=0,m,H,z,r=0,B=0,u=null,x=null;if(""===P){O=g({width:"100%",height:"100%",position:"relative",margin:"0px",overflow:"auto",textAlign:"center"});O.className="pccPageListContainerWrapper";O.tabIndex=2;var A=function(a,b){for(a=document.elementFromPoint(a,b);a&&(a.parentNode||a.ownerSVGElement);){if(a.parentNode.id&&-1!==a.parentNode.id.indexOf("__pViewId"))return a.parentNode;a=
a.ownerSVGElement||a.parentNode}return!1},t=function(a,b,c){var d=a.igElements;if((a=ta(a))&&0<a.right-a.left&&0<a.bottom-a.top)return new IPCC.Web.UI.Point(b-a.left-d.oi.scrollLeft,c-a.top-d.oi.scrollTop)},C=!1,T=function(a,b,c){b.match(/edit/)?C=!0:(c.ak.JM([new IPCC.oY(IPCC.Web.UI.MarkType.Text)]),C=!0,c.ak.Iv("touchstart",a))},aa=function(a){if(a.target&&a.target.attributes&&a.target.getAttribute("data-pcc-mark"))return a.target;if(a.target.parentElement&&a.target.parentElement.attributes&&a.target.parentElement.getAttribute("data-pcc-mark"))return a.target.parentElement;
if(a.target.parentNode&&a.target.parentNode.attributes&&a.target.parentNode.getAttribute("data-pcc-mark"))return a.target.parentNode},K=function(a){if(a=aa(a))return a.getAttribute("data-pcc-mark")},M=function(a){a&&(a.eA().Gy(function(a){a.set_selected(!1)}),a.display())},w,X=!1,U=function(a,b){var c={cb:void 0,G:void 0,ba:null};if(a=aa(a)){"undefined"!==typeof k&&!1!==k&&k.ak&&k.igElements&&!0===k.ak.gv()&&(c.ba=k.ak.mc());if(a.ImGearMarkRelation)return c.cb="mark",c.G=a.ImGearMarkRelation.G,c;
for(;!a.ImGearMarkRelation&&a.parentNode&&a!==document.body;)if(a=a.parentNode,a.ImGearMarkRelation)return c.cb="mark",c.G=a.ImGearMarkRelation.G,c}if("undefined"!==typeof k&&!1!==k&&k.ak&&k.igElements&&!0===k.ak.gv())for(c.ba=k.ak.mc(),a=0;a<v.length;a++)if(v[a].bf===k.id){if("undefined"===typeof b.targetType||null===b.targetType){c.cb="page";break}break}return c},Ia=function(a,b,c,d){if(null!==N&&void 0!==N){var f=!1;void 0===b&&(b=N.uD,f=!0);void 0===c&&(c=N.kM,f=!0);var e=document.getElementById(v[a].bf);
!0===d?d=N.zW:(d=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText),d.set_rectangle({x:0,y:0,width:0,height:0}),d.cv=127,d.da="#3366CC",d.bj=null,e.ak.kP().addMark(d));d.set_selected(!0);!0===f?N.iq===N.ju?(d.aV=q,d.dk=c-q+1,d.kZ=!0,d.lN=!0,e.ak.display()):a===N.iq?(d.aV=q,d.dk=e.ak.cA().eO().fj()-1-b,d.kZ=!0,d.lN=!1,e.ak.display()):a===N.ju?(d.aV=0,d.dk=c+1,d.kZ=!1,d.lN=!0,e.ak.display()):(d.aV=0,d.dk=e.ak.cA().eO().fj()-1-q,d.kZ=!1,d.lN=!1):N.iq===N.ju?(d.kZ=!0,d.lN=!0):a===N.iq?(d.kZ=!0,
d.lN=!1):a===N.ju?(d.kZ=!1,d.lN=!0):(d.kZ=!1,d.lN=!1);N.fd[a]=d}},y=function(a,b,g,G){var z=new IPCC.Web.UI.MouseEventArgs;k=A(b,g);f=U(a,z);var ia,C=aa(a);C&&(ia=C.getAttribute("data-pcc-mark"));var K=!1,M=ia&&ia.substring(0,10);if(ia&&"texthandle"===M){K=H=!0;M=ia.substring(10,13);C=C.parentNode.ImGearMarkRelation.G;N&&null===C.bj?(l=N.rE.slice(),l[z.pageIndex]=void 0):(N=null,l=[],I.yx());var w=function(a){q=N.uD;var b;for(b=N.ju;b>=N.iq;b--){var c=document.getElementById(v[b].bf);if(void 0!==
c.ak&&null!==c.ak){var d=q;b!==N.iq&&(d=0);var f;f=b===N.ju?N.kM:c.ak.get_textPage().eO().fj()-1;a(c,d,f);b!==N.qd&&Ia(b)}}u=ya;ya=IPCC.Web.UI.MouseTool.SelectText;p=!0},X,xb,y,D,F,Ta;if("sta"===M){if(null===N||void 0===N)for(X=C.ba,N={fd:[]},N.iq=X,q=N.uD=C.aV;X<v.length;){xb=v[X].bU;y=xb.get_markCount();for(M=0;M<y;M++)if(D=xb.getMark(M),C.bx===D.bx&&D.get_type()===C.get_type()){N.fd[X]=D;for(F=D.bj.length-1;0<=F;F--)if(D.bj[F].set_visible)D.bj[F].set_visible(!1);else{D.set_visible(!1);break}X===
C.ba?x=D:(l[X]=Ta.substring(D.aV,D.dk),D.set_selected(!1));Ta=D.cI.substring(D.dk);if(!0===D.lN){N.kM=D.aV+D.dk-1;N.ju=X;break}}X++}m=N.kM+1;r=N.ju;N.fd[N.iq].AG=!0;N.qd=N.iq;N.zW=N.fd[N.iq];w(function(a,b,c){a.ak.showEmptyTextSelection(c+1);a.ak.extendTextSelection(void 0);a.ak.extendTextSelection(c);a.ak.extendTextSelection(b)})}else if("end"===M){if(null===N||void 0===N)for(X=C.ba,N={fd:[]},N.ju=X,N.kM=C.aV+C.dk-1;0<=X;){xb=v[X].bU;y=xb.get_markCount();for(M=0;M<y;M++)if(D=xb.getMark(M),C.bx===
D.bx&&D.get_type()===C.get_type()){N.fd[X]=D;for(F=D.bj.length-1;0<=F;F--)if(D.bj[F].set_visible)D.bj[F].set_visible(!1);else{D.set_visible(!1);break}X===C.ba?Ta=D.cI:(l[X]=Ta.substring(Ta.length-D.dk),D.set_selected(!1));Ta=D.cI.substring(0,Ta.length-D.dk);if(!0===D.kZ){q=N.uD=D.aV;N.iq=X;x=D;break}}X--}m=N.uD;r=N.iq;N.fd[N.ju].AG=!0;N.qd=N.ju;N.zW=N.fd[N.ju];w(function(a,b,c){a.ak.showEmptyTextSelection(b);a.ak.extendTextSelection(void 0);a.ak.extendTextSelection(b);a.ak.extendTextSelection(c)})}x&&
k.ak.display()}if(!a.target.tagName||"textarea"!==a.target.tagName.toLowerCase())if(!a.target.tagName||"input"!==a.target.tagName.toLowerCase()||!a.target.type||"text"!==a.target.type.toLowerCase())if(ya!==IPCC.Web.UI.MouseTool.HandPan||!Cb||!ia||!1!==K||f&&f.G.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){var da,Aa;if(!1!==k&&k.ak&&k.igElements&&!0===k.ak.gv()){for(Aa=Aa=0;Aa<v.length;Aa++)if(v[Aa].bf===k.id){z.pageIndex=Aa;break}z.pointLiesWithinImage=!0;(Aa=t(k,b,g))?
(da=k.ak.Mr(Aa,!1),z.imagePoint=da,z.constrainedImagePoint=da):z.pointLiesWithinImage=!1}else z.pointLiesWithinImage=!1;z.domEvent=a;z.windowPoint=new IPCC.Web.UI.Point(b,g);if(!0===K)n=-1,B=z.pageIndex,a.preventDefault();else switch(ya){case IPCC.Web.UI.MouseTool.None:a.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:a.preventDefault();c=g;d=b;e=O.scrollTop;h=O.scrollLeft;p=!0;P.style.cursor=IPCC.ao.fp(IPCC.ao.HandClosed);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:a.preventDefault();
if(0===G&&k&&k.ak&&da){I.yx();l=[];n=-1;H=void 0;m=q=a=k.ak.transformPagePointToTextIndex(da);p=!0;if(void 0===a){I.aR("mouseDown",z);return}k.ak.showEmptyTextSelection(a);k.ak.extendTextSelection(void 0);k.ak.extendTextSelection(a);k.ak.display();B=r=z.pageIndex}break;case IPCC.Web.UI.MouseTool.Magnifier:a.preventDefault();0===G&&k&&k.ak&&Aa&&(a=IPCC.ao.fp(IPCC.ao.None),P.style.cursor=a,k.ak.showMagnifier(Aa),k.ak.display());p=!0;break;case IPCC.Web.UI.MouseTool.RectangleZoom:a.preventDefault(),
0===G&&k&&k.ak&&da&&(p=!0,c=Aa.y,d=Aa.x,k.ak.showEmptySelection(da),k.ak.display())}I.aR("mouseDown",z)}else T(a,ia,k)},D=function(a,b,f,g){if(!a.target.tagName||"textarea"!==a.target.tagName.toLowerCase())if(!a.target.tagName||"input"!==a.target.tagName.toLowerCase()||!a.target.type||"text"!==a.target.type.toLowerCase()){var G=new IPCC.Web.UI.MouseEventArgs;G.domEvent=a;G.windowPoint=new IPCC.Web.UI.Point(b,f);var z=A(b,f),ia,u;!1!==z&&z.ak&&z.igElements&&!0===z.ak.gv()?(G.pointLiesWithinImage=!0,
(u=t(z,b,f))?(ia=z.ak.Mr(u,!1),G.imagePoint=ia,G.constrainedImagePoint=ia):G.pointLiesWithinImage=!1):G.pointLiesWithinImage=!1;var x=U(a,G);x&&x.G&&(G.mark=x.G);switch(ya){case IPCC.Web.UI.MouseTool.None:a.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:a.preventDefault();p&&(u=d-b,O.scrollTop=e+(c-f),O.scrollLeft=h+u);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:a.preventDefault();
if(p){0!==g&&E();if(!z){I.aR("mouseMove",G);return}if(void 0===q)k=z;else if(z!==k&&z.ak&&u){n=-1;for(ia=a=0;ia<v.length;ia++)if(v[ia].bf===z.id){a=ia;break}if(a>B)if(a>r){ia=k.ak.get_textPage().eO().fj()-1;if(0>ia){E();I.aR("mouseMove",G);return}k.ak.extendTextSelection(ia);N&&(k.ak.get_textPage().eO().fj(),N.fd[B].set_startIndex(k.ak.Rn()),N.fd[B].set_textLength(k.ak.DA()),N.ju=a,q=k.ak.Rn());l[B]=k.ak.getSelectedText();z.ak.showEmptyTextSelection(0);z.ak.extendTextSelection(void 0);n=0;k.ak.display();
k=z}else q=0,l[B]=void 0,l[a]=void 0,k.ak.showEmptyTextSelection(0),k.ak.extendTextSelection(void 0),N&&N.fd[B]&&(N.fd[B].kZ=!1),k.ak.display(),k=z,N&&N.fd[B]&&(N.fd[B]=void 0,N.iq=a,N.fd[a].set_startIndex(0),N.fd[a].set_textLength(N.fd[a].get_startIndex()+N.fd[a].get_textLength()),N.fd[a].kZ=!0,k.ak.display());else a<B&&(a<r?(ia=k.ak.get_currentTextIndex(),0!==ia&&k.ak.extendTextSelection(0),N&&(N.fd[B].set_startIndex(k.ak.Rn()),N.fd[B].set_textLength(k.ak.DA()),N.iq=a),l[B]=k.ak.getSelectedText(),
k.ak.display(),n=ia=z.ak.cA().eO().fj()-1,q=0,z.ak.showEmptyTextSelection(ia+1),z.ak.extendTextSelection(void 0),k=z,k.ak.display()):(l[B]=void 0,l[a]=void 0,k.ak.showEmptyTextSelection(0),k.ak.extendTextSelection(void 0),N&&N.fd[B]&&(N.fd[B].lN=!1),k.ak.display(),k=z,N&&N.fd[B]&&(N.fd[B]=void 0,N.ju=a,k.ak.cA().eO().fj(),N.fd[a].set_textLength(z.ak.DA()),N.fd[a].lN=!0,k.ak.display())));B=a}z=B<r;a=B>r;if(k&&k.ak&&!0===k.ak.gv()&&u){u=t(k,b,f);ia=k.ak.Mr(u,!1);f=k.ak.transformPagePointToTextIndex(ia);
if(void 0===q){m=q=f;if(void 0===f){I.aR("mouseMove",G);return}k.ak.showEmptyTextSelection(f);k.ak.extendTextSelection(void 0);k.ak.extendTextSelection(f);k.ak.display();for(u=0;u<v.length;u++)if(v[u].bf===k.id){B=r=u;break}}else q===+q&&f===+f&&(z?q=f:a||(q=Math.min(m,f)));ia=k.ak.get_currentTextIndex();if(ia===f||void 0===f){I.aR("mouseMove",G);return}-1!==n&&(f!==n&&k.ak.extendTextSelection(n),n=-1);if(f>m&&B===r||B>r){if(N){if(void 0===N.fd[B]||null===N.fd[B])Ia(B,0,0,B===N.qd),0<=B-1&&N.fd[B-
1]&&(N.fd[B-1].lN=!1,document.getElementById(v[B-1].bf).ak.display());N.fd[B].lN=!0}void 0===H&&(H=!1)}else if(f<m||B<r){if(N){if(void 0===N.fd[B]||null===N.fd[B])Ia(B,k.ak.cA().eO().fj()-1,0,B===N.qd),N.fd[B+1]&&(N.fd[B+1].kZ=!1,document.getElementById(v[B+1].bf).ak.display());N.fd[B].kZ=!0}void 0===H&&(H=!0,m++,k.ak.showEmptyTextSelection(m),k.ak.extendTextSelection(void 0),u=k.ak.cA().eO().fj(),m>=u?k.ak.extendTextSelection(u-1):k.ak.extendTextSelection(m))}k.ak.extendTextSelection(f);N&&N.fd[B]&&
(N.fd[B].set_startIndex(k.ak.Rn()),N.fd[B].set_textLength(k.ak.DA()));k.ak.display()}}break;case IPCC.Web.UI.MouseTool.Magnifier:a.preventDefault();if(0!==g||k&&k.ak&&k!==z)k.ak.hideMagnifier(),f=IPCC.ao.fp(IPCC.ao.Magnifier),P.style.cursor=f,k.ak.display();p&&z&&z.ak&&u&&(k=z,f=IPCC.ao.fp(IPCC.ao.None),P.style.cursor=f,z.ak.showMagnifier(u),z.ak.display());break;case IPCC.Web.UI.MouseTool.RectangleZoom:a.preventDefault(),p&&(z&&z.ak&&ia&&z===k?0!==g?(z.ak.hideSelection(),z.ak.display(),p=!1):(z.ak.extendSelection(ia),
z.ak.display()):(k.ak.hideSelection(),k.ak.display(),p=!1))}I.aR("mouseMove",G)}},Ta=function(a,b){b.upTargetType=null;var c=U(a,b);b.originalEvent=a.rawEvent;b.clientX=a.clientX;b.clientY=a.clientY;b.downTarget={type:void 0,pageIndex:void 0};"undefined"!==typeof f&&"undefined"!==typeof f.cb&&(b.downTarget.type=f.cb);"undefined"!==typeof f&&"undefined"!==typeof f.ba&&(b.downTarget.pageIndex=f.ba);b.downMark="undefined"!==typeof f?f.G:void 0;b.upMark=c.G;switch(c.cb){case "page":case "mark":b.upTarget=
{type:c.cb,pageIndex:c.ba}}!1===b.pointLiesWithinImage&&"page"===c.cb&&(c.ba=-1)},F=function(a,b,g){var n=new IPCC.Web.UI.MouseEventArgs,G,H,z;a&&(G=A(b,g),!1!==G&&G.ak&&G.igElements&&!0===G.ak.gv()?(k=G,n.pointLiesWithinImage=!0,(z=t(G,b,g))?(H=G.ak.Mr(z,!1),n.imagePoint=H,n.constrainedImagePoint=H):n.pointLiesWithinImage=!1):n.pointLiesWithinImage=!1,n.domEvent=a,n.windowPoint=new IPCC.Web.UI.Point(b,g),Ta(a,n),I.aR("mouseUp",n));f=void 0;switch(ya){case IPCC.Web.UI.MouseTool.None:a.preventDefault();
break;case IPCC.Web.UI.MouseTool.HandPan:a.preventDefault();p&&(h=e=c=d=void 0,p=!1,ca=IPCC.ao.HandOpen,n=IPCC.ao.fp(ca),P.style.cursor=n);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:a&&a.preventDefault();if(p){G=new IPCC.Web.UI.TextSelectedEventArgs;H=[];var ia,T,K;z=k.ak.getSelectedText();
n=l.slice();0<z.length?n[B]=k.ak.getSelectedText():B>r?(B--,k=document.getElementById(v[B].bf),n[B]&&(z=n[B])):B<r&&(B++,k=document.getElementById(v[B].bf),n[B]&&(z=n[B]));G.text=n.join("");var aa=!0;B>=r?(B===r?(k.ak.get_currentTextIndex()>=m&&(aa=!1),K=q+z.length-1):K=z.length-1,0>K&&(K=0),z=r,T=B):(aa=!1,K=m-1,z=B,T=r);for(ia=z;ia<=T;ia++)H.push(ia);0===G.text.length&&(E(),H=[]);G.pageNumbers=H;G.clientX=b;G.clientY=g;if(void 0!==q){ya===IPCC.Web.UI.MouseTool.SelectText&&(g=k.ak.get_currentTextIndex(),
g=k.ak.cA().eO().le(g).wM(),ia=b=0,!1===aa&&(b=g.width,ia=g.height),g=k.ak.transformPagePointToWindow(new IPCC.Web.UI.Point(g.x+b,g.y+ia),!0),g=Aa(k,g.x,g.y),G.handleClientX=g.x,G.handleClientY=g.y);g=void 0===N||null===N;if(x){G.previousFirstMark=x;G.firstMark=N.fd[z];if(N.qd<z||N.qd>T)n=document.getElementById(v[N.qd].bf),n.ak&&n.ak.kP().removeMark(N.zW);N.zW.AG=!1;I.yx();null!==u&&(ya=u);u=null}else if(!0===g)if(ya===IPCC.Web.UI.MouseTool.SelectText)for(N={iq:z,uD:q,ju:T,kM:K,rE:n.slice(),fd:[]},
ia=0;ia<H.length;ia++)Ia(H[ia]);else I.yx();else{if(N.qd<z||N.qd>T)H=document.getElementById(v[N.qd].bf),H.ak&&H.ak.kP().removeMark(N.zW);N.zW.AG=!1;N.iq=z;N.uD=q;N.ju=T;N.kM=K;N.rE=n.slice();null!==u&&(ya=u);u=null}G.mouseTool=ya;G.startIndex=q;I.aR("selectTextMouseToolCompleted",G);x&&(N=x=null)}p=!1}break;case IPCC.Web.UI.MouseTool.Magnifier:a.preventDefault();G&&G.ak&&(G.ak.hideMagnifier(),n=IPCC.ao.fp(IPCC.ao.Magnifier),P.style.cursor=n,G.ak.display());p=!1;break;case IPCC.Web.UI.MouseTool.RectangleZoom:a.preventDefault(),
p&&z&&(z.x<d?(n=d-z,H=z.x+n/2):(n=z.x-d,H=d+n/2),z.y<c?(T=c-g,z=z.y+T/2):(T=z.y-c,z=c+T/2),K=O.clientWidth/n,g=O.clientHeight/T,b=K,K>g&&(b=g),G&&G.ak&&(G.ak.qw(),G.ak.display()),p=!1,25<2*n+2*T&&I.apg(b,H,z,G))}n=G=!1;a&&(G=a.target.tagName&&"textarea"===a.target.tagName.toLowerCase(),n=a.target.tagName&&"input"===a.target.tagName.toLowerCase()&&a.target.type&&"text"===a.target.type.toLowerCase());!C||G||n?ya===IPCC.Web.UI.MouseTool.HandPan&&w&&!G&&!n&&a&&w.clientX===a.clientX&&w.clientY===a.clientY&&
!0!==a.shiftKey&&!0!==a.ctrlKey&&M(k.ak):(a=k,C=!1,a.ak.set_mouseTool(IPCC.Web.UI.MouseTool.None))},da=function(a){var b=new IPCC.Web.UI.MouseEventArgs;b.upTarget={type:"comments",element:a.target};b.downTarget={type:"comments",element:a.target};b.originalEvent=a.rawEvent;b.clientX=a.clientX;b.clientY=a.clientY;b.pageIndex=void 0;I.aR("mouseUp",b)},E=function(){if(!0===p){if(N&&void 0!==N.qd){if(x){F(null,0,0);return}var a=document.getElementById(v[N.qd].bf);a.ak&&a.ak.kP().removeMark(N.zW);N.zW.AG=
!1}I.yx();x=null;p=!1;null!==u&&(ya=u);u=null}};va=g({position:"relative",width:"auto",height:"auto",display:"table",tableLayout:"fixed",borderSpacing:"0px",margin:"0px auto",clear:"both",boxSizing:"border-box"});Y===IPCC.ViewMode.SinglePage?(P=g({position:"relative",whiteSpace:"nowrap",width:"auto",height:"auto",overflow:"hidden"}),P.className="pccPageListContainer pccSinglePageView"):(P=g({position:"relative",whiteSpace:"nowrap",width:"auto",height:"auto",display:"table-cell",verticalAlign:"top"}),
P.className="pccPageListContainer");IPCC.Web.UI.aE.addHandler(P,"mousedown",function(a){if(z&&z.clientX===a.clientX&&z.clientY===a.clientY)return a.rawEvent.preventDefault?a.rawEvent.preventDefault():a.preventDefault&&a.preventDefault(),a.rawEvent.stopPropagation?a.rawEvent.stopPropagation():a.stopPropagation&&a.stopPropagation(),X=!0,z=void 0,!1;w=a;y(a,a.clientX,a.clientY,a.button)});IPCC.Web.UI.aE.addHandler(P,"mouseup",function(a){!0!==X?F(a,a.clientX,a.clientY):X=!1});IPCC.Web.UI.aE.addHandler(P,
"mousemove",function(a){D(a,a.clientX,a.clientY,a.button)});IPCC.Web.UI.aE.addHandler(P,"mouseleave",function(){var a;switch(ya){case IPCC.Web.UI.MouseTool.HandPan:ca=IPCC.ao.HandOpen;a=IPCC.ao.fp(ca);P.style.cursor=a;p=!1;break;case IPCC.Web.UI.MouseTool.SelectText:E();break;case IPCC.Web.UI.MouseTool.Magnifier:k&&k.ak&&(k.ak.hideMagnifier(),a=IPCC.ao.fp(IPCC.ao.Magnifier),P.style.cursor=a,k.ak.display());p=!1;break;case IPCC.Web.UI.MouseTool.RectangleZoom:k&&k.ak&&(k.ak.hideSelection(),k.ak.display(),
p=!1)}});IPCC.Web.UI.aE.addHandler(P,"mousewheel",function(a){if(a.ctrlKey)switch(ya){case IPCC.Web.UI.MouseTool.HandPan:var b=a.rawEvent.wheelDelta;a.preventDefault();0>b?I.zoomOut(1.5):I.zoomIn(1.5)}else a.preventDefault(),O.scrollTop-=.72*a.rawEvent.wheelDelta;ya===IPCC.Web.UI.MouseTool.Magnifier?(k&&k.ak&&(k.ak.hideMagnifier(),a=IPCC.ao.fp(IPCC.ao.Magnifier),P.style.cursor=a,k.ak.display()),p=!1):ya===IPCC.Web.UI.MouseTool.RectangleZoom?k&&k.ak&&(k.ak.hideSelection(),k.ak.display(),p=!1):ya===
IPCC.Web.UI.MouseTool.SelectText&&E()});IPCC.Web.UI.aE.addHandler(P,"DOMMouseScroll",function(){if(ya===IPCC.Web.UI.MouseTool.Magnifier){if(k&&k.ak){k.ak.hideMagnifier();var a=IPCC.ao.fp(IPCC.ao.Magnifier);P.style.cursor=a;k.ak.display()}p=!1}else ya===IPCC.Web.UI.MouseTool.RectangleZoom?k&&k.ak&&(k.ak.hideSelection(),k.ak.display(),p=!1):ya===IPCC.Web.UI.MouseTool.SelectText&&E()});O.onscroll=G?gb:tb;P.setAttribute("id",b+"_ListContainer");O.setAttribute("id",b+"_ListWrapper");Ra=g();Ra.className=
"pccPageListComments pccHidden";Ra.setAttribute("id",b+"_CommentsPanel");b=[];IPCC.bg.aBT?b.push("touchend"):b.push("click");IPCC.bg.forEach(b,function(a){IPCC.Web.UI.aE.addHandler(Ra,a,da)});va.appendChild(P);va.appendChild(Ra);O.appendChild(va);a.appendChild(O);if(navigator.userAgent.match("MSIE 10")&&10===document.documentMode){var S="",ib="",Z="",J="",Q,b=function(){Q=getComputedStyle(a);Z=Q.getPropertyValue("width");J=Q.getPropertyValue("height");if(Z!==S||J!==ib)S=Z,ib=J,O.style.width=S,O.style.height=
ib};setInterval(b,1E3);window.addEventListener("resize",b);b();I.yh=b}b=IPCC.bg.HA;document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&b&&window.addEventListener&&document.querySelector&&hb(O);(function(a,b){var c,d=function(a){var b=a.rawEvent,c=b.touches[0]||b.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY;a.preventDefault=function(){b.preventDefault()};a.stopPropagation=function(){b.stopPropagation()};return a},e=function(a,b){var d=new IPCC.Web.UI.MouseEventArgs,
e="touchstart"===a?"mouseDown":"touchend"===a?"mouseUp":null,h="touchstart"===a?y:"touchmove"===a?D:"touchend"===a?F:null;c=A(b.clientX,b.clientY);"doubleTap"===a&&c&&c.ak&&c.ak.Iv(a,b);var g;if((g=K(b))&&"texth"===g.substring(0,5))b.preventDefault(),b.stopPropagation(),"touchstart"===a&&(z=b),h&&h(b,b.clientX,b.clientY,0);else switch(ya){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:c&&
c.ak&&c.ak.Iv(a,b);"mouseUp"===e?Ta(b,d):"mouseDown"===e&&(f=U(b,d));I.aR(a,d);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:b.preventDefault();b.stopPropagation();if("touchstart"===a&&(z=b,g)){I.yx();break}h&&h(b,b.clientX,b.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:b.preventDefault();
b.stopPropagation();"touchstart"===a&&(z=b);h&&h(b,b.clientX,b.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:void 0===g&&(g=K(b)),d=U(b,{}),!g||!Cb||d&&d.G.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled||("touchstart"===a?T(b,g,c):"touchmove"===a?c&&c.ak&&c.ak.Iv(a,b):"touchend"===a&&(c&&c.ak&&c.ak.Iv(a,b),a=c,C=!1,a.ak.set_mouseTool(IPCC.Web.UI.MouseTool.None)))}},h,g,p,k,l,n;IPCC.Web.UI.aE.addHandler(a,"touchstart",function(a){1<a.rawEvent.touches.length?(clearTimeout(p),
p=g=h=void 0):(h=a=d(a),ya===IPCC.Web.UI.MouseTool.CreatePolylineMark&&a.preventDefault(),g=function(){e("touchstart",a);p=g=h=void 0},p=setTimeout(function(){g()},200))});IPCC.Web.UI.aE.addHandler(a,"touchmove",function(a){1<a.rawEvent.touches.length||(n=a,h&&p&&(clearTimeout(p),g()),a=d(n),e("touchmove",a))});IPCC.Web.UI.aE.addHandler(a,"touchend",function(a){a=d(a);var b=function(){if(!l)return!1;var b=l.clientX-a.clientX,c=l.clientY-a.clientY;return 2500>b*b+c*c},f=function(){k=l=void 0;!K(a)&&
ya===IPCC.Web.UI.MouseTool.HandPan&&Cb&&c&&M(c.ak)},n=function(){var c=g;k&&b()?(clearTimeout(k),l=k=void 0,c(),e("touchend",a),e("doubleTap",a)):(k=setTimeout(function(){c();e("touchend",a);f()},300),l=a)};h&&p?(clearTimeout(p),ya===IPCC.Web.UI.MouseTool.CreatePolylineMark?n():f(),p=g=h=void 0):e("touchend",a)})})(P,Ra)}}function hb(a){function b(c,d,f,e){a.style["-ms-transform"]=c;a.style["-moz-transform"]=c;a.style["-webkit-transform"]=d;a.style.transform=d;a.style["-ms-transform-origin"]=f;a.style["-moz-transform-origin"]=
f;a.style["-webkit-transform-origin"]=f;a.style["transform-origin"]=f;a.style.overflow=e||""}function c(d,f,h,g){var p=-f.x/d-h.x;f=-f.y/d-h.y;b("scale("+d+", "+d+") translate("+p+"px,"+f+"px)","scale3d("+d+","+d+",1) translate3d("+p+"px,"+f+"px,0px)","center center","visible");e=function(){var c=a.getBoundingClientRect(),c={x:(a.clientWidth/2+-c.left+g.left)/d,y:(a.clientHeight/2+-c.top+g.top)/d};g.agq&&(c.x-=g.agq/2);b("scale(1,1) translate(0px,0px)","scale3d(1,1,1) translate3d(0px,0px,0px)","0% 0%",
"auto");I.LM(d,c,void 0,IPCC.ScaleTrigger.Pinch)};return a}function d(a,b,c,f){return Math.sqrt((a-=c)*a+(b-=f)*b)}function f(b){function k(a){a.x=a.clientX||a.pageX||a.screenX;a.y=a.clientY||a.pageY||a.screenY;return a}function q(a){a.preventDefault();[].forEach.call(a.changedTouches,function(a){a.identifier===A.identifier?K=k(a):a.identifier===C.identifier&&(I=k(a))});if(K&&I){a=d(K.x,K.y,I.x,I.y);var b=(K.x+I.x)/2,c=(K.y+I.y)/2;h=a/t;R*h<r.minFactor?h=r.minFactor/R:R*h>r.maxFactor&&(h=r.maxFactor/
R);u.set({x:T.x-b,y:T.y-c});x||(x=!0,z())}}function m(){x=g=!1;a.removeEventListener("touchmove",q);a.removeEventListener("touchend",m);l&&(n.off("touchmove",M),n.off("touchend",aa));G(e)}function z(){x&&G(function(){c(h,u,H,B);z()})}var H={x:a.scrollLeft,y:a.scrollTop},B=a.getBoundingClientRect(),r=pa(),v=a.querySelector(".pccPageListItem");v.clientWidth<B.width-30&&(B.agq=B.width-v.clientWidth);var u={x:0,y:0,set:function(a){this.x=a.x;this.y=a.y;return this}},x=!1;g=!0;b.preventDefault();b.stopPropagation();
var A=k(b.touches[0]),C=k(b.touches[1]),t=d(A.x,A.y,C.x,C.y),T={x:(A.x+C.x)/2,y:(A.y+C.y)/2},K,I,M=function(a){a=p(a.rawEvent);a.preventDefault=function(){};q(a)},aa=function(a){m(p(a.rawEvent))};a.addEventListener("touchmove",q);a.addEventListener("touchend",m);l&&(n.on("touchmove",M),n.on("touchend",aa))}var e=function(){},h=1;b("initial","initial","0% 0%","auto");var g=!1;a.addEventListener("touchstart",function(a){g||2!==a.touches.length||f(a)});var p=function(a){var b={};b.identifier=a.pointerId;
b.x=b.clientX=a.clientX;b.y=b.clientY=a.clientY;b.preventDefault=a.preventDefault;b.stopPropagation=a.stopPropagation;b.rawEvent=a;b.touches=[b];b.changedTouches=[b];return b},k,l=!1,n={};PCCViewer.EventEmitter.extend(n);a.addEventListener(IPCC.bg.pa.down,function(a){l=!0;a=p(a);if(k){var b={};b.touches=[k,a];b.changedTouches=[k,a];b.preventDefault=function(){k.rawEvent.preventDefault();a.rawEvent.preventDefault()};b.stopPropagation=function(){k.rawEvent.stopPropagation();a.rawEvent.stopPropagation()};
f(b)}else k=a});a.addEventListener(IPCC.bg.pa.move,function(a){n.trigger("touchmove",{rawEvent:a})});a.addEventListener(IPCC.bg.pa.up,function(a){n.trigger("touchend",{rawEvent:a});k=void 0})}function gb(){Y!==IPCC.ViewMode.SinglePage&&(La&&clearTimeout(La),Gb&&Ia(Gb),z(),La=setTimeout(function(){La=null;Gb=G(function(){u(!0)})},40))}function tb(){if(!1!==wa&&Y!==IPCC.ViewMode.SinglePage){U(!0);null!==La&&clearTimeout(La);var a=O.scrollHeight/v.length,b=0,b=na===IPCC.PageLayout.VerticalScrollDirection?
O.scrollTop:O.scrollLeft,c=b-Fb;Fb=b;b=(new Date).getTime()-cb;1E3<b&&(b=1E3);Va=c/a*1E3/b;La=setTimeout(function(){La=null;cb=0;cb=(new Date).getTime();u(!0)},1E3);cb=(new Date).getTime();0!==Va&&Math.abs(Va)<yb&&(zb&&null!==La&&(clearTimeout(La),La=null),cb=0,cb=(new Date).getTime(),setTimeout(function(){zb&&null!==La&&(clearTimeout(La),La=null);cb=0;cb=(new Date).getTime();u(zb)},40))}}function lb(a){var b,c=!1;for(b=0;b<a.childNodes.length;b++)"pccPageListItemLoading"===a.childNodes[b].className&&
(c=!0);!1===c&&(b=document.createElement("div"),b.className="pccPageListItemLoading",a.innerHTML="",a.appendChild(b),0<ab.length&&(a=document.createElement("div"),a.className="pccPageListItemLoadingContent",a.innerHTML=ab,b.appendChild(a)))}function kb(a,b,c,d){8!==document.documentMode&&(a<c||a>d?"hidden"!==b.style.visibility&&(b.style.visibility="hidden"):("visible"!==b.style.visibility&&(b.style.visibility="visible"),b.firstChild||lb(b)))}function z(){var a,b,c,d,f,e;if(!(""===O||0>=O.clientHeight)){c=
O.scrollTop;d=O.scrollLeft;var h=O.clientHeight,g=O.clientWidth,p;na===IPCC.PageLayout.VerticalScrollDirection?(a=O.scrollHeight,p=a*c/(a-h)):(a=O.scrollWidth,p=a*d/(a-g));var k=S,l=sa;sa=db=S=-1;for(a=0;a<v.length;a++){if((b=v[a])&&b.bf){b=document.getElementById(b.bf);na===IPCC.PageLayout.VerticalScrollDirection?(f=b.offsetTop,e=f+b.offsetHeight):(f=b.offsetLeft,e=f+b.offsetWidth);var n=0===a&&p<f;(p>=f||n)&&(p<=e||a===v.length-1&&p>e)&&!1===Ma&&Q!==a&&(Q=a,n=new IPCC.PageEventArgs,n.imGearPage=
I.get_currentPage(),n.pageIndex=Q,I.aR("currentPageChanged",n));var q;na===IPCC.PageLayout.VerticalScrollDirection?(n=c,q=h):(n=d,q=g);e>=n-10&&(a<S||-1===S)&&(k=S=a);f>=n-10&&(a<db||-1===db)&&(db=a);f<=n+q&&-1!==S&&(l=sa=a);kb(a,b,k,l)}-1===db&&(db=Q);-1===S&&(S=Q)}}}function U(a){if(Y!==IPCC.ViewMode.SinglePage){var b,c,d,f,e;if(!(""===O||0>=O.clientHeight)){c=O.scrollTop;d=O.scrollLeft;var h=O.clientHeight,g=O.clientWidth,p=O.scrollWidth,k=O.scrollHeight,l=0,l=na===IPCC.PageLayout.VerticalScrollDirection?
k*c/(k-h):p*d/(p-g);sa=db=S=-1;IPCC.bg.forEach(v,function(p,k){if(p&&p.bf){b=document.getElementById(p.bf);na===IPCC.PageLayout.VerticalScrollDirection?(f=b.offsetTop,e=f+b.offsetHeight):(f=b.offsetLeft,e=f+b.offsetWidth);if(l>=f&&(l<=e||k===v.length-1&&l>e)&&!1===Ma&&Q!==k&&!0===a){Q=k;var n=new IPCC.PageEventArgs;n.imGearPage=I.get_currentPage();n.pageIndex=Q;n.pageNodeID=p.bf;I.aR("currentPageChanged",n)}var q;na===IPCC.PageLayout.VerticalScrollDirection?(n=c,q=h):(n=d,q=g);e>=n-10&&-1===S&&(S=
k);f>=n-10&&-1===db&&(db=k);var m=!1;f<=n+q&&-1!==S&&(sa=k,-1===S||!1!==p.fu||void 0!==b.ak&&null!==b.ak&&!1!==b.ak.gv()||!1!==p.uy||(lb(b),m=!0));-1!==S&&kb(k,b,S,sa);if(!1===m)for(p=0;p<b.childNodes.length;p++)"pccPageListItemLoading"===b.childNodes[p].className&&b.removeChild(b.childNodes[p])}});-1===db&&(db=Q);-1===S&&(S=Q);Ma=!1}}}var I=this,G=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return setTimeout(a,16)},Ia=window.cancelAnimationFrame||
window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(a){return clearTimeout(a)},X=new IPCC.Web.UI.gR,v=[],O="",va="",P="",Ra="",Sa="",pb=0;this.lj=new IPCC.Web.UI.ImGearDocumentCollection;var Db=[];this.aGD=0;this.aGk={x:0,y:0};var Wa=0,wb=0,eb=IPCC.Web.UI.DebugErrorLevel.Production,Ha=!1,wa=!1,Q=0,S=0,db=0,sa=0,Ma=!1,fa=[],Ua=[],ab="",R=1,ya=IPCC.Web.UI.MouseTool.None,Cb=!1,ub=!0,ca=IPCC.ao.None,Ja,ea=0,Ba=0,qa=0,Fa=15,Ca=0,ua=15,Za=0,xa=0,bb=0,Ya=0,sb=0,oa=0,ra=0,$a=1,na=
IPCC.PageLayout.VerticalScrollDirection,Y=IPCC.ViewMode.Document,La=null,Gb=null,Fb=0,Va=0,cb=0,Ea=null,Ab=0,Ta="",ib="",Pa=[],za=3,mb=0,yb=.5,zb=!0,Hb,vb=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose,Bb=!0,qb,ba={},jb=!1,nb=function(){return null},Qa=null,N;this.K=function(a,b){if(Ha&&eb>=IPCC.Web.UI.DebugErrorLevel.Production){var c=a+"() threw an exception ("+b.name+'), "'+b.message+'"',c=c.replace(/\n/g," ");IPCC.fF.iB(c,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,
"PageList",this.fQ().id);c=new IPCC.ExceptionEventArgs;c.functionName=a;c.exception=b;this.aR("exceptionThrown",c)}};this.aO=function(a,b,c){if(Ha&&eb>=IPCC.Web.UI.DebugErrorLevel.Development){a+="(";var d;for(d=0;d<b.length;d++)0<d&&(a+=", "),a+=IPCC.fF.hT(b[d],c?c:0);this.mu(a+")",IPCC.Web.UI.DebugErrorLevel.Development)}};this.vD=function(a,b,c,d){if(Ha&&eb>=IPCC.Web.UI.DebugErrorLevel.Development){a+="(";var f;for(f=0;f<b.length;f++)0<f&&(a+=", "),a+=IPCC.fF.hT(b[f],d?d:0);a=a+") = "+IPCC.fF.hT(c,
1);this.mu(a,IPCC.Web.UI.DebugErrorLevel.Development)}};this.bh=function(a,b,c){if(Ha&&eb>=IPCC.Web.UI.DebugErrorLevel.Detailed){a+="(";var d;for(d=0;d<b.length;d++)0<d&&(a+=", "),a+=IPCC.fF.hT(b[d],0);a=a+") = "+IPCC.fF.hT(c,1);this.mu(a,IPCC.Web.UI.DebugErrorLevel.Detailed)}};this.mu=function(a,b){IPCC.fF.iB(a,IPCC.Web.UI.DebugItemCause.FunctionCall,b,"PageList",this.fQ().id)};this.iB=function(a){IPCC.fF.iB(a,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,"PageList",this.fQ().id)};
this.sz=function(){return Ha};this.Bf=function(a){a=!!a;if(Ha!==a){Ha=a;for(a=0;a<fa.length;a++){var b;v[fa[a]].bf&&(b=document.getElementById(v[fa[a]].bf).ak);b&&b.set_debug(Ha)}this.bm("debug")}};this.ox=function(){return eb};this.uM=function(a){IPCC.aJ.kK(a,"value",IPCC.Web.UI.DebugErrorLevel);if(eb!==a){eb=a;for(a=0;a<fa.length;a++){var b;v[fa[a]].bf&&(b=document.getElementById(v[fa[a]].bf).ak);b&&b.set_debugErrorLevel(eb)}this.bm("debugErrorLevel")}};this.Bz=function(a){b("mouseDown",a)};this.DV=
function(a){d("mouseDown",a)};this.Bm=function(a){b("mouseMove",a)};this.Ed=function(a){d("mouseMove",a)};this.CE=function(a){b("mouseUp",a)};this.Ef=function(a){d("mouseUp",a)};this.Ze=function(a){b("selectTextMouseToolCompleted",a)};this.WM=function(a){d("selectTextMouseToolCompleted",a)};this.wn=function(a){b("textPageReady",a)};this.xH=function(a){d("textPageReady",a)};this.abK=function(a){b("hyperlinkPageReady",a)};this.acv=function(a){d("hyperlinkPageReady",a)};this.axI=function(a){b("allPagesAdded",
a)};this.azz=function(a){d("allPagesAdded",a)};this.Kv=function(a){b("pageOpening",a)};this.JN=function(a){d("pageOpening",a)};this.GQ=function(a){b("pageOpened",a)};this.Kq=function(a){d("pageOpened",a)};this.zc=function(a){b("pageOpenFailed",a)};this.AY=function(a){d("pageOpenFailed",a)};this.HM=function(a){b("pageDisplayed",a)};this.LG=function(a){d("pageDisplayed",a)};this.ix=function(a){b("propertyChanged",a)};this.mP=function(a){d("propertyChanged",a)};this.aaB=function(a){b("exceptionThrown",
a)};this.abm=function(a){d("exceptionThrown",a)};this.zS=function(a){b("textExtractionFailed",a)};this.En=function(a){d("textExtractionFailed",a)};this.zo=function(a){b("markAdded",a)};this.xQ=function(a){d("markAdded",a)};this.aau=function(a){b("markCreating",a)};this.aaM=function(a){d("markCreating",a)};this.FB=function(a){b("markChanged",a)};this.DI=function(a){d("markChanged",a)};this.Gq=function(a){b("markReordered",a)};this.DQ=function(a){d("markReordered",a)};this.Gt=function(a){b("markSelectionChanged",
a)};this.Dj=function(a){d("markSelectionChanged",a)};this.Hs=function(a){b("markTextSelectionChanged",a)};this.LT=function(a){d("markTextSelectionChanged",a)};this.Al=function(a){b("markRemoved",a)};this.xA=function(a){d("markRemoved",a)};this.axd=function(a){b("commentAdding",a)};this.aAO=function(a){d("commentAdding",a)};this.yH=function(a){b("commentAdded",a)};this.Dh=function(a){d("commentAdded",a)};this.xk=function(a){b("commentRemoved",a)};this.Ea=function(a){d("commentRemoved",a)};this.uv=
function(a){b("commentChanged",a)};this.wk=function(a){d("commentChanged",a)};this.ZM=function(a){b("scaleChanged",a)};this.aam=function(a){d("scaleChanged",a)};this.wF=function(){var a=document.getElementById(v[Q].bf).ak;return a?a.get_currentState():null};this.aeQ=function(){return v[Q].ad};this.vg=function(){return R};this.aqb=function(a){la(a,void 0,void 0,void 0,void 0,void 0,IPCC.ScaleTrigger.Zoom)};this.LM=function(a,b,c,d){d=d||IPCC.ScaleTrigger.Zoom;la(R*a,c,void 0,void 0,void 0,b,d)};this.apg=
function(a,b,c,d,f){f=f||IPCC.ScaleTrigger.Zoom;8>R*a?la(R*a,!1,b,c,d,void 0,f):la(8,!1,b,c,d)};this.Xo=function(a,b){b=b||IPCC.ScaleTrigger.Zoom;la(R/a,!1,void 0,void 0,void 0,void 0,b)};this.asU=function(){return pa()};this.abF=function(a,b,c){var d,e,h,g,p=0,k;for(k=0;k<v.length;k++){h=v[k].ap;g=v[k].ah;if(!0===f(v[k].hI)){var l=h;h=g;g=l}0<h&&0<g&&(l=h/g,l>p&&(p=l,d=g,e=h))}0<p&&(h=(O.offsetWidth-IPCC.Web.nC()-W()-(Fa+ua+xa+Ya))/(96*e/v[0].hF),e=Ba,!0===f(v[0].hI)&&(e=ea),d=d/e*h,e=(O.clientHeight-
(qa+Ca+Za+bb))/(96*e/v[0].hd),h=d,!0===c&&d>e&&(h=e),la(h,!0,void 0,void 0,void 0,void 0,a,b))};this.abZ=function(a,b,c){var d,e,h,g,p=0,k;for(k=0;k<v.length;k++){h=v[k].ap;g=v[k].ah;if(!0===f(v[k].hI)){var l=h;h=g;g=l}0<h&&0<g&&(l=g/h,l>p&&(p=l,d=g,e=h))}0<p&&(h=(O.offsetHeight-IPCC.Web.nC()-(qa+Ca+Za+bb))/(96*d/v[0].hd),d=ea,!0===f(v[0].hI)&&(d=Ba),e=e/d*h,d=(O.clientWidth-W()-(Fa+ua+xa+Ya))/(96*d/v[0].hF),h=e,!0===c&&e>d&&(h=d),la(h,!0,void 0,void 0,void 0,void 0,a,b))};this.asL=function(a,b){I.yh&&
"function"===typeof I.yh&&I.yh();var c,d,h;b=b||IPCC.ScaleTrigger.Fit;a===IPCC.FitType.FitToWidth?Y===IPCC.ViewMode.Document?(c=(O.offsetWidth-IPCC.Web.nC()-W()-(Fa+ua+xa+Ya))/(oa/R),la(c,!0,void 0,void 0,void 0,void 0,b,a)):Y===IPCC.ViewMode.SinglePage?(!0===f(v[Q].hI)?(c=v[Q].ah,h=96/v[Q].hd):(c=v[Q].ap,h=96/v[Q].hF),c=(O.offsetWidth-IPCC.Web.nC()-W()-(Fa+ua+xa+Ya))/(c*h),la(c,!0,void 0,void 0,void 0,void 0,b,a)):na===IPCC.PageLayout.VerticalScrollDirection?e(b,a):I.abF(b,a):a===IPCC.FitType.ShrinkToWidth?
(d=O.clientWidth-W()-20,Y===IPCC.ViewMode.SinglePage?(!0===f(v[Q].hI)?(c=v[Q].ah,h=96/v[Q].hd):(c=v[Q].ap,h=96/v[Q].hF),d<R*c*h&&(c=(O.offsetWidth-IPCC.Web.nC()-W()-(Fa+ua+xa+Ya))/(c*h),la(c,!0,void 0,void 0,void 0,void 0,b,a))):d<oa&&la(R*d/oa,!0,void 0,void 0,void 0,void 0,b,a)):a===IPCC.FitType.ActualSize?Y!==IPCC.ViewMode.Document&&Y!==IPCC.ViewMode.SinglePage||la(1,!0,void 0,void 0,void 0,void 0,b,a):a===IPCC.FitType.FitToHeight?Y===IPCC.ViewMode.Document?(c=(O.offsetHeight-IPCC.Web.nC()-(qa+
Ca+Za+bb))/(ra/R),la(c,!0,void 0,void 0,void 0,void 0,b,a)):Y===IPCC.ViewMode.SinglePage?(!0===f(v[Q].hI)?(d=v[Q].ap,h=96/v[Q].hF):(d=v[Q].ah,h=96/v[Q].hd),c=(O.offsetHeight-IPCC.Web.nC()-(qa+Ca+Za+bb))/(d*h),la(c,!0,void 0,void 0,void 0,void 0,b,a)):na===IPCC.PageLayout.HorizontalScrollDirection?e(b,a):I.abZ(b,a):a===IPCC.FitType.BestFit&&(Y===IPCC.ViewMode.Document?(c=(O.offsetWidth-IPCC.Web.nC()-(Fa+ua+xa+Ya))/(oa/R),h=(O.offsetHeight-IPCC.Web.nC()-(qa+Ca+Za+bb))/(ra/R),h<c&&(c=h),la(c,!0,void 0,
void 0,void 0,void 0,b,a)):Y===IPCC.ViewMode.SinglePage?(!0===f(v[Q].hI)?(c=v[Q].ah,d=v[Q].ap,h=96/v[Q].hF):(c=v[Q].ap,d=v[Q].ah,h=96/v[Q].hd),c=(O.offsetWidth-IPCC.Web.nC()-W()-(Fa+ua+xa+Ya))/(c*h),h=(O.offsetHeight-IPCC.Web.nC()-(qa+Ca+Za+bb))/(d*h),h<c&&(c=h),la(c,!0,void 0,void 0,void 0,void 0,b,a)):na===IPCC.PageLayout.HorizontalScrollDirection?I.abF(b,a,!0):I.abZ(b,a,!0))};this.aDJ=function(a,b){var c=document.getElementById(v[a-1].bf);a=[];if(c){var d,f,e;try{d=ta(c)}catch(h){return null}return a=
IPCC.bg.map(b,function(a){f=c.ak.transformPagePointToWindow(new IPCC.Web.UI.Point(a.x,a.y),!0);e=Aa(c,f.x,f.y,d);return{clientX:e.x,clientY:e.y}})}return null};this.arn=function(){var a;for(a=0;a<v.length;a++)I.dR(a);U();u(!0)};this.dR=function(a){var b;v[a].bf&&(b=document.getElementById(v[a].bf));I.wf(b,a)};this.wf=function(a,b){if(null===Ea&&a&&a.ak&&!0===a.ak.gv()){a.ak.display();v[b].fu=!0;a=!1;for(var c=0;c<fa.length;c++)fa[c]===b&&(a=!0);!1===a&&fa.push(b);Y===IPCC.ViewMode.SinglePage&&(b=
Array.prototype.indexOf?Pa.indexOf(b):IPCC.Web.hk(Pa,b),-1!==b&&Pa.splice(b,1))}};this.AV=function(a,b){var c;v[a].bf&&(c=document.getElementById(v[a].bf));c&&c.ak&&c.ak.AV(b)};this.pM=function(a){var b;v[a].bf&&(b=document.getElementById(v[a].bf));b&&b.ak&&b.ak.pM()};this.WS=function(a){if(0<IPCC.Web.mI.length)if(Array.prototype.indexOf){if(0<=IPCC.Web.mI.indexOf(a))return!0}else if(0<=IPCC.Web.hk(IPCC.Web.mI,a))return!0;return!1};var Jb="";this.pQ=function(a){Jb=a};this.fQ=function(){return Jb};
this.aR=function(a,b){try{var c=X.getHandler(a);null!==c&&c(I,b)}catch(d){I.K(a+"Event",d)}};this.bm=function(a){var b=X.getHandler("propertyChanged");b&&b(this,new IPCC.qY(a))};this.awp=function(a){X.addHandler("currentPageChanged",a)};this.aAy=function(a){X.removeHandler("currentPageChanged",a)};this.aeo=function(){return P.style.cursor||"auto"};this.alN=function(a){P.style.cursor=a||"auto"};this.Vh=function(){return ya};this.LB=function(a){IPCC.aJ.kK(a,"value",IPCC.Web.UI.MouseTool);var b=!1;if(ya!==
a){Ja=null;ya=a;switch(ya){case IPCC.Web.UI.MouseTool.HandPan:ca=IPCC.ao.HandOpen;P.style.cursor=IPCC.ao.fp(ca);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:I.yx();ca=IPCC.ao.Text;P.style.cursor=IPCC.ao.fp(ca);break;case IPCC.Web.UI.MouseTool.None:ca=IPCC.ao.None;P.style.cursor=IPCC.ao.fp(ca);
break;case IPCC.Web.UI.MouseTool.Magnifier:ca=IPCC.ao.Magnifier;P.style.cursor=IPCC.ao.fp(ca);break;case IPCC.Web.UI.MouseTool.RectangleZoom:ca=IPCC.ao.RectangleZoom;P.style.cursor=IPCC.ao.fp(ca);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:ca=IPCC.ao.AddRectangleMark;P.style.cursor=IPCC.ao.fp(ca);b=!0;Ja=function(){return[new IPCC.eL(IPCC.Web.UI.MarkType.Rectangle)]};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:ca=IPCC.ao.AddRectangleRedactionMark;P.style.cursor=IPCC.ao.fp(ca);
b=!0;Ja=function(){return[new IPCC.eL(IPCC.Web.UI.MarkType.RectangleRedaction)]};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:ca=IPCC.ao.AddEllipseMark;P.style.cursor=IPCC.ao.fp(ca);b=!0;Ja=function(){return[new IPCC.eL(IPCC.Web.UI.MarkType.Ellipse)]};break;case IPCC.Web.UI.MouseTool.CreateLineMark:ca=IPCC.ao.AddLineMark;P.style.cursor=IPCC.ao.fp(ca);b=!0;Ja=function(){return[new IPCC.pJ]};break;case IPCC.Web.UI.MouseTool.CreateStampMark:ca=IPCC.ao.AddStampMark;P.style.cursor=IPCC.ao.fp(ca);
b=!0;Ja=function(){return[new IPCC.eL(IPCC.Web.UI.MarkType.Stamp)]};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:ca=IPCC.ao.AddImageStampMark;P.style.cursor=IPCC.ao.fp(ca);b=!0;Ja=function(){return[new IPCC.eL(IPCC.Web.UI.MarkType.ImageStampAnnotation)]};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:ca=IPCC.ao.AddImageStampMark;P.style.cursor=IPCC.ao.fp(ca);b=!0;Ja=function(){return[new IPCC.eL(IPCC.Web.UI.MarkType.ImageStampRedaction)]};break;case IPCC.Web.UI.MouseTool.CreateTextMark:ca=
IPCC.ao.AddTextMark;P.style.cursor=IPCC.ao.fp(ca);b=!0;Ja=function(){return[new IPCC.eL(IPCC.Web.UI.MarkType.Text)]};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:ca=IPCC.ao.AddTextMark;P.style.cursor=IPCC.ao.fp(ca);b=!0;Ja=function(){return[new IPCC.eL(IPCC.Web.UI.MarkType.TextLine)]};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:ca=IPCC.ao.AddFreehandLineMark;P.style.cursor=IPCC.ao.fp(ca);b=!0;Ja=function(){return[new IPCC.qZ]};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:ca=
IPCC.ao.AddPolylineMark;P.style.cursor=IPCC.ao.fp(ca);b=!0;Ja=function(){return[new IPCC.oy(IPCC.Web.UI.MarkType.Polyline)]};break;case IPCC.Web.UI.MouseTool.EditMarks:ca=IPCC.ao.EditMarks;P.style.cursor=IPCC.ao.fp(ca);b=!0;Ja=function(){return[new IPCC.oY(IPCC.Web.UI.MarkType.Text)]};break;default:ca=IPCC.ao.None,P.style.cursor=IPCC.ao.fp(ca)}for(a=a=0;a<v.length;a++){var c;if(v[a].bf){var d=document.getElementById(v[a].bf);d&&(c=d.ak)}c&&(!0===b?c.JM(Ja()):c.set_mouseTool(IPCC.Web.UI.MouseTool.None))}this.bm("mouseTool")}};
this.atZ=function(){return Cb};this.azh=function(a){Cb=!!a};this.AX=function(){return vb};this.LL=function(a){if(vb!==a){vb=a;for(a=0;a<fa.length;a++){var b,c;b=document.getElementById(v[fa[a]].bf);if(c=b.ak)c.set_markHandleMode(vb),this.wf(b,a)}this.bm("markHandleMode")}};this.jv=function(){return ub};this.xE=function(a){if(ub!==a){ub=a;for(a=0;a<fa.length;a++){var b;v[fa[a]].bf&&(b=document.getElementById(v[fa[a]].bf).ak);b&&b.set_textRequired(ub)}this.bm("textRequired")}};this.avf=function(){return za};
this.amT=function(a){0>a&&(a=0);za!==a&&(za=a,this.bm("maxPrefetch"))};this.atz=function(){return zb};this.azR=function(a){zb!==a&&(zb=a,this.bm("displayPagesWhenScrolling"))};this.atM=function(){return mb};this.anc=function(a){0>a&&(a=0);mb!==a&&(mb=a,this.bm("maxOutOfViewDisplay"))};this.asa=function(){return yb};this.aof=function(a){0>a&&(a=0);yb!==a&&(yb=a,this.bm("scrollDisplayThreshold"))};this.aur=function(){return na};this.aqN=function(a){if(na!==a)if(na=a,""===O||0>=O.clientHeight||Y===IPCC.ViewMode.SinglePage)this.bm("pageLayout");
else{a=Q;var b=Y;Y!==IPCC.ViewMode.EqualWidthPages&&Y!==IPCC.ViewMode.EqualFitPages||I.LD(IPCC.ViewMode.Document);O.scrollLeft=0;O.scrollTop=0;var c,d;if(na===IPCC.PageLayout.VerticalScrollDirection){Sa&&Sa.setAttribute("style","font-size:11px;color:#888;text-align:center;cursor:pointer;padding:18px 0 20px;display:table-caption;caption-side:bottom;");va.insertBefore(Ra,Sa);for(c=0;c<v.length;c++)d=document.getElementById(v[c].bf),d.style.display="block",0<ea&&(d.style.margin=qa+"px auto "+Ca+"px auto");
P.style.margin="0px "+Fa+"px 0px "+ua+"px";O.scrollLeft=(oa-O.clientWidth)/2+Fa+xa}else{Sa&&Sa.setAttribute("style","font-size:11px;color:#888;text-align:center;cursor:pointer;white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;");va.removeChild(Ra);for(c=0;c<v.length;c++)d=document.getElementById(v[c].bf),d.style.display="inline-block",0<ea&&(d.style.margin=qa+"px "+Fa+"px "+Ca+"px "+ua+"px");P.style.margin="0px";O.scrollTop=(ra-O.clientHeight)/2+qa+Za}b===
IPCC.ViewMode.EqualWidthPages?I.LD(IPCC.ViewMode.EqualWidthPages):b===IPCC.ViewMode.EqualFitPages&&I.LD(IPCC.ViewMode.EqualFitPages);this.tL(a);u(!0);this.bm("layout")}};this.arw=function(){return Y};this.LD=function(a,b){b=b||IPCC.ScaleTrigger.ViewMode;if(Y!==a)if(Y=a,""===O||0>=O.clientHeight)this.bm("viewMode");else{a=Q;this.tL(a);if(Y===IPCC.ViewMode.Document){var c=ea,d=Ba;!0===f(Xa)&&(c=Ba,d=ea);la(na===IPCC.PageLayout.VerticalScrollDirection?(O.clientWidth-(Fa+ua+xa+Ya))/c:(O.clientHeight-
(qa+Ca+Za+bb))/d,!0,void 0,void 0,void 0,void 0,b)}else e(b);this.tL(a);this.bm("viewMode");ka(ba,!0);da(ba,!0)}};var Xa=0;this.auj=function(){return Xa};this.aoG=function(a){if(Xa!==a){Xa=a;for(a=0;a<v.length;a++)0===v[a].Ii&&(v[a].hI=Xa);this.bm("pageRotation")}};this.Um=function(a){var b;b=0<arguments.length?isNaN(a)?Q:a:Q;for(var c=0;c<v.length;c++)if(b===c)return v[c].hI;return 0};var Ib=!1;this.ej=function(){return Ib};this.jF=function(a){"boolean"===typeof a&&a!==Ib&&(Ib=a)};this.atv=function(){return Hb};
this.azs=function(a,b,c,d){if(Hb!==a){Hb=a;var f;for(f=0;f<v.length;f++)0<v[f].ap?(v[f].bU.anv(a,f,v[f].ap,v[f].ah,null,b,c,d),v[f].Bp=!1):(v[f].bU.anv(a,f,ea,Ba,null,b,c,d),v[f].Bp=!0);this.bm("annotationXmlDom")}};var rb;this.tZ=function(a){rb=a};this.nY=function(){return rb};var Eb=!1;this.mt=function(){return Eb};this.qi=function(a){"boolean"===typeof a&&a!==Eb&&(Eb=a,IPCC.bg.forEach(v,function(a,b){v[b].bf&&(a=document.getElementById(v[b].bf).ak)&&a.qi(Eb)}))};this.ant=function(a){ab!==a&&(ab=
a,this.bm("loadingContent"))};this.auz=function(){return ab};this.auA=function(){var a=new IPCC.Web.UI.ImGearPageCollection,b;for(b=0;b<fa.length;b++)a.amZ(v[fa[b]].ad);return a};this.asm=function(a){if(v[a])return v[a].bf};this.oe=function(){return Bb};this.rM=function(a){Bb=a};this.iR=function(){return qb};this.sg=function(a){qb=a};this.Xr=function(a,b,c){var d=this;0<a.mw()||0<a.mr()?b(a.mw(),a.mr()):a.requestPageAttributes(function(c,f){if(!0===v[a.get_pageNumber()].Bp&&c!==ea){var e=c/ea,h=d.ho(a);
h&&w(h,e)}v[a.get_pageNumber()].Bp=!1;b(c,f)},function(a){c(a)})};this.axE=function(){!0!==jb&&(jb=!0,this.fg(Ra,"pccHidden"),ka(ba,!0),da(ba,!0))};this.atg=function(){!1!==jb&&(jb=!1,this.kc(Ra,"pccHidden"))};this.atu=function(){return jb};this.kc=function(a,b){null===a.className.match(new RegExp("(?:^|\\s)"+b+"(?!\\S)","g"))&&(a.className=a.className+" "+b)};this.fg=function(a,b){a.className=a.className.replace(new RegExp("(?:^|\\s)"+b+"(?!\\S)","g"),"")};this.arA=function(){return nb};this.azt=
function(a){nb=a};this.asf=function(){return Qa};this.aps=function(a){if(Qa!==a){var b,c,d;Qa&&(b=Qa.get_mark(),d=ba[b.get_markID()],c=nb(b,{isSelected:!0},d?d.cc:void 0),d&&aa(b,ba,c));if(Qa=a)b=Qa.get_mark(),d=ba[b.get_markID()],c=nb(b,{isSelected:!0},d?d.cc:void 0),d&&aa(b,ba,c);da(ba,!0)}};this.aAa=function(a){var b=ha();IPCC.bg.forEach(a,function(a){if(a=ba[a]){var b=nb(a.G,{isSelected:a.G.get_conversation()===Qa},a.cc);if(!IPCC.bg.vY(b))throw Error(b+" is not a valid HTMLElement");b!==a.cc&&
aa(a.G,ba,b)}});da(ba,!0,b)};this.initialize=function(){var a=this.fQ(),b;for(b=a.childNodes.length-1;0<=b;b--)"INPUT"!==a.childNodes[b].tagName&&a.removeChild(a.childNodes[b]);this.lj.add_documentAdded(k);this.lj.add_pageAdded(m);this.lj.add_pageRemoved(q);this.Jx(!0);a.ak=this;ob();a=["webkit","moz","o"];if(void 0!==P.style.animationName)Ta="animationend",ib="transitionend";else for(b=0;b<a.length;b++)if(void 0!==P.style[a[b]+"Animation"]){b=a[b];Ta=b+"AnimationEnd";ib=b+"TransitionEnd";break}};
this.avB=function(){Sa=document.createElement("div");var b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("button"),f=document.createElement("span"),e=(new Date).getFullYear(),h="?utm_source=rv&utm_medium=rv&utm_campaign=rv"+e,g=function(){I.kc(b,"open")},p=function(){I.fg(b,"open")};d.innerHTML="&#215;";d.setAttribute("type","button");c.innerHTML='<h3>Prizm Content Connect v10.5.1030.3590</h3><p>Prizm Content Connect is a web based online document viewer and can be embedded into any web page or linked from any page. Learn more about Prizm Content Connect at <a href="http://www.accusoft.com'+
h+'">www.accusoft.com</a>.</p><p>&copy; '+e+" Accusoft - All Rights Reserved.</p>";b.className="pccPageListAboutModal";b.appendChild(d);b.appendChild(c);a.appendChild(b);f.setAttribute("style","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAvlJREFUeNp0kk9IHGcYxp95Z76Zb/bbT8xuFXdd3QXBquTmoX/EWgoe7MmI9laKZ2/SemlDaRsIRG9JLz30kFx6Smkh5lQs/WMXehHciEiVKllYdHdmcGeZcXe/b3pIWppoHniO7+/9wfsaS0tLuCoXFxcYHh7+tq+vb7nZbPpEZJim2ZskyR+7u7tv+74PIQSSJHlhzqpWq1cC4zhGFEW3hRALrutei+MY3W4XqVTqrWKx+L3neTeCIIBt2y9AzYmJCTiOc6lSSoRh6Hme97BUKq0kSWJordHpdNDf3z+WSqVe833/sRACruuCcw7OOYyNjY1Ldv9ulFKiUqlgf3//w5mZmfutVgtaawAA5xzVanUtCIL1fD4PIoLWGlaxWLwE1FrDMAzYtm3mcrnC4eHhg+3t7denp6c/9X0fANButzE0NHSHiPbK5fIjpRQYY6AwDPGqep63GkXR38vLy+9GUfTZwcHBr5lMBkmSQCmFbreLwcHBH1qt1sTOzg6Ojo5AeHU+NgzjThiGkFL+uLCwYG1tbb1zcnJSkVL+9wlaa3NxcfGn2dnZzOjo6NVAIvocwDoRQQiBs7OzT4QQ3fHxcezt7a2YpgnLsgAAURSBiAYmJye/azabMOfn51/m3TMMY822bSilolqtthpFUeX8/PzG2NgYPz09/SUIgsrAwMAHnU4HRM+cHMcZ4Zz3Wy9d965t2ytKKcRxjDAMn8ZxvJROp+/29PRACIFCoXBzc3PzluM4X5VKpZtBEJw3Go37pmnWc7nc7/83fGhZ1ke+7//m+77SWl9zHCfb29tbJCIkSQKtNfL5/HthGP5ZrVa/SafTFaXUg2w2mxkZGfkCwFMLgAXgZwBTRPSEiOaCIAjb7fabtm2PMsYKrutOcc6nGWPStm3Mzc09Oj4+/pox9lc2m/2SMSY9z1ur1WrrFoDV59DrSqknQghwzlGv18uGYZSTJIHrupBSMiJ6gzE2JaVczOfzK0SERqPxuF6vv29ZFkzTxD8DAOIqXOXDxS7hAAAAAElFTkSuQmCC) no-repeat;background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAB3dJREFUeNqkl0tsG9cVhv97586T5FAULVKibFmiHAu2E7R2ZMZtVTtJi3ahjV9Igy4CxAW0CQIvEvQBZOdFs+imRbsKUBe2gyBujcLOC0lTx5WFNrCMMorhGHJb2YJMPWlxRHKGM3d4Z7oRCVkVHdm9wFlwMMPz4Zzz//deMjIygkdd9XodyWTyb6qqHnRdt0gplVq8qkqSZFiWdbRYLP7ZcRyEYQhCyKZzkYMHDz4yoO/7iMVih3K53JUwDOH7/oZJwzCEJEnQNI3fvHkzNzk5OSHLMiRJ2nQuqbe3F4SQRwpJkmBZ1rSu6/9Kp9PHPM9rmSAIAhBCJNM0h1dWVs7W63VHURRIkrSpIMPDw3jcxTnH1q1bf7V9+/bXbNtu2bogCKDrOsIwvDo5OXlwcXERiqJsKgd91Oo1glKKIAhw586d113X/cAwDARBsHESSuG6Lhhj381kMu/4vg/f95vwQoiWIfX09KBer28qhBAP/A7DEJRSeJ73YSKR+JGiKIlW80gIaczuk4qiMM75Z5IkQVVV6LoOVVU3DJbL5TZV6jAMm0CNpSgKyuUyRkdHLdd1jw4ODl4TQsgPE02tVkNfX98bsVjsP9PT038wTRO6rkMIsWFetm/fvk0DBkHwgAIlSYIsy1hZWcGZM2e+oJSeOHDgwNlSqYQwDDesYhiGsG0bpmme1jRt1nGcT1RVRUPd679jlUrlsQHDMIQsyzh27BgqlQry+fy5/v7+PfF4/OflcvmBaq+FFEKAUoq+vr535+bmnq5Wq1Plchme5/2PBZHTp08/NuDq898YhvGxLMsfnDp1CpOTkxgZGfm4vb39B5VKZUPIhjg0TQNj7HY+nx8cGxurWJYFXdcfFBj+v/U2IeRV27bPAciePHkSnZ2dmJiYeEFRlClN075W2WEY7hwYGLgQiURACIGqqlAUpRnS4cOHN02zTiSXABxfbZvmOM73u7u7f9/X11c/f/68VywW/7579+6fhGFIhRAtlc05h2ma/el0OgPgfU3TkEqlkEgkkEgkHhvwMwA/XFeRVKVS2d/T03NO13WMjo7OdnZ2TnV0dBzlnLfeawmB53nIZDJPq6rqz83NXU0mk4hEIojFYo8MGKGUXgUw1OKVbkrp2729vda1a9cwMTHxZSKR0Lq7u4dc133oIYFzjvb29u9xzm+Vy+WbQgg4jrN5QEJInBDyD0LI3hYzVZZl+XnXdb9aWFhANBrFzMwMLMv6a39//wFd13d4ntey1Q0fzGazxzjnH929e3d2dnZ20yLZAmCcELJnfcsJIVAUZVEI8Q3Hccanp6cxNTWFvXv34vjx4+js7MSNGzdetG17WtO0Df2xIRrOORzHof39/Zd0Xe8uFoubAuwHkAfwxHo4Xdeh6/pHCwsL6Vu3bt11HCcthDAB4P79+0gmk0ilUlheXl65ffv2C7Isi43MeC2k4zhgjHUODQ19fujQoeTXAQ4AuA5g6/qWGIaBYrF4Znx8/MTS0tJLyWTyK8bYfFtb2/S2bdtuGoZxOQiC12q1GiKRCABcm5mZeVmW5Zaz2PjfSqUCxlj7wMBAD3sI3FMAxgCYjY8ppc1Nf2VlxV1eXk60tbV9sWXLlnQQBPB9H5qmtRmG0SaE2G0YxnO7du1K5fP5nxWLRdTr9bOKojyZyWR+allWE7RxPqzVapifn3/XcZxfApgwTbOlSJ4BcDUMwyhjDIwxCCHgeV5o2zYcx4HneXI8Hh8wDCPKOW/OY2PHaRwuMpnMdyzLKly8ePGfqqoiEol8qqpqzjCMJwCAMYZyuVwqFApvhGE4vLy8/EfTNJd6e3vDVCplbLTVfRvAKACJEBK4rsuFEJoQoumDDZBWs7R2TlVVRb1ex9jY2LcWFhY+X21jx86dO//CGNOKxeII53xU0zR0dXW90tXV9SaAqO/7KBQKr69v8dCqCUurQ0s9zxuZmZn5MhaL/VjTtEFJkvaqqppYVS+CIGjGemBCCFzXhaZpOHLkyMULFy7kXNed3rFjx1K5XP5mEAQwTTOSyWR+G4/HXwmCALIsw3VdLC4unrp3796v1wI+C+AyALL29pZOp8uO40xYljXhui5KpZIK4Kmurq5ngiDI6bo+qKrqLsYYkWW5WdlGqxv2Ua1WU9ls9rJlWYMdHR2lWCx2VFGUV9va2p6llCIMQwghUCwWLzmO87Jt28uyLKMBOAzg/TWw0wDep5T+yfO8K7FYDNVqFYwxAPBc173ued71paWl31FKQSntzGQy+znng9FoNMcY28cYS8my3KykbdvIZrNZz/Nuua4bpFKprrWWU61WC9Vq9cT8/Pwn8Xi8eWdhAF4E8A6AAoC3AHwIYHzt3ttw+YYQJEkCpRSapkEIgSAI5jnn75VKpffq9To454qqqnsopYPRaHQ/gEFVVfd4nqfIspw2DAOe5yEIAnDOUSqV3rRt+xeKokBVVVBKUa/Xm4BbADwH4MrjnLfWXqIadkEp5b7v54UQed/336rVamhvb++o1Wr7NE0bBJCLx+PPu657o1AovEQp/Xc0Gt3wvvzfAQC0fOWy6L2jqgAAAABJRU5ErkJggg==) no-repeat 0% 0% / 20px");
f.style.width="20px";f.style.height="14px";f.style.display="inline-block";f.style.position="relative";f.style.marginRight="5px";f.style.top="3px";Sa.appendChild(f);Sa.innerHTML+="Prizm Content Connect v10.5.1030.3590";na===IPCC.PageLayout.HorizontalScrollDirection&&Y!==IPCC.ViewMode.SinglePage?Sa.setAttribute("style","font-size:11px;color:#888;text-align:center;cursor:pointer;white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;"):Sa.setAttribute("style",
"font-size:11px;color:#888;text-align:center;cursor:pointer;padding:18px 0 20px;display:table-caption;caption-side:bottom;");va.appendChild(Sa);Sa.addEventListener?Sa.addEventListener("click",g,!1):Sa.attachEvent("onclick",g);d.addEventListener?d.addEventListener("click",p,!1):d.attachEvent("onclick",p);sb=Sa.offsetHeight};this.LQ=function(){return wa};this.Jx=function(a){wa=a;this.bm("enabled")};this.aAo=function(){Q+1<v.length&&I.tL(Q+1)};this.aAR=function(){var a=Q-1;0>a&&(a=0);I.tL(a)};this.tL=
function(a){var b=Q,d;Y===IPCC.ViewMode.SinglePage?(sa=S=db=a,d=IPCC.bg.filter(ba,function(b){return b.ag!==a+1}),T(d)):(d=document.getElementById(v[a].bf),Ma=!0,na===IPCC.PageLayout.VerticalScrollDirection?O.scrollTop=d.offsetTop:O.scrollLeft=d.offsetLeft);if(Q!==a&&(Q=a,d=new IPCC.PageEventArgs,d.imGearPage=I.get_currentPage(),d.pageIndex=Q,d.pageNodeID=v[Q].bf,I.aR("currentPageChanged",d),Y===IPCC.ViewMode.SinglePage)){d=document.getElementById(v[Q].bf);var e=document.getElementById(v[b].bf);null===
d&&(d=g({overflow:"hidden",position:"absolute",margin:"0px"}),d.className="pccPageListItem pccCurrentPage",Pa.push(Q),0<ea?!0===f(Xa)?(d.style.width=Ba*R*96/v[Q].hd+"px",d.style.height=ea*R*96/v[Q].hF+"px"):(d.style.width=ea*R*96/v[Q].hF+"px",d.style.height=Ba*R*96/v[Q].hd+"px"):(d.style.width=P.clientWidth-Fa-ua+"px",d.style.height=.8*P.clientWidth+"px"),d.style.display="block",d.setAttribute("id",v[Q].bf),P.appendChild(d));0<ib.length?(O.style.overflow="hidden",P.style.width=d.style.width,P.style.height=
d.style.height,P.style.overflow="visible",null!==Ea&&(IPCC.Web.UI.aE.removeHandler(Ea,Ta,c),IPCC.Web.UI.aE.removeHandler(Ea,ib,c),Ab>Q?(this.fg(Ea,"pccNextPageIn"),this.fg(Ea,"pccPreviousPageIn"),this.fg(Ea,"pccCurrentPage"),this.fg(Ea,"pccPageForward"),this.fg(Ea,"pccPageBack"),this.kc(Ea,"pccNextPage")):Ab<Q&&(this.fg(Ea,"pccNextPageIn"),this.fg(Ea,"pccPreviousPageIn"),this.fg(Ea,"pccCurrentPage"),this.fg(Ea,"pccPageForward"),this.fg(Ea,"pccPageBack"),this.kc(Ea,"pccPreviousPage"))),IPCC.Web.UI.aE.addHandler(e,
Ta,c),IPCC.Web.UI.aE.addHandler(e,ib,c),Ea=e,Ab=b,this.kc(P,"pccPageListContainerPageChanging"),Q>b?(this.kc(e,"pccPageForward"),this.fg(d,"pccPageBack"),this.fg(d,"pccPreviousPage"),this.fg(d,"pccPreviousPageIn"),this.fg(d,"pccNextPage"),this.kc(d,"pccCurrentPage"),this.kc(d,"pccNextPageIn")):(this.kc(e,"pccPageBack"),this.fg(d,"pccPageForward"),this.fg(d,"pccPreviousPage"),this.fg(d,"pccNextPage"),this.fg(d,"pccNextPageIn"),this.kc(d,"pccCurrentPage"),this.kc(d,"pccPreviousPageIn"))):(P.style.width=
d.style.width,P.style.height=d.style.height,Q>b?(this.fg(e,"pccNextPage"),this.fg(e,"pccCurrentPage"),this.kc(e,"pccPreviousPage")):(this.fg(e,"pccPreviousPage"),this.fg(e,"pccCurrentPage"),this.kc(e,"pccNextPage")),this.fg(d,"pccPreviousPage"),this.fg(d,"pccNextPage"),this.kc(d,"pccCurrentPage"),d=IPCC.bg.filter(ba,function(b){return b.ag===a+1}),ja(d),setTimeout(function(){u(!0)},60))}};this.aAl=function(){0<v.length&&I.tL(0)};this.azn=function(){Q<v.length-1&&I.tL(v.length-1)};this.aAp=function(a){if(!1===
jb)return"CommentsPanelClosed";var b=ba[a.get_mark().get_markID()];if(!b)return"ConversationDivDoesNotExist";if(Y===IPCC.ViewMode.SinglePage&&b.ag-1!==Q)return"SinglePageModePageNotShown";var c=document.getElementById(v[b.ag-1].bf);if(!1===v[b.ag-1].fu||void 0===c||void 0===c.ak||null===c.ak||!1===c.ak.gv())return"PageOutOfView";b=a.get_mark().get_boundingRectangle();a=c.ak.transformPagePointToWindow(new IPCC.Web.UI.Point(b.x,b.y),!0);b=c.ak.transformPagePointToWindow(new IPCC.Web.UI.Point(b.x+b.width,
b.y),!0);a.x=P.offsetWidth;b.x=P.offsetWidth+W();I.ack(c.offsetTop,c.offsetLeft,a,b);return"Success"};this.azg=function(a,b){if(Y===IPCC.ViewMode.SinglePage&&a!==Q)return!0;var c=document.getElementById(v[a].bf);if(!1===v[a].fu||void 0===c||void 0===c.ak||null===c.ak||!1===c.ak.gv())return!1;a=c.ak.transformPagePointToWindow(new IPCC.Web.UI.Point(b.x,b.y),!0);b=c.ak.transformPagePointToWindow(new IPCC.Web.UI.Point(b.x+b.width,b.y+b.height),!0);I.ack(c.offsetTop,c.offsetLeft,a,b);return!0};this.azB=
function(a,b){O.scrollTop+=Math.round(b);O.scrollLeft+=Math.round(a)};this.ack=function(a,b,c,d){var f=d.x-c.x;d=d.y-c.y;var e=new IPCC.Web.UI.Point(0,0);e.x=f>O.clientWidth?c.x:c.x+f/2;e.y=d>O.clientHeight?c.y:c.y+d/2;na===IPCC.PageLayout.VerticalScrollDirection?(O.scrollTop=a+e.y-O.clientHeight/2,O.scrollLeft=e.x-O.clientWidth/2):(O.scrollLeft=b+e.x-O.clientWidth/2,O.scrollTop=e.y-O.clientHeight/2)};this.asJ=function(){0<I.lj.get_length()&&I.lj.removeAllDocuments();0<fa.length&&(wb++,setTimeout(function(){E()},
10))};this.Xi=function(a,b,c,d){if(v[a]&&!0===v[a].fu&&(a=document.getElementById(v[a].bf))&&a.ak&&!0===a.ak.gv())if(d){IPCC.aJ.fk(d,"selectText");var f=a.ak.yQ(),e=f.hG,h=f.da;f.hG=d;f.da=d;a.ak.showTextSelection(b,c);f.hG=e;f.da=h}else a.ak.showTextSelection(b,c)};this.awf=function(){var a;for(a=0;a<fa.length;a++)if(!0===v[fa[a]].fu){var b=document.getElementById(v[fa[a]].bf);(b=b?b.ak:void 0)&&!0===b.gv()&&(b.showEmptyTextSelection(0),b.extendTextSelection(void 0),b.display())}};this.awG=function(a){v[a]&&
!0===v[a].fu&&(a=(a=document.getElementById(v[a].bf))?a.ak:void 0)&&!0===a.gv()&&(a.showEmptyTextSelection(0),a.extendTextSelection(void 0),a.display())};this.yx=function(){var a,b,c;N=null;IPCC.bg.forEach(Ua,function(d){a=v[d];if(b=document.getElementById(a.bf))c=b.ak;c&&c.gv()&&c.EF()&&(c.showEmptyTextSelection(0),c.extendTextSelection(void 0),a.fu&&c.display());a=b=c=void 0})};this.xY=function(a,b){var c,d;v[a].hI+=b;360<=v[a].hI&&(v[a].hI-=360);-360>=v[a].hI&&(v[a].hI+=360);v[a].bf&&(c=document.getElementById(v[a].bf));
if(void 0!==c&&null!==c)if((d=c.ak)&&!1===d.gv())v[a].Ii+=b;else{Ma=!0;d&&!0===d.gv()&&d.rotate(b);var e=b=0,h=ea,g=Ba;!0===f(Xa)&&(h=Ba,g=ea);!0===f(v[a].hI)?d&&!0===d.gv()?(b=d.get_pageHeight(),e=d.get_pageWidth()):(b=Ba,e=ea):d&&!0===d.gv()?(b=d.get_pageWidth(),e=d.get_pageHeight()):(b=ea,e=Ba);Ma=!0;if(Y===IPCC.ViewMode.SinglePage)c.style.width=b*R*96/v[a].hF+"px",c.style.height=e*R*96/v[a].hd+"px",a===Q&&(P.style.width=b*R*96/v[a].hF+"px",P.style.height=e*R*96/v[a].hd+"px");else if(Y===IPCC.ViewMode.Document)if(c.style.width=
b*R*96/v[a].hF+"px",c.style.height=e*R*96/v[a].hd+"px",h=0,na===IPCC.PageLayout.VerticalScrollDirection){if(b*R*96/v[a].hF>oa)oa=b*R*96/v[a].hF;else if(c.clientHeight>=oa-10)for(h=oa=0;h<v.length;h++)c=document.getElementById(v[h].bf),c.clientWidth>oa&&(oa=c.clientWidth);e*R*96/v[a].hd>ra&&(ra=e*R*96/v[a].hd)}else{if(e*R*96/v[a].hd>ra)ra=e*R*96/v[a].hd;else if(c.clientWidth>=ra-10)for(h=ra=0;h<v.length;h++)c=document.getElementById(v[h].bf),c.clientHeight>ra&&(ra=c.clientHeight);b*R*96/v[a].hF>oa&&
(oa=b*R*96/v[a].hF)}else{var p;na===IPCC.PageLayout.VerticalScrollDirection?(p=h/b*R*96/v[a].hd,d&&!0===d.gv()&&d.zoom(p),Ma=!0,c.style.width=h*R*96/v[a].hF+"px",c.style.height=p*e+"px"):(p=g/e*R*96/v[a].hd,d&&!0===d.gv()&&d.zoom(p),Ma=!0,c.style.height=g*R*96/v[a].hd+"px",c.style.width=p*b+"px");h*R*96/v[a].hF>oa&&(oa=h*R*96/v[a].hF);g*R*96/v[a].hd>ra&&(ra=g*R*96/v[a].hd)}d&&!0===d.gv()&&(Ma=!0,this.wf(c,a),setTimeout(function(){if(!1!==jb){var b=ha(),c=IPCC.bg.filter(ba,function(b){return a===b.ag-
1});ka(c);da(c,!0,b)}},0))}};this.aAj=function(a){this.xY(Q,a);U()};this.abn=function(a){var b=Q;Y!==IPCC.ViewMode.SinglePage&&this.tL(b);var c=v.length-1,d;for(d=0;d<=c;d++)this.xY(d,a);Y!==IPCC.ViewMode.SinglePage&&this.tL(b)};this.Et=function(a){IPCC.aJ.lJ(a,"pageIndex",0,v.length-1);var b=v[a];if(b&&b.bf&&(!0===b.uy||!1===b.ja)){var c,d=document.getElementById(b.bf);d.ak&&d.ak.dispose();lb(d);c=new IPCC.Web.UI.PageView(d,!1);c.set_autoUpdate(!1);c.pQ(d);c.initialize();c.set_imageHandlerUrl(b.bP.nD);
c.set_requireRequestsOptimize(Bb);void 0!==qb&&c.set_serviceResponseTimeout(qb);c.set_scrollBars(IPCC.Web.UI.ScrollBars.None);t(c,b);p(c);y(c);D(c);H(c);c.set_textRequired(ub);c.set_markHandleMode(vb);c.set_cursor(-1);c.set_debug(Ha);c.set_debugErrorLevel(eb);c.jF(I.ej());rb&&c.set_resourcePath(rb);Ja?c.JM(Ja()):c.set_mouseTool(IPCC.Web.UI.MouseTool.None);c.qi(I.mt());d=new IPCC.OpenPageEventArgs;d.pageIndex=b.ad.get_pageNumber();d.imGearPage=b.ad;d.viewRotationDegreesClockwise=b.hI;d.pageNodeID=
b.bf;I.aR("pageOpening",d);b.uy=!1;b.jx=!1;a={encodedDocumentIdentifier:b.bP.get_encodedDocumentIdentifier(),pageNumber:a,artServiceOption:0,documentArtPage:b.dZ,viewRotationDegreesClockwise:b.hI};b.bU&&(a.artPage=b.bU);b.dZ&&(a.documentArtPage=b.dZ);c.openPage(a);b.ja=!0;Wa++}};this.Xg=function(){if(void 0===pb||null===pb)pb=1;var a=this.fQ().id.toString()+"_"+pb.toString();pb++;return a};this.VL=function(){return this.lj};this.ho=function(a){for(var b=0;b<v.length;b++)if(a===v[b].ad)return v[b].bU;
return null};var Kb=IPCC.bg.acs(function(){if(0<Db.length&&wa){for(var a=document.createDocumentFragment();0<Db.length;)n(Db.shift(),a);P.appendChild(a);ka(ba,!0);da(ba,!0);I.lj.aeZ(0).ef===v.length&&I.aR("allPagesAdded");setTimeout(function(){u(!0)},60)}},10)};
IPCC.PageList.prototype={dispose:function(){this.aO("dispose",arguments);this.Jx(!1);this.asJ()},get_debug:function(){try{var a=this.sz();this.bh("get_debug",arguments,a);return a}catch(b){throw this.K("get_debug",b),b;}},set_debug:function(a){try{this.aO("set_debug",arguments);var b=this.sz();this.Bf(a);b||this.aO("set_debug",arguments)}catch(d){throw this.K("set_debug",d),d;}},get_debugErrorLevel:function(){try{var a=this.ox();this.bh("get_debugErrorLevel",arguments,a);return a}catch(b){throw this.K("get_debugErrorLevel",
b),b;}},set_debugErrorLevel:function(a){try{this.aO("set_debugErrorLevel",arguments);var b=this.ox();this.uM(a);b<IPCC.Web.UI.DebugErrorLevel.Development&&this.aO("set_debugErrorLevel",arguments)}catch(d){throw this.K("set_debugErrorLevel",d),d;}},add_mouseDown:function(a){try{this.Bz(a)}catch(b){throw this.K("add_mouseDown",b),b;}},remove_mouseDown:function(a){try{this.DV(a)}catch(b){throw this.K("remove_mouseDown",b),b;}},add_mouseMove:function(a){try{this.Bm(a)}catch(b){throw this.K("add_mouseMove",
b),b;}},remove_mouseMove:function(a){try{this.Ed(a)}catch(b){throw this.K("remove_mouseMove",b),b;}},add_mouseUp:function(a){try{this.CE(a)}catch(b){throw this.K("add_mouseUp",b),b;}},remove_mouseUp:function(a){try{this.Ef(a)}catch(b){throw this.K("remove_mouseUp",b),b;}},add_selectTextMouseToolCompleted:function(a){try{this.Ze(a)}catch(b){throw this.K("add_selectTextMouseToolCompleted",b),b;}},remove_selectTextMouseToolCompleted:function(a){try{this.WM(a)}catch(b){throw this.K("remove_selectTextMouseToolCompleted",
b),b;}},add_currentPageChanged:function(a){try{this.awp(a)}catch(b){throw this.K("add_currentPageChanged",b),b;}},remove_currentPageChanged:function(a){try{this.aAy(a)}catch(b){throw this.K("remove_currentPageChanged",b),b;}},add_textPageReady:function(a){try{this.wn(a)}catch(b){throw this.K("add_textPageReady",b),b;}},remove_textPageReady:function(a){try{this.xH(a)}catch(b){throw this.K("remove_textPageReady",b),b;}},add_hyperlinkPageReady:function(a){try{this.abK(a)}catch(b){throw this.K("add_hyperlinkPageReady",
b),b;}},remove_hyperlinkPageReady:function(a){try{this.acv(a)}catch(b){throw this.K("remove_hyperlinkPageReady",b),b;}},add_textExtractionFailed:function(a){this.zS(a)},remove_textExtractionFailed:function(a){this.En(a)},add_allPagesAdded:function(a){try{this.axI(a)}catch(b){throw this.K("add_allPagesAdded",b),b;}},remove_allPagesAdded:function(a){try{this.azz(a)}catch(b){throw this.K("remove_allPagesAdded",b),b;}},add_pageOpening:function(a){try{this.Kv(a)}catch(b){throw this.K("add_pageOpening",
b),b;}},remove_pageOpening:function(a){try{this.JN(a)}catch(b){throw this.K("remove_pageOpening",b),b;}},add_pageOpened:function(a){try{this.GQ(a)}catch(b){throw this.K("add_pageOpened",b),b;}},remove_pageOpened:function(a){try{this.Kq(a)}catch(b){throw this.K("remove_pageOpened",b),b;}},add_pageOpenFailed:function(a){try{this.zc(a)}catch(b){throw this.K("add_pageOpenFailed",b),b;}},remove_pageOpenFailed:function(a){try{this.AY(a)}catch(b){throw this.K("remove_pageOpenFailed",b),b;}},add_pageDisplayed:function(a){try{this.HM(a)}catch(b){throw this.K("add_pageDisplayed",
b),b;}},remove_pageDisplayed:function(a){try{this.LG(a)}catch(b){throw this.K("remove_pageDisplayed",b),b;}},add_propertyChanged:function(a){try{this.ix(a)}catch(b){throw this.K("add_propertyChanged",b),b;}},remove_propertyChanged:function(a){try{this.mP(a)}catch(b){throw this.K("remove_propertyChanged",b),b;}},add_markAdded:function(a){try{this.zo(a)}catch(b){throw this.K("add_markAdded",b),b;}},remove_markAdded:function(a){try{this.xQ(a)}catch(b){throw this.K("remove_markAdded",b),b;}},add_markCreating:function(a){try{this.aau(a)}catch(b){throw this.K("add_markCreating",
b),b;}},remove_markCreating:function(a){try{this.aaM(a)}catch(b){throw this.K("remove_markCreating",b),b;}},add_markChanged:function(a){try{this.FB(a)}catch(b){throw this.K("add_markChanged",b),b;}},remove_markChanged:function(a){try{this.DI(a)}catch(b){throw this.K("remove_markChanged",b),b;}},add_markReordered:function(a){try{this.Gq(a)}catch(b){throw this.K("add_markReordered",b),b;}},remove_markReordered:function(a){try{this.DQ(a)}catch(b){throw this.K("remove_markReordered",b),b;}},add_markSelectionChanged:function(a){try{this.Gt(a)}catch(b){throw this.K("add_markSelectionChanged",
b),b;}},remove_markSelectionChanged:function(a){try{this.Dj(a)}catch(b){throw this.K("remove_markSelectionChanged",b),b;}},add_markTextSelectionChanged:function(a){try{this.Hs(a)}catch(b){throw this.K("add_markTextSelectionChanged",b),b;}},remove_markTextSelectionChanged:function(a){try{this.LT(a)}catch(b){throw this.K("remove_markTextSelectionChanged",b),b;}},add_markRemoved:function(a){try{this.Al(a)}catch(b){throw this.K("add_markRemoved",b),b;}},remove_markRemoved:function(a){try{this.xA(a)}catch(b){throw this.K("remove_markRemoved",
b),b;}},add_commentAdding:function(a){try{this.axd(a)}catch(b){throw this.K("add_commentAdding",b),b;}},remove_commentAdding:function(a){try{this.aAO(a)}catch(b){throw this.K("remove_commentAdding",b),b;}},add_commentAdded:function(a){try{this.yH(a)}catch(b){throw this.K("add_commentAdded",b),b;}},remove_commentAdded:function(a){try{this.Dh(a)}catch(b){throw this.K("remove_commentAdded",b),b;}},add_commentRemoved:function(a){try{this.xk(a)}catch(b){throw this.K("add_commentRemoved",b),b;}},remove_commentRemoved:function(a){try{this.Ea(a)}catch(b){throw this.K("remove_commentRemoved",
b),b;}},add_commentChanged:function(a){try{this.uv(a)}catch(b){throw this.K("add_commentChanged",b),b;}},remove_commentChanged:function(a){try{this.wk(a)}catch(b){throw this.K("remove_commentChanged",b),b;}},add_scaleChanged:function(a){try{this.ZM(a)}catch(b){throw this.K("add_scaleChanged",b),b;}},remove_scaleChanged:function(a){try{this.aam(a)}catch(b){throw this.K("remove_scaleChanged",b),b;}},add_exceptionThrown:function(a){this.aaB(a)},remove_exceptionThrown:function(a){this.abm(a)},writeToLog:function(a){try{this.iB(a)}catch(b){throw this.K("writeToLog",
b),b;}},get_currentState:function(){try{var a=this.wF();this.bh("get_currentState",arguments,a);return a}catch(b){throw this.K("get_currentState",b),b;}},get_scaleFactor:function(){try{var a=this.vg();this.bh("get_scaleFactor",arguments,a);return a}catch(b){throw this.K("get_scaleFactor",b),b;}},set_scaleFactor:function(a){try{this.aO("set_scaleFactor",arguments),this.aqb(a)}catch(b){throw this.K("set_scaleFactor",b),b;}},zoomIn:function(a){try{this.aO("zoomIn",arguments),this.LM(a)}catch(b){throw this.K("zoomIn",
b),b;}},zoomOut:function(a){try{this.aO("zoomOut",arguments),this.Xo(a)}catch(b){throw this.K("zoomOut",b),b;}},getMinMaxZoom:function(){return this.asU()},displayAll:function(){try{this.aO("displayAll",arguments,1),this.arn()}catch(a){throw this.K("displayAll",a),a;}},display:function(a){try{this.aO("display",arguments),this.dR(a)}catch(b){throw this.K("display",b),b;}},get_textRequired:function(){try{var a=this.jv();this.bh("get_textRequired",arguments,a);return a}catch(b){throw this.K("get_textRequired",
b),b;}},set_textRequired:function(a){try{this.aO("set_textRequired",arguments),this.xE(a)}catch(b){throw this.K("set_textRequired",b),b;}},selectText:function(a,b,d,c){try{this.aO("selectText",arguments,1),this.Xi(a,b,d,c)}catch(e){throw this.K("selectText",e),e;}},clearSelectedText:function(a){try{this.aO("clearSelectedText",arguments,1),this.awG(a)}catch(b){throw this.K("clearSelectedText",b),b;}},clearAllSelectedText:function(){try{this.aO("clearAllSelectedText",arguments),this.awf()}catch(a){throw this.K("clearAllSelectedText",
a),a;}},get_maxPrefetch:function(){try{var a=this.avf();this.bh("get_maxPrefetch",arguments,a);return a}catch(b){throw this.K("get_maxPrefetch",b),b;}},set_maxPrefetch:function(a){try{this.aO("set_maxPrefetch",arguments),this.amT(a)}catch(b){throw this.K("set_maxPrefetch",b),b;}},get_displayPagesWhenScrolling:function(){try{var a=this.atz();this.bh("get_displayPagesWhenScrolling",arguments,a);return a}catch(b){throw this.K("get_displayPagesWhenScrolling",b),b;}},set_displayPagesWhenScrolling:function(a){try{this.aO("set_displayPagesWhenScrolling",
arguments),this.azR(a)}catch(b){throw this.K("set_displayPagesWhenScrolling",b),b;}},get_maxOutOfViewDisplay:function(){try{var a=this.atM();this.bh("get_maxOutOfViewDisplay",arguments,a);return a}catch(b){throw this.K("get_maxOutOfViewDisplay",b),b;}},set_maxOutOfViewDisplay:function(a){try{this.aO("set_maxOutOfViewDisplay",arguments),this.anc(a)}catch(b){throw this.K("set_maxOutOfViewDisplay",b),b;}},get_scrollDisplayThreshold:function(){try{var a=this.asa();this.bh("get_scrollDisplayThreshold",
arguments,a);return a}catch(b){throw this.K("get_scrollDisplayThreshold",b),b;}},set_scrollDisplayThreshold:function(a){try{this.aO("set_scrollDisplayThreshold",arguments),this.aof(a)}catch(b){throw this.K("set_scrollDisplayThreshold",b),b;}},get_mouseCursor:function(){try{var a=this.aeo();this.bh("get_mouseCursor",arguments,a);return a}catch(b){throw this.K("aeo",b),b;}},set_mouseCursor:function(a){try{this.aO("set_mouseCursor",arguments),this.alN(a)}catch(b){throw this.K("set_mouseCursor",b),b;
}},get_mouseTool:function(){try{var a=this.Vh();this.bh("get_mouseTool",arguments,a);return a}catch(b){throw this.K("get_mouseTool",b),b;}},set_mouseTool:function(a){try{this.aO("set_mouseTool",arguments),this.LB(a)}catch(b){throw this.K("set_mouseTool",b),b;}},get_markHandleMode:function(){try{var a=this.AX();this.aO("get_markHandleMode",arguments);return a}catch(b){throw this.K("get_markHandleMode",b),b;}},set_markHandleMode:function(a){try{this.aO("set_markHandleMode",arguments),this.LL(a)}catch(b){throw this.K("set_markHandleMode",
b),b;}},get_allowMarkEdits:function(){try{var a=this.atZ();this.aO("get_allowMarkEdits",arguments);return a}catch(b){throw this.K("get_allowMarkEdits",b),b;}},set_allowMarkEdits:function(a){try{this.aO("set_allowMarkEdits",arguments),this.azh(!!a)}catch(b){throw this.K("set_allowMarkEdits",b),b;}},get_currentPage:function(){try{var a=this.aeQ();this.bh("get_currentPage",arguments,a);return a}catch(b){throw this.K("get_currentPage",b),b;}},scrollToNextPage:function(){try{this.aO("scrollToNextPage",
arguments),this.aAo()}catch(a){throw this.K("scrollToNextPage",a),a;}},scrollToPreviousPage:function(){try{this.aO("scrollToPreviousPage",arguments),this.aAR()}catch(a){throw this.K("scrollToPreviousPage",a),a;}},scrollToFirstPage:function(){try{this.aO("scrollToFirstPage",arguments),this.aAl()}catch(a){throw this.K("scrollToFirstPage",a),a;}},scrollToLastPage:function(){try{this.aO("scrollToLastPage",arguments),this.azn()}catch(a){throw this.K("scrollToLastPage",a),a;}},scrollToPage:function(a){try{this.aO("scrollToPage",
arguments,1),this.tL(a)}catch(b){throw this.K("scrollToPage",b),b;}},rotate:function(a){try{this.aO("rotate",arguments,1),this.aAj(a)}catch(b){throw this.K("rotate",b),b;}},rotateAll:function(a){try{this.aO("rotateAll",arguments,1),this.abn(a,!0)}catch(b){throw this.K("rotateAll",b),b;}},get_enabled:function(){try{var a=this.LQ();this.bh("get_enabled",arguments,a);return a}catch(b){throw this.K("get_enabled",b),b;}},get_pageLayout:function(){try{var a=this.aur();this.bh("get_pageLayout",arguments,
a);return a}catch(b){throw this.K("get_pageLayout",b),b;}},set_pageLayout:function(a){try{this.aO("set_pageLayout",arguments),this.aqN(a)}catch(b){throw this.K("set_pageLayout",b),b;}},get_viewMode:function(){try{var a=this.arw();this.bh("get_viewMode",arguments,a);return a}catch(b){throw this.K("get_viewMode",b),b;}},set_viewMode:function(a){try{this.aO("set_viewMode",arguments),this.LD(a)}catch(b){throw this.K("set_viewMode",b),b;}},get_loadingContent:function(){try{var a=this.auz();this.bh("get_loadingContent",
arguments,a);return a}catch(b){throw this.K("get_loadingContent",b),b;}},set_loadingContent:function(a){try{this.aO("set_loadingContent",arguments),this.ant(a)}catch(b){throw this.K("set_loadingContent",b),b;}},fitPages:function(a){try{this.aO("fitPages",arguments,1),this.asL(a)}catch(b){throw this.K("fitPages",b),b;}},openPage:function(a){try{this.aO("openPage",arguments,1),this.Et(a)}catch(b){throw this.K("openPage",b),b;}},requestPageAttributes:function(a,b,d){try{this.aO("requestPageAttributes",
arguments,1),this.Xr(a,b,d)}catch(c){throw this.K("requestPageAttributes",c),c;}},scrollRegionIntoView:function(a,b){try{return this.aO("scrollRegionIntoView",arguments,1),this.azg(a,b)}catch(d){throw this.K("scrollRegionIntoView",d),d;}},scrollBy:function(a,b){try{return this.aO("scrollBy",arguments,1),this.azB(a,b)}catch(d){throw this.K("scrollBy",d),d;}},scrollConversationIntoView:function(a){try{return this.aO("scrollConversationIntoView",arguments,1),this.aAp(a)}catch(b){throw this.K("scrollConversationIntoView",
b),b;}},get_documents:function(){return this.VL()},get_encryption:function(){try{var a=this.ej();this.bh("get_encryption",arguments,a);return a}catch(b){throw this.K("get_encryption",b),b;}},set_encryption:function(a){try{this.aO("set_encryption",arguments),this.jF(a)}catch(b){throw this.K("set_encryption",b),b;}},get_annotationXmlDom:function(){try{return this.atv()}catch(a){throw this.K("get_annotationXmlDom",a),a;}},set_annotationXmlDom:function(a,b,d,c){try{this.azs(a,b,d,c)}catch(e){throw this.K("set_annotationXmlDom",
e),e;}},get_resourcePath:function(){try{var a=this.nY();this.bh("get_resourcePath",arguments,a);return a}catch(b){throw this.K("get_resourcePath",b),b;}},set_resourcePath:function(a){try{this.aO("set_resourcePath",arguments),this.tZ(a)}catch(b){throw this.K("set_resourcePath",b),b;}},get_redactionDraftMode:function(){try{var a=this.mt();this.bh("get_redactionDraftMode",arguments,a);return a}catch(b){throw this.K("get_redactionDraftMode",b),b;}},set_redactionDraftMode:function(a){try{this.aO("set_redactionDraftMode",
arguments),this.qi(a)}catch(b){throw this.K("set_redactionDraftMode",b),b;}},get_displayedPages:function(){try{var a=this.auA();this.bh("get_displayedPages",arguments,a);return a}catch(b){throw this.K("get_displayedPages",b),b;}},get_requireRequestsOptimize:function(){try{var a=this.oe();this.bh("get_requireRequestsOptimize",arguments,a);return a}catch(b){throw this.K("oe",b),b;}},set_requireRequestsOptimize:function(a){try{this.aO("set_requireRequestsOptimize",arguments),this.rM(a)}catch(b){throw this.K("set_requireRequestsOptimize",
b),b;}},get_serviceResponseTimeout:function(){try{var a=this.iR();this.bh("get_serviceResponseTimeout",arguments,a);return a}catch(b){throw this.K("get_serviceResponseTimeout",b),b;}},set_serviceResponseTimeout:function(a){try{this.aO("set_serviceResponseTimeout",arguments),this.sg(a)}catch(b){throw this.K("set_serviceResponseTimeout",b),b;}},get_pageRotation:function(){try{var a=this.auj();this.bh("get_pageRotation",arguments,a);return a}catch(b){throw this.K("get_pageRotation",b),b;}},set_pageRotation:function(a){try{this.aO("set_pageRotation",
arguments),this.aoG(a)}catch(b){throw this.K("set_pageRotation",b),b;}},getNodeID:function(a){try{return this.aO("getNodeID",arguments,1),this.asm(a)}catch(b){throw this.K("getNodeID",b),b;}},get_isCommentsPanelOpen:function(){try{var a=this.atu();this.bh("get_isCommentsPanelOpen",arguments,a);return a}catch(b){throw this.K("get_isCommentsPanelOpen",b),b;}},openCommentsPanel:function(){try{this.aO("openCommentsPanel",arguments),this.axE()}catch(a){throw this.K("openCommentsPanel",a),a;}},closeCommentsPanel:function(){try{this.aO("closeCommentsPanel",
arguments),this.atg()}catch(a){throw this.K("closeCommentsPanel",a),a;}},get_conversationDOMFactory:function(){try{var a=this.arA();this.bh("get_conversationDOMFactory",arguments,a);return a}catch(b){throw this.K("get_conversationDOMFactory",b),b;}},set_conversationDOMFactory:function(a){try{this.aO("set_conversationDOMFactory",arguments),this.azt(a)}catch(b){throw this.K("set_conversationDOMFactory",b),b;}},get_selectedConversation:function(){try{var a=this.asf();this.bh("get_selectedConversation",
arguments,a);return a}catch(b){throw this.K("get_selectedConversation",b),b;}},set_selectedConversation:function(a){try{this.aO("set_selectedConversation",arguments),this.aps(a)}catch(b){throw this.K("set_selectedConversation",b),b;}},refreshConversations:function(a){try{this.aO("refreshConversations",arguments),this.aAa(a)}catch(b){throw this.K("refreshConversations",b),b;}}};IPCC.PageList.registerClass=IPCC.Web.regClass;IPCC.PageList.registerClass("IPCC.PageList",IPCC.Sys.UI.Control);
IPCC.cl=function(a){this.ad=void 0;this.ah=this.ap=0;this.hd=this.hF=72;var b=new IPCC.Web.UI.gR;this.Ar=this.zd=this.bf=void 0;this.fu=!1;this.dZ=this.bU=void 0;this.zU=!1;this.DE=0;this.apU=void 0;this.uy=this.ja=this.jx=!1;this.Ii=this.hI=0;this.Bp=!1;0<arguments.length&&void 0!==a.page&&(this.ad=a.page);this.bm=function(a){var c=b.getHandler("propertyChanged");c&&c(this,new IPCC.qY(a))};return this};IPCC.fa=function(){this.cc=void 0;return this};PCCViewer=PCCViewer||{};
(function(a){a.Error=function(a,b){function e(a,b){Object.getOwnPropertyNames(b).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function f(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}b=Error.call(null,b);this.code=a;"function"===typeof Object.create?e(this,b):f(this,b)};var b=function(){var a=function(){};return function(b){if(1<arguments.length)throw Error("Second argument not supported");if("object"!==typeof b)throw TypeError("Argument must be an object");
a.prototype=b;var e=new a;a.prototype=null;return e}}();a.Error.prototype="function"===typeof Object.create?Object.create(Error.prototype):b(Error.prototype);a.Error.prototype.constructor=a.Error})(PCCViewer||{});PCCViewer=PCCViewer||{};
PCCViewer.Language=function(){return{data:{},initializeData:function(a){this.data=a;return this},getData:function(){return this.data},getValue:function(a){if("undefined"===typeof this.data)throw Error("Language data is not set.");for(var b=a.split("."),d=this.data,c;b.length;)if(c=b.shift(),d=d[c],"undefined"===typeof d){d=a;break}return d}}}();PCCViewer=window.PCCViewer||{};
(function(){PCCViewer.Event=function(a,b){this.cb=a;this.bk=b};PCCViewer.Event.prototype.getTarget=function(){return this.cb};PCCViewer.Event.prototype.getType=function(){return this.bk};Object.defineProperties&&Object.defineProperties(PCCViewer.Event.prototype,{target:{enumerable:!0,get:function(){return this.getTarget()}},type:{enumerable:!0,get:function(){return this.getType()}}});PCCViewer.EventEmitter=function(){function a(a,b){this.ku||(this.ku={});a=a.toLowerCase();var d=this.ku[a];d||(d=this.ku[a]=
[]);d.push(b);return this}function b(a,b){this.ku||(this.ku={});a=a.toLowerCase();if(a=this.ku[a])for(var d=a.length;0<=d;d--)a[d]===b&&a.splice(d,1);return this}function d(a,b){this.ku||(this.ku={});var d=a.toLowerCase();a=new PCCViewer.Event(this,d);var d=this.ku[d],g;b&&PCCViewer.Ci.tU(a,b);if(d)for(g=d.length,d=d.slice(0),b=0;b<g;b++)d[b](a);return this}return{extend:function(c){c.on=a;c.off=b;c.trigger=d}}}()})();PCCViewer=PCCViewer||{};
(function(){function a(){this.eR=a.States.Pending;this.fK=this.h=null;this.Pg=[];this.PS=[]}function b(a,c){if(a===c)a.zs(new TypeError("A Promise cannot be resolved with a value that is itself."));else if(c&&c.abU&&a.adl&&a.adl===c)a.zs(new TypeError("A Promise cannot be resolved with a value that is itself."));else if(c&&c.abU&&"PCCViewer.Promise"===c.abU)c.then(function(b){a.XF(b)},function(b){a.zs(b)});else if(null===c||"object"!==typeof c&&"function"!==typeof c)a.XF(c);else{var e;try{e=c.then}catch(m){a.zs(m);
return}if("function"===typeof e){var f=!0,g=function(c){f&&(b(a,c),f=!1)},k=function(b){f&&(a.zs(b),f=!1)};try{e.call(c,g,k)}catch(m){f&&a.zs(m)}}else a.XF(c)}}a.prototype.then=function(d,c){var e=new a;d&&"function"===typeof d?this.Pg.push(function(a){try{var b=d(a);e.resolve(b)}catch(c){e.reject(c)}}):this.Pg.push(function(a){e.resolve(a)});c&&"function"===typeof c?this.PS.push(function(a){try{var d=c(a);b(e,d)}catch(k){e.reject(k)}}):this.PS.push(function(a){e.reject(a)});this.eR===a.States.Fulfilled&&
this.ahZ();this.eR===a.States.Rejected&&this.ajf();return e};a.prototype.resolve=function(a){this.aiH()&&b(this,a)};a.prototype.reject=function(a){this.aiH()&&this.zs(a)};a.prototype.XF=function(b){this.eR=a.States.Fulfilled;this.h=b;this.ahZ()};a.prototype.ahZ=function(){for(var a;0<this.Pg.length;)a=this.Pg.shift(),function(a,b){setTimeout(function(){a(b)},0)}(a,this.h)};a.prototype.ajf=function(){for(var a;0<this.PS.length;)a=this.PS.shift(),function(a,b){setTimeout(function(){a(b)},0)}(a,this.fK)};
a.prototype.zs=function(b){this.eR=a.States.Rejected;this.fK=b;this.ajf()};a.prototype.aiH=function(){return this.eR===a.States.Pending};a.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};PCCViewer.Deferred=function(){function b(a){this.then=function(c,e){return new b(a.then(c,e))};this.abU="PCCViewer.Promise";a.adl=this}var c=new a,e=new b(c);return{getPromise:function(){return e},resolve:function(a){c.resolve(a)},reject:function(a){c.reject(a)}}};PCCViewer.Promise={all:function(a){function b(a){return function(b){return e(a).then(function(a){b.push(a);
return b})}}function e(a){var b=new PCCViewer.Deferred;b.resolve(a);return b.getPromise()}var f;f=new PCCViewer.Deferred;var g=f.getPromise();if("[object Array]"!==Object.prototype.toString.call(a))throw new TypeError("The 'promises' argument must be an array.");f.resolve([]);for(f=0;f<a.length;f++)g=g.then(b(a[f]));return g}};"undefined"!==typeof exports&&module.exports&&(module.exports.Deferred=PCCViewer.Deferred)})();
(function(a){function b(a,b){a=Error("PCC Range Error: "+a);a.value=b;return a}function d(a){var b=[];a=a.split(",");for(var d,g,k=0,m=0,q=0;q<a.length;q++){var n=a[q].split("-");g=n[0].replace(/\s+/g,"");if(0!==g.length)if(d=g,void 0!==n[1]&&""!==n[1]&&(d=n[1].replace(/\s+/g,"")),g=+g,d=+d,!0===!isNaN(+g)&&(k=parseInt(g)),!0===!isNaN(+d)&&(m=parseInt(d)),k<m?(d=k,g=m):(d=m,g=k),1<n.length)for(n=d;n<=g;n++)b.push(n);else b.push(d)}b.sort(function(a,b){return a-b});for(q=b.length-1;0<q;q--)b[q-1]===
b[q]&&b.splice(q,1);return b}a.Util={save:function(a,b){if("Blob"in window){var d=new Blob([b],{type:"text/plain;charset=utf-8"});window.navigator.msSaveBlob?window.navigator.msSaveBlob(d,a):window.saveAs?window.saveAs(d,a):window.URL&&window.URL.createObjectURL?(b=document.createElement("a"),b.href=URL.createObjectURL(d),b.target="_blank",b.download=a,b.style.display="none",document.body.appendChild(b),b.click(),document.body.removeChild(b)):(d.data=b,a=d.type,null===a&&(a="application/octet-stream"),
a="data:"+a,d="base64"===d.encoding?a+";base64,"+d.data:"URI"===d.encoding?a+","+decodeURIComponent(d.data):btoa?a+";base64,"+btoa(d.data):a+","+encodeURIComponent(d.data),window.open(d))}else document.execCommand&&(d=window.open("about:blank","_blank"),d.document.write(b),d.document.close(),d.document.execCommand("SaveAs",!0,a+".txt"),d.close())},calculateNonOverlappingSelections:function(a,b){a=a instanceof Array?a:[a];IPCC.bg.forEach(a,function(a){IPCC.aJ.ps(a.startIndex,"selection.startIndex",
0,Number.MAX_VALUE);IPCC.aJ.ps(a.length,"selection.length",1,Number.MAX_VALUE);IPCC.aJ.fk(a.color,"selection.color");IPCC.aJ.ps(a.opacity,"selection.opacity",0,255)});IPCC.aJ.fk(b,"backgroundColor");b=IPCC.bg.aaw(a);return IPCC.bg.map(b,function(a){a.length=a.endIndex-a.startIndex+1;return a})},layerColors:function(a,b){a=a instanceof Array?a:[a];IPCC.bg.forEach(a,function(a){IPCC.aJ.fk(a.color,"selection.color");IPCC.aJ.ps(a.opacity,"selection.opacity",0,255)});IPCC.aJ.fk(b,"backgroundColor");return IPCC.bg.alO(a,
b)},validatePageRange:function(b,d){if(b&&"string"!==typeof b)return!1;try{a.Util.convertPageRangeToArray(b,d)}catch(f){return!1}return!0},convertPageRangeToArray:function(a,e){e=e||{};var f=e.lowerLimit||1,g=e.upperLimit||Number.MAX_VALUE;e=e.allowEmpty||!1;if("all"!==a&&a.match(/[^0-9\-\,\s]/g))throw b("Illegal page range value",a);var k=[];if("all"===a)for(;g>=f;)k.unshift(g--);else if(k=d(a),0===k.length&&!e||k[0]<f||k[k.length-1]>g)throw b("Pages are out of range",k.join(", "));return k}}})(PCCViewer||
{});
(function(a){a.ObservableCollection=function(){var b=[],d={};a.EventEmitter.extend(d);d.QU=function(a,b){var d=this;return setTimeout(function(){d.trigger(a,b)},0)};this.add=function(a){b.push(a);d.QU(this.EventType.ItemAdded,{item:a,count:b.length});return this};this.remove=function(a){var e=this;this.forEach(function(f,g){f===a&&(b.splice(g,1),d.QU(e.EventType.ItemRemoved,{item:a,count:b.length}))});return this};this.removeAll=function(){b=[];d.QU(this.EventType.ItemRemoved,{count:b.length});return this};
this.forEach=function(a,b){if("function"!==typeof a)throw new TypeError("The iterator parameter is not a function");IPCC.bg.forEach(this.toArray(),a,b);return this};this.toArray=function(){return[].concat(b)};this.on=function(a,b){d.on.apply(d,arguments);return this};this.off=function(a,b){d.off.apply(d,arguments);return this}};a.ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"}})(PCCViewer||{});PCCViewer=window.PCCViewer||{};
(function(){PCCViewer.Data=function(){function a(a){return this.cR.get_data(a)}function b(a,b){this.cR.set_data(a,b);return this}function d(){return this.cR.get_dataKeys()}return{extend:function(c){c.getData=a;c.setData=b;c.getDataKeys=d},ql:function(a,b){if("function"!==typeof a.getData||"function"!==typeof a.setData||"function"!==typeof a.getDataKeys||"function"!==typeof b.getData||"function"!==typeof b.setData||"function"!==typeof b.getDataKeys)throw Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");
var d=a.getDataKeys(),g,k=d.length;for(g=0;g<k;g++){var m=d[g];b.setData(m,a.getData(m))}}}}();PCCViewer.SessionData=function(){function a(a){return this.EI.get_data(a)}function b(a,b){this.EI.set_data(a,b);return this}function d(){return this.EI.get_dataKeys()}return{extend:function(c){c.getSessionData=a;c.setSessionData=b;c.getSessionDataKeys=d},aEQ:function(a,b){if("function"!==typeof a.getSessionData||"function"!==typeof a.setSessionData||"function"!==typeof a.getSessionDataKeys||"function"!==
typeof b.getSessionData||"function"!==typeof b.setSessionData||"function"!==typeof b.getSessionDataKeys)throw Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");var d=a.getSessionDataKeys(),g,k=d.length;for(g=0;g<k;g++){var m=d[g];b.setSessionData(m,a.getSessionData(m))}}}}()})();
(function(a){function b(b){this.ag=0;this.cK=a;this.GN=!1;this.qU=PCCViewer.Mark.InteractionMode.Full;this.hh=!0;b.uid&&b.viewerControl&&function(a,b){IPCC.bg.forEach(a,function(a){if(a.getUid()===b)throw Error("Uid "+b+" already exists in the document and cannot be duplicated.");})}(b.viewerControl.getAllMarks(),b.uid);var g=b.uid||IPCC.bg.ahn();b.igMark&&b.igMark instanceof IPCC.Web.UI.Mark?(this.H=b.igMark,this.cK=this.H.get_markID().toString(),this.cR=this.H.get_data()):this.cR=new IPCC.Web.UI.Data;
PCCViewer.Data.extend(this);this.EI=new IPCC.Web.UI.Data;PCCViewer.SessionData.extend(this);b.pageNumber!==a&&(IPCC.aJ.hV(b.pageNumber,"pageNumber"),this.ag=b.pageNumber);b.id!==a&&(IPCC.aJ.jf(b.id,"id"),this.cK=b.id);if(b.type&&"PlaceSignature"===b.type&&b.GN)this.bk=b.type,this.GN=!0;else if(b.type!==a){IPCC.aJ.jf(b.type,"type");var k=d(b.type,PCCViewer.Mark.Type);if(null===k)throw new RangeError("The value of mark type was invalid.");this.bk=k}"dz"in b&&(this.dz=b.dz);"ai"in b&&(this.ai=b.ai);
e(this);c(this);this.getUid=function(){return g};Object.defineProperties&&Object.defineProperty&&Object.defineProperty(this,"uid",{value:g,enumerable:!0,writable:!1})}function d(a,b){a=a.toLowerCase();for(var c in b)if(b.hasOwnProperty(c)&&c.toLowerCase&&c.toLowerCase()===a)return c;return null}function c(a){function b(a){function c(b){IPCC.aJ.ps(b.startIndex,"highlight.startIndex",0,a.getText().length);IPCC.aJ.ps(b.length,"highlight.length",1,Number.MAX_VALUE);IPCC.aJ.fk(b.color,"highlight.color");
b.opacity&&IPCC.aJ.ps(b.opacity,"highlight.opacity",0,255)}a.highlightText=function(b){if(!this.H)throw Error("It is invalid to highlight text on this mark.");if(null!==b&&"undefined"!==typeof b){b="[object Array]"!==Object.prototype.toString.call(b)?[b]:b;for(var d=0;d<b.length;d++)c(b[d])}else b=[];switch(a.getType()){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:a.H.selectText(b);break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:case PCCViewer.Mark.Type.StrikethroughAnnotation:var e=
this,f=[],g=!1,C=0,E,w,d=function(a,b,c){var d,k,n=[],q=a.aV+a.dk;!0===g&&0<=E&&0<=w&&a.ba-1===E&&(d=0,C<=q&&(n.push({startIndex:d,length:C,color:c[w].color,opacity:c[w].opacity?c[w].opacity:127}),g=!1,C=0,w=E=-1));for(var m=0;m<c.length;m++)if(d=a.aV+c[m].startIndex-b,!(0>d)){k=Array.prototype.indexOf?f.indexOf(m):IPCC.Web.hk(f,m);var t=127;-1===k&&(d+c[m].length<=q?(c[m].opacity&&(t=c[m].opacity),n.push({startIndex:d,length:c[m].length,color:c[m].color,opacity:t}),f.push(m),e.Ek.push(c[m])):(k=
q-d,0<k&&(C=c[m].length-k,t=127,c[m].opacity&&(t=c[m].opacity),n.push({startIndex:d,length:k,color:c[m].color,opacity:t}),f.push(m),e.Ek.push(c[m]),g=!0,w=m,E=a.ba)))}return n};this.Ek=[];var t=d(this.H,0,b);a.clearHighlights();0<t.length&&e.H.selectText(t);var t=[],y=this.H.dk;if(this.cP&&this.cP.length)for(var D=0;D<this.cP.length;D++)t=[],t=d(this.cP[D],y,b),y+=this.cP[D].dk,0<t.length&&this.cP[D].selectText(t)}return this};a.clearHighlights=function(){if(this.H&&!this.H)throw Error("It is invalid to clear highlights on this mark.");
switch(a.getType()){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:a.H.selectText();break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:case PCCViewer.Mark.Type.StrikethroughAnnotation:if(this.H.selectText(),this.cP&&this.cP.length)for(var b=0;b<this.cP.length;b++)this.cP[b].selectText()}return this}}switch(a.getType()){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:case PCCViewer.Mark.Type.StrikethroughAnnotation:b(a)}}
function e(b){function c(){return this.mp||a}function e(b){if("undefined"===typeof b)this.mp=a;else{if("object"!==typeof b)throw Error("The parameter `signature` is not an Object.");if(!b.path&&!b.text)throw Error("The parameter `signature` should have at least one of these properties: text, path");if(b.path){if(1>b.path.length)throw Error("The property `signature.path` cannot be empty.");if(b.path.match(/[^MLC0-9,.\s]/))throw Error("The property `signature.path` has invalid characters.");}else b.text&&
1>b.text.length&&(b.text="");this.mp=b;return this}}function m(){if(this.H)switch(this.bk){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.StrikethroughAnnotation:this.fk=this.H.get_lineColor()||this.fk;break;case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.TextSignature:this.fk=this.H.get_fillColor()||this.fk}return this.fk}function q(a){IPCC.aJ.fk(a,
"color");this.fk=a;if(this.H)switch(this.bk){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:this.H.set_lineColor(a);break;case PCCViewer.Mark.Type.StampAnnotation:this.H.set_fillColor(a);break;case PCCViewer.Mark.Type.TextSignature:this.H.set_textColor(a);this.H.set_fillColor(a);break;case PCCViewer.Mark.Type.StrikethroughAnnotation:if(this.H.set_lineColor(a),this.cP&&this.cP.length)for(var b=
0;b<this.cP.length;b++)this.cP[b].set_lineColor(a)}return this}function n(){if(this.H)switch(this.bk){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:this.da=this.H.get_fillColor()||this.da}return this.da}function u(a){this.bk===PCCViewer.Mark.Type.HighlightAnnotation||this.bk===PCCViewer.Mark.Type.TextHyperlinkAnnotation?
IPCC.aJ.fk(a,"fillColor"):IPCC.aJ.XK(a,"fillColor");this.da=a;if(this.H)switch(this.bk){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:this.H.set_fillColor(a);break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:if(this.H.set_fillColor(a),this.cP&&this.cP.length)for(var b=0;b<this.cP.length;b++)this.cP[b].set_fillColor(a)}return this}
function r(){return{dataUrl:this.aF,id:this.rd}}function l(a){IPCC.aJ.jf(a.dataUrl,"string");IPCC.aJ.jf(a.id,"string");this.aF=a.dataUrl;this.rd=a.id;if(this.H)switch(this.bk){case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:this.H.set_image(a.dataUrl),this.H.rd=a.id}return this}function C(){if(this.H)switch(this.bk){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:this.nG=
this.H.get_lineColor()||this.nG}return this.nG}function E(a){IPCC.aJ.XK(a,"borderColor");this.nG=a;if(this.H)switch(this.bk){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:this.H.set_lineColor(a)}return this}function w(){if(this.H)switch(this.bk){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.cv=
this.H.get_opacity()||this.cv}return this.cv}function t(a){IPCC.aJ.ps(a,"opacity",0,255);this.cv=a;if(this.H)switch(this.bk){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.H.set_opacity(a)}return this}function y(){if(this.H)switch(this.bk){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:case PCCViewer.Mark.Type.StrikethroughAnnotation:this.qE=
this.H.get_lineWidth()||this.qE}return this.qE}function D(a){IPCC.aJ.lJ(a,"thickness",1,50);this.qE=a;if(this.H)switch(this.bk){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.H.set_lineWidth(a);break;case PCCViewer.Mark.Type.StrikethroughAnnotation:if(this.H.set_lineWidth(a),this.cP&&this.cP.length)for(var b=0;b<this.cP.length;b++)this.cP[b].set_lineWidth(a)}return this}
function J(){if(this.H)switch(this.bk){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:this.oO=this.H.get_lineWidth()||this.oO}return this.oO}function L(a){IPCC.aJ.lJ(a,"borderThickness",1,50);this.oO=a;if(this.H)switch(this.bk){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:this.H.set_lineWidth(a)}return this}
function F(){this.H&&(this.hh=this.H.get_visible());return this.hh}function p(a){if(!0!==a&&!1!==a)throw Error("The parameter value is invalid. The parameter must be boolean true or false.");this.hh=a;this.H&&this.H.set_visible(a);var b;switch(this.bk){case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.StrikethroughAnnotation:if(this.cP&&this.cP.length)for(b=0;b<this.cP.length;b++)this.cP[b].set_visible(a);
if(this.bk===PCCViewer.Mark.Type.TextSelectionRedaction){var c=this.H;for(b=0;b<this.H.bj.length;b++)c.bj[b].set_visible(a);c.bx&&IPCC.bg.forEach(this.cP,function(c){for(b=0;b<c.bj.length;b++)c.bj[b].set_visible(a)})}}return this}function H(){if(this.H&&null!==this.H){var a=this.H.get_points();if(0<a.get_length())switch(this.bk){case PCCViewer.Mark.Type.LineAnnotation:if(a=a.getPoint(0))this.RC={x:a.x,y:a.y}}}return this.RC}function B(a){IPCC.aJ.hV(a.x,"startPoint.x");IPCC.aJ.hV(a.y,"startPoint.y");
if(this.H&&null!==this.H){var b=this.H.get_points();switch(this.bk){case PCCViewer.Mark.Type.LineAnnotation:b.setPoint(0,new IPCC.Web.UI.Point(a.x,a.y))}}this.RC=a;return this}function x(){if(this.H&&null!==this.H){var a=this.H.get_points();if(0<a.get_length())switch(this.bk){case PCCViewer.Mark.Type.LineAnnotation:if(a=a.getPoint(1))this.AA={x:a.x,y:a.y}}}return this.AA}function K(a){IPCC.aJ.hV(a.x,"endPoint.x");IPCC.aJ.hV(a.y,"endPoint.y");if(this.H&&null!==this.H){var b=this.H.get_points();switch(this.bk){case PCCViewer.Mark.Type.LineAnnotation:b.setPoint(1,
new IPCC.Web.UI.Point(a.x,a.y))}}this.AA=a;return this}function M(){if(this.H&&null!==this.H){var a;switch(this.bk){case PCCViewer.Mark.Type.LineAnnotation:switch(a=this.H.get_endHeadType(),a){case IPCC.Web.UI.LineHeadType.None:this.lM=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.lM=PCCViewer.Mark.LineHeadType.FilledTriangle}}}return this.lM}function Z(a){var b;switch(a){case PCCViewer.Mark.LineHeadType.None:b=IPCC.Web.UI.LineHeadType.None;break;case PCCViewer.Mark.LineHeadType.FilledTriangle:b=
IPCC.Web.UI.LineHeadType.Solid;break;default:throw"The specified value is not a valid line head type.";}if(this.H&&null!==this.H)switch(this.bk){case PCCViewer.Mark.Type.LineAnnotation:this.H.set_endHeadType(b)}this.lM=a;return this}function A(){if(this.H&&null!==this.H){var a=this.H.get_points(),b=a.get_length(),c=[];if(1<b)switch(this.bk){case PCCViewer.Mark.Type.PolylineAnnotation:for(var d=0;d<b;d++)c.push(a.getPoint(d));this.aG=c}}return this.aG.slice()}function Da(a){if(!(a instanceof Array))throw"invalid parameter. The parameter should be an array.";
if(!(1>=a.length)){for(var b=0;b<a.length;b++)IPCC.aJ.aq(a[b],"PolylinePoint");if(this.H&&null!==this.H)switch(b=this.H.get_points(),this.bk){case PCCViewer.Mark.Type.PolylineAnnotation:b.removeAllPoints();for(var c=0;c<a.length;c++)b.addPoint(new IPCC.Web.UI.Point(a[c].x,a[c].y))}this.aG=a;return this}}function ga(){if(this.H)switch(this.bk){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TransparentRectangleRedaction:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:var a=
this.H.get_rectangle();a instanceof IPCC.Web.UI.Rectangle&&(this.C={width:a.width,height:a.height,x:a.x,y:a.y})}return this.C}function T(a){IPCC.aJ.hV(a.x,"rectangle.x");IPCC.aJ.hV(a.y,"rectangle.y");IPCC.aJ.hV(a.width,"rectangle.width");IPCC.aJ.hV(a.height,"rectangle.height");if(this.H&&null!==this.H)switch(this.bk){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TransparentRectangleRedaction:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:var b=
new IPCC.Web.UI.Rectangle(a.x,a.y,a.width,a.height);this.H.set_rectangle(b)}this.C=a;return this}function W(){var a=0;this.H&&this.H.cI?a=this.H.cI.length:this.H&&(a=IPCC.bg.reduce([this.H].concat(this.cP||[]),function(a,b){return a+b.get_textLength()},0));return this.H?{startIndex:this.H.aV,length:a}:this.ci}function ha(b){IPCC.aJ.hV(b.startIndex,"position.startIndex");IPCC.aJ.hV(b.length,"position.length");if(0>b.startIndex)throw Error("The start index must be 0 or greater.");if(0>b.length)throw Error("The length must be 0 or greater.");
if(this.H===a||null===this.H)throw Error("The mark must be on a page.");var c,d;d=this.ag-1;for(var e=-b.startIndex,f=[],h="";;){if(d>=this.dz.get_length())throw Error("The specified length is out of range.");c=this.dz.getPage(d);if(c.cA()&&c.cA().za()&&!0===c.cA().mF()){var g=e,p=c.cA().FU(),e=e+p.length;if(0>e||0===e&&0!==b.length)throw Error("The specified start index is out of range for the specified page.");var k=0;d===this.ag-1&&(k=b.startIndex);if(e>=b.length){c=b.startIndex+b.length-1;0<=
g&&(c=b.length-1-g);f.push({pageIndex:d,endIndex:c});h+=p.substring(k,c+1);break}else c=c.cA().FU().length-1,f.push({pageIndex:d,endIndex:c}),h+=p.substring(k,c+1)}else throw Error("The text has not been retrieved for this page.");d++}this.bx=IPCC.Ez();if(this.cP){if(this.H&&(this.H.bx=this.bx,d=this.ai.ho(this.dz.getPage(this.H.ba)),this.H.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction))for(e=this.H.bj.length-1;0<=e;e--)d.removeMark(this.H.bj[e]),this.H.bj.pop();for(e=this.cP.length-1;0<=
e;e--)g=this.cP[e],d=this.ai.ho(this.dz.getPage(g.ba)),d.removeMark(g),this.cP.splice(e,1)}else this.cP=[];ja.call(this,f,c,h,b);this.ci=b;return this}function ja(a,b,c,d,e){var f,h,g;e=e||{};var p;this.cP=this.cP||[];var k=this.H.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction?V:ka;for(f=0;f<a.length;f++){h=a[f].pageIndex;g=this.dz.getPage(h);p=g.cA().eO();g=this.ai.ho(g);var l=0;b=a[f].endIndex;0===f&&(l=d.startIndex);h=a[f].pageIndex;p=e[h]||IPCC.bg.OR(p,l,b);0===f?(b=k(this.H,l,b-l+1,
c,p,h,this.bx,this.H.get_type(),g),this.H.kZ=!0):(b=k(null,l,b-l+1,c,p,h,this.bx,this.H.get_type(),g),this.cP.push(b),g.addMark(b),b.set_selected(this.H.get_selected()),this.getFillColor&&b.set_fillColor(this.H.get_fillColor()),this.getColor&&b.set_lineColor(this.H.get_lineColor()),this.getThickness&&b.set_lineWidth(this.H.get_lineWidth()),this.getHref&&b.set_href(this.H.get_href()),this.getReason&&b.set_text(this.H.get_text()));f===a.length-1&&(b.lN=!0)}}function ka(a,b,c,d,e,f,h,g,p){a||(a=new IPCC.Web.UI.Mark(g));
a.aV=b;a.dk=c;a.ly="y";a.bx=h;a.cI=d;a.bj=e||[];a.ba=f;b=IPCC.bg.reduce(a.bj,function(a,b){return a?a.union(b):b.clone()},null);a.set_rectangle(b);return a}function V(a,b,c,d,e,f,h,g,p){a||(a=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction));a.aV=b;a.dk=c;a.bx=h;a.cI=d;a.ba=f;a.bj=IPCC.bg.map(e,function(b){var c=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);c.set_rectangle(b);c.nj(!0);c.set_fillColor("#000000");c.set_text(a.bz);c.set_lineWidth(0);c.bx=h;p.addMark(c);
return c});b=IPCC.bg.reduce(e,function(a,b){return a?a.union(b):b.clone()},null);a.set_rectangle(b);return a}function ma(){if(this.H)switch(this.bk){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.bz="string"===typeof this.H.get_text()?this.H.get_text():this.bz;break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:case PCCViewer.Mark.Type.StrikethroughAnnotation:b.H.cI&&
(this.bz=b.H.cI)}return this.bz}function da(a){IPCC.aJ.jf(a,"text");this.bz=a;if(this.H)switch(this.bk){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.H.set_text(a)}return this}function aa(){if(this.H)switch(this.bk){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextInputSignature:case PCCViewer.Mark.Type.RectangleRedaction:this.kg=
this.H.get_textColor()||this.kg}return this.kg}function Na(a){IPCC.aJ.fk(a,"fontColor");this.kg=a;if(this.H)switch(this.bk){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextInputSignature:case PCCViewer.Mark.Type.RectangleRedaction:this.H.set_textColor(a)}return this}function h(){if(this.H)switch(this.bk){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.hv=
this.H.get_fontName()||this.hv}return this.hv}function Ga(a){IPCC.aJ.jf(a,"fontName");this.hv=a;if(this.H)switch(this.bk){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.H.set_fontName(a)}return this}function Oa(){if(this.H)switch(this.bk){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:this.er=this.H.get_fontSize()||this.er}return this.er}function pa(a){IPCC.aJ.lJ(a,
"fontSize",.1,288);this.er=a;if(this.H)switch(this.bk){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:this.H.set_fontSize(a)}return this}function la(){if(this.H){var a;switch(this.bk){case PCCViewer.Mark.Type.TextAnnotation:if(a=this.H.get_textHorizontalAlignment())a===IPCC.Web.UI.HorizontalAlignment.Center?this.yj="Center":a===IPCC.Web.UI.HorizontalAlignment.Left?this.yj="Left":a===IPCC.Web.UI.HorizontalAlignment.Right&&(this.yj="Right")}}return this.yj}function Ka(c){IPCC.aJ.jf(c,
"horizontalAlignment");var e=d(c,PCCViewer.Mark.HorizontalAlignment);if("Center"===e)c=IPCC.Web.UI.HorizontalAlignment.Center;else if("Left"===e)c=IPCC.Web.UI.HorizontalAlignment.Left;else if("Right"===e)c=IPCC.Web.UI.HorizontalAlignment.Right;else throw"Invalid value found for the Text horizontalAlignment.";b.yj=e;if(this.H)switch(this.bk){case PCCViewer.Mark.Type.TextAnnotation:c!==a&&(this.H.set_textHorizontalAlignment(c),this.yj=e)}return this}function fb(a){for(var b=[],c=0;c<a.length;c++)switch(a[c]){case "Bold":b.push(IPCC.Web.UI.FontStyle.Bold);
break;case "Italic":b.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":b.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":b.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+a[c]);}0===b.length&&b.push(IPCC.Web.UI.FontStyle.Regular);return b}function Aa(){if(this.H){var a=[];switch(this.bk){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:var b=this.H.get_fontStyle();b&IPCC.Web.UI.FontStyle.Bold&&
a.push("Bold");b&IPCC.Web.UI.FontStyle.Italic&&a.push("Italic");b&IPCC.Web.UI.FontStyle.Strikeout&&a.push("Strikeout");b&IPCC.Web.UI.FontStyle.Underline&&a.push("Underline");0<a.length&&(this.eC=a)}}return this.eC}function ta(a){function b(a){setTimeout(function(){h.H.set_fontStyle(a)},2)}if(!(a instanceof Array))throw"invalid parameter. The parameter should be an array.";var c,e,f=[];for(e=0;e<a.length;e++){c=d(a[e],PCCViewer.Mark.FontStyles);if(null===c)throw new RangeError("The value of font styles "+
a[e]+" is invalid.");IPCC.aJ.jf(c,"fontStyle");f.push(c)}this.eC=f;a=[];a=fb(this.eC);var h=this;if(this.H)switch(this.bk){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:c=a[0];for(e=1;e<a.length;e++)c|=a[e];b(c)}return this}function ob(){if(this.H)switch(this.bk){case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:this.vB=this.H.get_text()||this.vB}return this.vB}function hb(a){IPCC.aJ.jf(a,"label");this.vB=a;if(this.H)switch(this.bk){case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:this.H.set_text(a)}return this}
function gb(){if(this.H)switch(this.bk){case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TextSelectionRedaction:this.fK=this.H.get_text()||this.fK}return this.fK}function tb(a){IPCC.aJ.jf(a,"text");this.fK=a;if(this.H)switch(this.bk){case PCCViewer.Mark.Type.RectangleRedaction:this.H.set_text(a);break;case PCCViewer.Mark.Type.TextSelectionRedaction:if(this.H.set_text(a),this.cP&&this.cP.length)for(var b=0;b<this.cP.length;b++)this.cP[b].set_text(a)}return this}function lb(){return this.H?
this.H.get_pathString():this.ce}function kb(a){if(a.match(/[^MLC0-9.,\s]/))throw Error("The path string contains illegal characters.");var b=IPCC.bg.Wb(a);this.ce=a;this.H&&(this.H.set_pathString(a),this.H.set_pathWidth(b.width),this.H.set_pathHeight(b.height));return this}function z(){return this.H?this.H.get_href():this.oz}function U(a){if(null!==a){var b=typeof a;if("undefined"!==b&&"number"!==b&&"string"!==b)throw Error("`href` can only be set to a value that is a Number, String, null, or undefined.");
}this.oz=a;this.H&&this.H.set_href(a);this.cP&&IPCC.bg.forEach(this.cP,function(b){b.set_href(a)});return this}b.rj={x:0,y:0,width:0,height:0};var I=b.getType();switch(I){case PCCViewer.Mark.Type.LineAnnotation:b.fk="#18385F";b.fU=IPCC.Web.UI.LineStyle.Solid;b.qE=6;b.cv=255;b.RC={x:0,y:0};b.AA={x:0,y:0};b.lM="None";break;case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:b.da="#FB0404";b.cv=255;b.nG="#000000";b.oO=4;b.C={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.RectangleRedaction:b.fK=
"";b.da="#000000";b.nG="#000000";b.oO=1;b.kg="#FFFFFF";b.C={x:0,y:0,width:0,height:0};b.pN=!0;b.H&&b.H.nj(b.pN);break;case PCCViewer.Mark.Type.TransparentRectangleRedaction:b.C={x:0,y:0,width:0,height:0};b.pN=!0;b.H&&(b.H.nj(b.pN),b.H.set_fillColor("#FFFF00"),b.H.set_opacity(127),b.H.set_lineWidth(1),b.H.set_lineColor("#FFFF00"));break;case PCCViewer.Mark.Type.TextAnnotation:b.bz="";b.da="#FFFFFF";b.cv=127;b.nG="#000000";b.oO=4;b.kg="#000000";b.hv="Arial";b.er=12;b.eC=[];b.yj="Left";b.C={x:0,y:0,
width:0,height:0};break;case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:b.vB="Approved";b.C={x:0,y:0,width:0,height:0};I===PCCViewer.Mark.Type.StampRedaction?(b.pN=!0,b.H&&(b.H.nj(b.pN),b.H.set_fillColor("#000000"))):b.fk="#000000";break;case PCCViewer.Mark.Type.HighlightAnnotation:b.da="#FFFF00";b.bz="";b.cI="";b.H&&b.H.cI&&(b.bz=b.H.cI);b.ci={startIndex:0,length:0};b.Ek=[];b.cP=[];break;case PCCViewer.Mark.Type.TextSelectionRedaction:b.fK="";b.bz="";b.ci={startIndex:0,
length:0};b.H&&(b.H.set_fillColor("#000000"),b.H.cI&&(b.bz=b.H.cI));b.Ek=[];b.cP=[];break;case PCCViewer.Mark.Type.TextHyperlinkAnnotation:b.oz="";b.da="#3B00FF";b.bz="";b.H&&b.H.cI&&(b.bz=b.H.cI);b.ci={startIndex:0,length:0};b.Ek=[];b.cP=[];break;case PCCViewer.Mark.Type.TextRedaction:b.bz="";b.kg="#000000";b.hv="Arial";b.er=12;b.C={x:0,y:0,width:0,height:0};b.pN=!0;b.H&&(b.H.nj(b.pN),b.H.set_fillColor("#FFFFFF"));break;case PCCViewer.Mark.Type.FreehandAnnotation:b.cv=255;case PCCViewer.Mark.Type.FreehandSignature:b.C=
{x:0,y:0,width:0,height:0};b.qE=4;b.fk="#000000";b.ce="M0,0";break;case PCCViewer.Mark.Type.TextSignature:b.bz="John Doe";b.C={x:0,y:0,width:0,height:0};b.fk="#000000";b.H&&(b.fk=b.H.da||"#000000",b.H.nj(b.pN),b.H.set_fillColor(b.fk));b.hv="";break;case PCCViewer.Mark.Type.TextInputSignature:b.bz="";b.C={x:0,y:0,width:0,height:0};b.kg="#000000";b.H&&(b.kg=b.H.get_textColor()||"#000000",b.H.nj(!1));b.hv="Courier New";break;case "PlaceSignature":b.mp=a;b.C={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:b.aF=
"";b.rd="";b.C={x:0,y:0,width:0,height:0};b.H&&I===PCCViewer.Mark.Type.ImageStampRedaction&&(b.pN=!0,b.H.nj(b.pN));break;case PCCViewer.Mark.Type.PolylineAnnotation:b.fk="#000000";b.fU=IPCC.Web.UI.LineStyle.Solid;b.qE=2;b.cv=255;b.aG=[{x:0,y:0},{x:0,y:0}];break;case PCCViewer.Mark.Type.StrikethroughAnnotation:b.fk="#000000",b.fU=IPCC.Web.UI.LineStyle.Solid,b.qE=2,b.bz="",b.cI="",b.H&&b.H.cI&&(b.bz=b.H.cI),b.ci={startIndex:0,length:0},b.Ek=[],b.cP=[]}if(b.mp||"PlaceSignature"===b.bk)b.getSignature=
c,b.setSignature=e,Object.defineProperties&&Object.defineProperties(b,{signature:{enumerable:!0,get:function(){return this.getSignature()},set:function(a){return this.setSignature(a)}}});b.fk!==a&&(b.getColor=m,b.setColor=q,Object.defineProperties&&Object.defineProperties(b,{color:{enumerable:!0,get:function(){return this.getColor()},set:function(a){return this.setColor(a)}}}));b.da!==a&&(b.getFillColor=n,b.setFillColor=u,Object.defineProperties&&Object.defineProperties(b,{fillColor:{enumerable:!0,
get:function(){return this.getFillColor()},set:function(a){return this.setFillColor(a)}}}));b.aF!==a&&(b.getImage=r,b.setImage=l,Object.defineProperties&&Object.defineProperties(b,{image:{enumerable:!0,get:function(){return this.getImage()},set:function(a){return this.setImage(a)}}}));b.nG!==a&&(b.getBorderColor=C,b.setBorderColor=E,Object.defineProperties&&Object.defineProperties(b,{borderColor:{enumerable:!0,get:function(){return this.getBorderColor()},set:function(a){return this.setBorderColor(a)}}}));
b.cv!==a&&0<=b.cv&&(b.getOpacity=w,b.setOpacity=t,Object.defineProperties&&Object.defineProperties(b,{opacity:{enumerable:!0,get:function(){return this.getOpacity()},set:function(a){return this.setOpacity(a)}}}));b.qE&&(b.getThickness=y,b.setThickness=D,Object.defineProperties&&Object.defineProperties(b,{thickness:{enumerable:!0,get:function(){return this.getThickness()},set:function(a){return this.setThickness(a)}}}));b.oO!==a&&(b.getBorderThickness=J,b.setBorderThickness=L,Object.defineProperties&&
Object.defineProperties(b,{borderThickness:{enumerable:!0,get:function(){return this.getBorderThickness()},set:function(a){return this.setBorderThickness(a)}}}));b.hh!==a&&(b.getVisible=F,b.setVisible=p,Object.defineProperties&&Object.defineProperties(b,{visible:{enumerable:!0,get:function(){return this.getVisible()},set:function(a){return this.setVisible(a)}}}));b.RC&&(b.getStartPoint=H,b.setStartPoint=B,Object.defineProperties&&Object.defineProperties(b,{startPoint:{enumerable:!0,get:function(){return this.getStartPoint()},
set:function(a){return this.setStartPoint(a)}}}));b.AA&&(b.getEndPoint=x,b.setEndPoint=K,Object.defineProperties&&Object.defineProperties(b,{endPoint:{enumerable:!0,get:function(){return this.getEndPoint()},set:function(a){return this.setEndPoint(a)}}}));b.lM&&(b.getEndHeadType=M,b.setEndHeadType=Z,Object.defineProperties&&Object.defineProperties(b,{endHeadType:{enumerable:!0,get:function(){return this.getEndHeadType()},set:function(a){return this.setEndHeadType(a)}}}));b.aG&&(b.getPoints=A,b.setPoints=
Da,Object.defineProperties&&Object.defineProperties(b,{points:{enumerable:!0,get:function(){return this.getPoints()},set:function(a){return this.setPoints(a)}}}));b.C&&(b.getRectangle=ga,b.setRectangle=T,Object.defineProperties&&Object.defineProperties(b,{rectangle:{enumerable:!0,get:function(){return this.getRectangle()},set:function(a){return this.setRectangle(a)}}}));b.ci&&(b.getPosition=W,b.setPosition=ha,b.Jm=ja,Object.defineProperties&&Object.defineProperties(b,{position:{enumerable:!0,get:function(){return this.getPosition()},
set:function(a){return this.setPosition(a)}}}));b.bz!==a&&(b.getText=ma,I=b.getType(),I!==PCCViewer.Mark.Type.HighlightAnnotation&&I!==PCCViewer.Mark.Type.TextSelectionRedaction&&I!==PCCViewer.Mark.Type.TextHyperlinkAnnotation&&I!==PCCViewer.Mark.Type.StrikethroughAnnotation&&(b.setText=da),Object.defineProperties&&(I={enumerable:!0,get:function(){return this.getText()}},b.setText!==a&&(I.set=function(a){return this.setText(a)}),Object.defineProperties(b,{text:I})));b.kg&&(b.getFontColor=aa,b.setFontColor=
Na,Object.defineProperties&&Object.defineProperties(b,{fontColor:{enumerable:!0,get:function(){return this.getFontColor()},set:function(a){return this.setFontColor(a)}}}));b.hv!==a&&(b.getFontName=h,b.setFontName=Ga,Object.defineProperties&&Object.defineProperties(b,{fontName:{enumerable:!0,get:function(){return this.getFontName()},set:function(a){return this.setFontName(a)}}}));b.er&&(b.getFontSize=Oa,b.setFontSize=pa,Object.defineProperties&&Object.defineProperties(b,{fontSize:{enumerable:!0,get:function(){return this.getFontSize()},
set:function(a){return this.setFontSize(a)}}}));b.yj&&(b.getHorizontalAlignment=la,b.setHorizontalAlignment=Ka,Object.defineProperties&&Object.defineProperties(b,{horizontalAlignment:{enumerable:!0,get:function(){return this.getHorizontalAlignment()},set:function(a){return this.setHorizontalAlignment(a)}}}));b.eC&&(b.getFontStyle=Aa,b.setFontStyle=ta,Object.defineProperties&&Object.defineProperties(b,{fontStyle:{enumerable:!0,get:function(){return this.getFontStyle()},set:function(a){return this.setFontStyle(a)}}}));
"undefined"!==typeof b.vB&&(b.getLabel=ob,b.setLabel=hb,Object.defineProperties&&Object.defineProperties(b,{label:{enumerable:!0,get:function(){return this.getLabel()},set:function(a){return this.setLabel(a)}}}));"undefined"!==typeof b.fK&&(b.getReason=gb,b.setReason=tb,Object.defineProperties&&Object.defineProperties(b,{reason:{enumerable:!0,get:function(){return this.getReason()},set:function(a){return this.setReason(a)}}}));b.ce&&(b.setPath=kb,b.getPath=lb,Object.defineProperties&&Object.defineProperties(b,
{path:{enumerable:!0,get:lb,set:kb}}));"undefined"!==typeof b.oz&&(b.setHref=U,b.getHref=z,Object.defineProperties&&Object.defineProperties(b,{href:{enumerable:!0,get:z,set:U}}))}PCCViewer.Mark=b;PCCViewer.Mark.prototype.getType=function(){return this.bk};PCCViewer.Mark.prototype.getId=function(){return this.cK};PCCViewer.Mark.prototype.getPageNumber=function(){return this.ag};PCCViewer.Mark.prototype.getConversation=function(){this.dg||(this.dg=new PCCViewer.Conversation(this));return this.dg};PCCViewer.Mark.prototype.getBoundingRectangle=
function(){if(this.H){var a=this.H.get_boundingRectangle();a instanceof IPCC.Web.UI.Rectangle&&(this.rj={width:a.width,height:a.height,x:a.x,y:a.y})}return this.rj};PCCViewer.Mark.prototype.getInteractionMode=function(){if(this.H)switch(this.H.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return PCCViewer.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return PCCViewer.Mark.InteractionMode.Full;default:return PCCViewer.Mark.InteractionMode.Full}return this.qU};
PCCViewer.Mark.prototype.setInteractionMode=function(a){a=d(a,PCCViewer.Mark.InteractionMode);var b;switch(a){case PCCViewer.Mark.InteractionMode.SelectionDisabled:b=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case PCCViewer.Mark.InteractionMode.Full:b=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw Error("The specified interactionMode is not valid.");}this.H&&this.H.set_interactionMode(b);this.qU=a;return this};PCCViewer.Mark.prototype.reset=function(){var a=new b({type:this.bk,
GN:this.GN});this.cR={};this.setBorderColor&&a.getBorderColor&&this.setBorderColor(a.getBorderColor());this.setBorderThickness&&a.getBorderThickness&&this.setBorderThickness(a.getBorderThickness());this.setColor&&a.getColor&&this.setColor(a.getColor());this.setEndHeadType&&a.getEndHeadType&&this.setEndHeadType(a.getEndHeadType());this.setEndPoint&&a.getEndPoint&&this.setEndPoint(a.getEndPoint());this.setFillColor&&a.getFillColor&&this.setFillColor(a.getFillColor());this.setFontColor&&a.getFontColor&&
this.setFontColor(a.getFontColor());this.setFontName&&a.getFontName&&this.setFontName(a.getFontName());this.setFontSize&&a.getFontSize&&this.setFontSize(a.getFontSize());this.setFontStyle&&a.getFontStyle&&this.setFontStyle(a.getFontStyle());this.setHorizontalAlignment&&a.getHorizontalAlignment&&this.setHorizontalAlignment(a.getHorizontalAlignment());this.setLabel&&a.getLabel&&this.setLabel(a.getLabel());this.setPosition&&this.H&&a.getPosition&&this.setPosition(a.getPosition());this.setReason&&a.setReason&&
this.setReason(a.getReason());this.setOpacity&&a.getOpacity&&this.setOpacity(a.getOpacity());this.setRectangle&&a.getRectangle&&this.setRectangle(a.getRectangle());this.setStartPoint&&a.getStartPoint&&this.setStartPoint(a.getStartPoint());this.setText&&a.getText&&this.setText(a.getText());this.setThickness&&a.getThickness&&this.setThickness(a.getThickness());this.setPath&&a.getPath&&this.setPath(a.getPath());this.setHref&&a.getHref&&this.setHref(a.getHref());this.setImage&&a.getImage&&this.setImage(a.getImage());
this.setInteractionMode&&a.getInteractionMode&&this.setInteractionMode(a.getInteractionMode());this.setPoints&&a.getPoints&&this.setPoints(a.getPoints())};Object.defineProperties&&Object.defineProperties(PCCViewer.Mark.prototype,{type:{enumerable:!0,get:function(){return this.getType()}},pageNumber:{enumerable:!0,get:function(){return this.getPageNumber()}},id:{enumerable:!0,get:function(){return this.getId()}},conversation:{enumerable:!0,get:function(){return this.getConversation()}},boundingRectangle:{enumerable:!0,
get:function(){return this.getBoundingRectangle()}},interactionMode:{enumerable:!0,get:function(){return this.getInteractionMode()},set:function(a){return this.setInteractionMode(a)}}});PCCViewer.Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",
TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextInputSignature:"TextInputSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};PCCViewer.Mark.LineHeadType=
{None:"None",FilledTriangle:"FilledTriangle"};PCCViewer.Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};PCCViewer.Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};PCCViewer.Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"}})();
(function(a){function b(a,b){this.cZ=a;var f;a:{a=b.toLowerCase();for(f in PCCViewer.MouseTool.Type)if(PCCViewer.MouseTool.Type.hasOwnProperty(f)&&f.toLowerCase&&f.toLowerCase()===a)break a;f=null}if(null===f)throw new RangeError("The value of type was invalid.");this.bk=f;d(this)}function d(a){switch(a.getType()){case PCCViewer.MouseTool.Type.Pan:a.Bk=!1;break;case PCCViewer.MouseTool.Type.PanAndEdit:a.Bk=!0;break;case PCCViewer.MouseTool.Type.LineAnnotation:a.bK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.LineAnnotation});
break;case PCCViewer.MouseTool.Type.RectangleAnnotation:a.bK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.RectangleAnnotation});break;case PCCViewer.MouseTool.Type.EllipseAnnotation:a.bK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.EllipseAnnotation});break;case PCCViewer.MouseTool.Type.TextAnnotation:a.bK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextAnnotation});break;case PCCViewer.MouseTool.Type.StampAnnotation:a.bK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.StampAnnotation});break;case PCCViewer.MouseTool.Type.HighlightAnnotation:a.bK=
new PCCViewer.Mark({type:PCCViewer.Mark.Type.HighlightAnnotation});break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:a.bK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextHyperlinkAnnotation});break;case PCCViewer.MouseTool.Type.FreehandAnnotation:a.bK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.FreehandAnnotation});break;case PCCViewer.MouseTool.Type.RectangleRedaction:a.bK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.RectangleRedaction});break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:a.bK=
new PCCViewer.Mark({type:PCCViewer.Mark.Type.TransparentRectangleRedaction});break;case PCCViewer.MouseTool.Type.TextRedaction:a.bK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextRedaction});break;case PCCViewer.MouseTool.Type.TextInputSignature:a.bK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextInputSignature});break;case PCCViewer.MouseTool.Type.StampRedaction:a.bK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.StampRedaction});break;case PCCViewer.MouseTool.Type.PlaceSignature:a.bK=new PCCViewer.Mark({type:"PlaceSignature",
GN:!0});break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:a.bK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextSelectionRedaction});break;case PCCViewer.MouseTool.Type.ImageStampAnnotation:a.bK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.ImageStampAnnotation});break;case PCCViewer.MouseTool.Type.ImageStampRedaction:a.bK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.ImageStampRedaction});break;case PCCViewer.MouseTool.Type.PolylineAnnotation:a.bK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.PolylineAnnotation});
break;case PCCViewer.MouseTool.Type.StrikethroughAnnotation:a.bK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.StrikethroughAnnotation})}a.bK&&(a.getTemplateMark=function(){return this.bK},Object.defineProperties&&Object.defineProperties(a,{templateMark:{enumerable:!0,get:a.getTemplateMark}}))}b.prototype.getName=function(){return this.cZ};b.prototype.getType=function(){return this.bk};Object.defineProperties&&Object.defineProperties(b.prototype,{name:{enumerable:!0,get:function(){return this.getName()}},
type:{enumerable:!0,get:function(){return this.getType()}}});b.prototype.reset=function(){this.bK&&this.bK.reset()};PCCViewer.MouseTools={Ot:{},createMouseTool:function(a,d){var f=a.toLowerCase(),g=this.Ot[f];if(g){if(g.getType().toLowerCase()!==d.toLowerCase())throw Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");g.reset()}else this.Ot[f]=new b(a,d);return this.Ot[f]},getMouseTool:function(b){return b&&
b.toLowerCase?(b=b.toLowerCase(),this.Ot[b]):a}};PCCViewer.MouseTool=b;PCCViewer.MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",
RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",TextInputSignature:"TextInputSignature",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};PCCViewer.MouseTools.createMouseTool("AccusoftMagnifier",
PCCViewer.MouseTool.Type.Magnifier);PCCViewer.MouseTools.createMouseTool("AccusoftSelectToZoom",PCCViewer.MouseTool.Type.SelectToZoom);PCCViewer.MouseTools.createMouseTool("AccusoftPan",PCCViewer.MouseTool.Type.Pan);PCCViewer.MouseTools.createMouseTool("AccusoftPanAndEdit",PCCViewer.MouseTool.Type.PanAndEdit);PCCViewer.MouseTools.createMouseTool("AccusoftSelectText",PCCViewer.MouseTool.Type.SelectText);PCCViewer.MouseTools.createMouseTool("AccusoftEditMarks",PCCViewer.MouseTool.Type.EditMarks);PCCViewer.MouseTools.createMouseTool("AccusoftLineAnnotation",
PCCViewer.MouseTool.Type.LineAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftArrowAnnotation",PCCViewer.MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");PCCViewer.MouseTools.createMouseTool("AccusoftRectangleAnnotation",PCCViewer.MouseTool.Type.RectangleAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftEllipseAnnotation",PCCViewer.MouseTool.Type.EllipseAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftTextAnnotation",PCCViewer.MouseTool.Type.TextAnnotation);
PCCViewer.MouseTools.createMouseTool("AccusoftStampAnnotation",PCCViewer.MouseTool.Type.StampAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftHighlightAnnotation",PCCViewer.MouseTool.Type.HighlightAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",PCCViewer.MouseTool.Type.TextHyperlinkAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftFreehandAnnotation",PCCViewer.MouseTool.Type.FreehandAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftPlaceSignature",
PCCViewer.MouseTool.Type.PlaceSignature);PCCViewer.MouseTools.createMouseTool("AccusoftTextSelectionRedaction",PCCViewer.MouseTool.Type.TextSelectionRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftRectangleRedaction",PCCViewer.MouseTool.Type.RectangleRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",PCCViewer.MouseTool.Type.TransparentRectangleRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftTextRedaction",PCCViewer.MouseTool.Type.TextRedaction);
PCCViewer.MouseTools.createMouseTool("AccusoftTextInputSignature",PCCViewer.MouseTool.Type.TextInputSignature);PCCViewer.MouseTools.createMouseTool("AccusoftStampRedaction",PCCViewer.MouseTool.Type.StampRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftImageStampAnnotation",PCCViewer.MouseTool.Type.ImageStampAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftImageStampRedaction",PCCViewer.MouseTool.Type.ImageStampRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftPolylineAnnotation",
PCCViewer.MouseTool.Type.PolylineAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftStrikethroughAnnotation",PCCViewer.MouseTool.Type.StrikethroughAnnotation)})();PCCViewer=window.PCCViewer||{};
(function(a){function b(c,d){if(!(this instanceof b))return new b(c,d);if(!IPCC.bg.vY(c))throw Error("The 'element' argument is required.");if(!d.documentID)throw Error("A valid value for 'options.documentID' is required");if(!d.imageHandlerUrl)throw Error("A valid value for 'options.imageHandlerUrl' is required");var e=this;IPCC.bg.Si(c);var f=document.createElement("div");f.className="pccViewerControl";f.id="pccViewerControl-"+IPCC.Ez();c.appendChild(f);this.bI=f;this.gd=c;c=document.createElement("div");
c.className="pccPageListLoading";f.appendChild(c);this.ve=c;PCCViewer.EventEmitter.extend(this);this.Md=!1;this.aI=PCCViewer.Ci.tU({},b.Iz,d);this.aI.language=PCCViewer.Ci.tU({},b.aqR,d.language?d.language:{});d.language&&PCCViewer.Language.initializeData(d.language);if("vertical"===this.aI.pageLayout.toLowerCase())this.aI.pageLayout=IPCC.PageLayout.VerticalScrollDirection;else if("horizontal"===this.aI.pageLayout.toLowerCase())this.aI.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;else throw Error("The value of 'options.pageLayout' is invalid.");
if("document"===this.aI.viewMode.toLowerCase())this.aI.viewMode=IPCC.ViewMode.Document;else if("equalwidthpages"===this.aI.viewMode.toLowerCase())this.aI.viewMode=IPCC.ViewMode.EqualWidthPages;else if("equalfitpages"===this.aI.viewMode.toLowerCase())this.aI.viewMode=IPCC.ViewMode.EqualFitPages;else if("singlepage"===this.aI.viewMode.toLowerCase())this.aI.viewMode=IPCC.ViewMode.SinglePage;else throw Error("The value of 'options.viewMode' is invalid.");this.aI.redactionViewMode?"draft"===this.aI.redactionViewMode.toLowerCase()?
this.aI.redactionViewMode=PCCViewer.RedactionViewMode.Draft:"normal"===this.aI.redactionViewMode.toLowerCase()&&(this.aI.redactionViewMode=PCCViewer.RedactionViewMode.Normal):this.aI.redactionViewMode=PCCViewer.RedactionViewMode.Normal;d=this.aI.pageRotation%360;if(0!==d)if(c=[90,180,270,-90,-180,-270],Array.prototype.indexOf){if(!d||-1===c.indexOf(d))throw Error("The value of 'options.pageRotation' is invalid.");}else if(!d||-1===IPCC.Web.hk(c,d))throw Error("The value of 'options.pageRotation' is invalid.");
this.aI.pageRotation=d;if("hidesidehandleswhenclose"===this.aI.markHandleMode.toLowerCase())this.aI.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;else if("hidecornerhandleswhenclose"===this.aI.markHandleMode.toLowerCase())this.aI.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;else throw Error("The value of 'options.markHandleMode' is invalid.");if(isNaN(this.aI.serviceResponseTimeout)||"number"!==typeof this.aI.serviceResponseTimeout||0>this.aI.serviceResponseTimeout)throw Error("The value of 'options.serviceResponseTimeout' is invalid.");
if("boolean"!==typeof this.aI.debug)throw Error("The value of 'options.debug' is invalid.");this.ku={};this.cr="";this.ef=1;this.ai=a;this.ajG=new PCCViewer.Deferred;this.Gn=this.ajG.getPromise();this.ft=!1;this.bP=a;this.Rh=0;this.dz=a;this.ds=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.Fj=this.CO=this.ra=!1;this.Ey=[];this.MZ=new PCCViewer.Deferred;this.aqh=this.MZ.getPromise();this.xB=[];this.dQ={};this.Yd=[];this.KS=[];this.au=null;this.IB={};this.gI=null;this.qG=new PCCViewer.MarkupLayerCollection(this);
this.xh=new PCCViewer.MarkupLayer(this);this.qG.addItem(this.xh);this.uK=!0;setTimeout(function(){e.aCm(f,e.aI)},0);this.cV=this.By=null;this.Rc=this.ZC=!1;this.IJ=-1;this.aaE={};this.ayR=this.aI.printTemplate||(this.aI.template?this.aI.template.print:"");this.zC=this.ll=null;this.mo=a;this.oh=function(a,b,c){var d=document.createElement("div");c=d.style;c.position="absolute";c.backgroundColor=b.isSelected?"white":"lightgray";c.left="10px";c.right="0";c.textAlign="left";IPCC.bg.forEach(a.getComments(),
function(a,b){var c=document.createElement("div"),e=c.style;e.position="relative";e.padding="5px";e.border="1px solid gray";0<b&&(e.borderTop="none");c.appendChild(document.createTextNode(a.getText()));d.appendChild(c)});return d};return e}function d(b,c,d,e,f){var g,k;b.zC=null;if(c instanceof PCCViewer.Conversation){if(b.dQ[c.getMark().getId()]===a)throw Error("The parameter target is a conversation of a mark unknown to the viewer control.");var l=b.ai.scrollConversationIntoView(c.getMark().H.get_conversation());
if("PageOutOfView"===l)return b.ll=e,b.setPageNumber(c.getMark().getPageNumber()),!1;if("ConversationDivDoesNotExist"===l&&0<c.getMark().H.get_conversation().get_length())return b.zC=c,b.on(PCCViewer.EventType.CommentCreated,d),!1;b.ll=null;return!0}if(c instanceof PCCViewer.SearchResult){if(c.NB!==b.bP.get_documentIdentifier())throw Error("The parameter target is a SearchResult that was not created using the current document viewing session.");d=c.getBoundingRectangle();g=new IPCC.Web.UI.Rectangle(d.x,
d.y,d.width,d.height);k=c.getPageNumber()}else if(c instanceof PCCViewer.Mark){if(b.dQ[c.getId()]===a)throw Error("The parameter target is a mark unknown to the viewer control.");d=c.getBoundingRectangle();g=new IPCC.Web.UI.Rectangle(d.x,d.y,d.width,d.height);k=c.getPageNumber()}else if(c!==a&&null!==c){if("number"===typeof c.x&&"number"===typeof c.y)g=new IPCC.Web.UI.Rectangle(+c.x,+c.y,0,0);else{if(isNaN(+c.x)||isNaN(+c.y))throw Error("The parameter target does not contain a valid x and y values.");
g=new IPCC.Web.UI.Rectangle(Number(+c.x),Number(+c.y),0,0)}if(c.width)if("number"===typeof c.width)g.width=c.width;else{if(isNaN(+c.width))throw Error("The parameter target does not contain a valid width value.");g.width=Number(+c.width)}if(c.height)if("number"===typeof c.height)g.height=c.height;else{if(isNaN(+c.height))throw Error("The parameter target does not contain a valid height value.");g.height=Number(+c.height)}if("number"===typeof c.pageNumber)k=+c.pageNumber;else{if(isNaN(+c.pageNumber))throw Error("The parameter target does not contain a valid pageNumber value.");
k=Number(+c.pageNumber)}}else throw Error("The target parameter must be a Mark, SearchResult, or Point.");if(1>k||k>b.getPageCount()||!isFinite(k))throw new RangeError("The parameter pageNumber is out of range.");if(!1===b.ai.scrollRegionIntoView(k-1,g))return b.ll=function(){f(k,g)},b.setPageNumber(k),!1;b.ll=null;return!0}function c(a){switch(a.toLowerCase()){case "lineannotation":a=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":a=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":a=
IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":a=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":a=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":a=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":a=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":a=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":a=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":a=IPCC.Web.UI.MarkType.Rectangle;
break;case "textredaction":a=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":a=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":a=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":a=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":a=IPCC.Web.UI.MarkType.TextLine;break;case "textselectionredaction":a=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":a=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":a=
IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":a=IPCC.Web.UI.MarkType.Polyline;break;case "strikethroughannotation":a=IPCC.Web.UI.MarkType.Strikethrough;break;default:throw"The parameter, markType, does not specify a valid mark type.";}return a}function e(a,b,c,d){var e;if(!a.ft)throw new PCCViewer.Error("InvalidArgument","The method "+d+" can not be used until 'ViewerReady' state is reached.");if(b instanceof Array){for(d=0;d<b.length;d++){e=b[d];if(!(e instanceof PCCViewer.Mark))throw new PCCViewer.Error("InvalidArgument",
"The parameter, marks, contains an item that is not a Mark.");if(!a.dQ[e.getId()])throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}for(d=0;d<b.length;d++)b[d].setVisible(c)}else if(b instanceof PCCViewer.Mark){if(!a.dQ[b.getId()])throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");b.setVisible(c)}else throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");
}function f(a,b){var c=!1;b=b.ai.get_displayedPages();for(var d=0;d<b.get_length();d++)if(b.getPage(d).get_pageNumber()===a){c=!0;break}return c}function g(a,b,c){function d(a){for(var b=!1,e=c.ai.get_displayedPages(),f=0;f<e.get_length();f++)if(e.getPage(f).get_pageNumber()===a){b=!0;break}return b}var e,f;if(a.length){for(f=0;f<a.length;f++)if(a[f]instanceof PCCViewer.Mark)if((e=c.dQ[parseInt(a[f].getId(),10)])&&e instanceof PCCViewer.Mark)if(e.H&&e.H instanceof IPCC.Web.UI.Mark){if(e.getId()!==
e.H.get_markID().toString())throw"The mark ID does not match the ID of the mark loaded in the viewer";}else throw"The mark provided may not have been added to the document pages in the viewer";else throw"The parameter, marks, contains a Mark that is not on the document.";else throw"The mark provided in the position : "+(f+1)+" is invalid";var g=[],k=!1;for(f=0;f<a.length;f++)e=c.dQ[parseInt(a[f].getId(),10)],k=!1,e&&(e.getId()===e.H.get_markID().toString()&&(e.H.set_selected(b),k=Array.prototype.IndexOf?
0<=g.IndexOf(e.getPageNumber()):0<=IPCC.Web.hk(g,e.getPageNumber())),k||(e=e.getPageNumber(),d(e-1)&&g.push(e)));0<g.length&&setTimeout(function(){for(f=0;f<g.length;f++)c.ai.dR(g[f]-1)},1)}}function k(b,c,d){if(!0!==b.CO){var e=function(){b.off("PageCountReady",e);k(b,c,d)};b.on("PageCountReady",e)}else{var f,g={},l={},n=b.ef,q;c&&(q=c);var m=[],r=function(a,c){var d=a.get_pageNumber(),e=a.get_pageWidth(),f=a.get_pageHeight();try{if(a){var k=b.ai.ho(a),n=0,m=0,h=function(){var a;q&&q.Gz&&q.Gz[d]?
(a=IPCC.bg.extend({},q),a.Gz=q.Gz[d]):a=q;var b,e;a=k.azr(d,n,m,a);if(a.lA)g[d]=a.lA;else{var f=m,h=n;b={gC:"documentAnnotations",dE:[],bA:{}};e={gC:"pages",dE:[],bA:{}};b.dE.push(e);f={gC:"page",dE:[],bA:{id:(d+1).toString(),pageWidth:h,pageHeight:f}};b.dE.push({gC:"highlights",dE:[],bA:{}});try{e.dE.push(f)}catch(p){throw p.message;}g[d]=b}if(a.uH)for(b=0;b<a.uH.length;b++)e=a.uH[b],l[e.bA.imageStampId]=e;c()};k?e&&f?(n=e,m=f,h()):0<k.get_markCount()?a.requestPageAttributes(function(b,c){(n=b)&&
a.JH(n);(m=c)&&a.GU(m);h()},function(a){c(a)}):h():c(Error("No art page was found"))}}catch(r){c(Error("Error while saving annotation, error:"+r.message))}};b.bP.get_pages().forEach(function(a,b,c){m.push(function(b){r(a,b)})});var u=function(a,b){var c="",d;if(!a.gC)return a.toString()?a.toString():"<![CDATA[]]\x3e";if((1===n||0===b||0<b&&"documentAnnotations"!==a.gC&&"pages"!==a.gC)&&"highlights"!==a.gC){c="<"+a.gC;for(d in a.bA)if(a.bA.hasOwnProperty(d))var e=a.bA[d].toString(),e=e.replace(/&/g,
"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),c=c+" "+d+'="'+e+'"';c+=">"}for(d=0;d<a.dE.length;d++)c+=u(a.dE[d],b);if(1===n||b===n-1||b!==n-1&&"documentAnnotations"!==a.gC&&"pages"!==a.gC&&"highlights"!==a.gC)c="highlights"!==a.gC?c+("</"+a.gC+">"):c+("<"+a.gC+" />");return c};IPCC.bg.abk(m,function(c){if(c)d(c);else{f='<?xml version="1.0"?>';for(c=0;c<b.ef;c++)f+=u(g[c],c);c="";for(var e in l)l.hasOwnProperty(e)&&(c+=u(l[e],1));c.length&&(f=f.replace("</documentAnnotations>","<stampImages>"+
c+"</stampImages></documentAnnotations>"));d(a,f)}})}}function m(){return function(a,b){var c=this,d=c.dQ[b.mark.get_markID()];c.uK&&c.xh.addMarks(d);setTimeout(function(){d&&c.trigger("MarkCreated",{mark:d,pageNumber:b.pageIndex+1,clientX:b.clientX,clientY:b.clientY})},0)}}function q(a){return{onCreating:function(b,c){b=new PCCViewer.Mark({type:a.getType(),igMark:c.mark,pageNumber:c.pageIndex+1});this.dQ[c.mark.get_markID()]=b;b.setThickness(a.getThickness());b.setColor(a.getColor());b.setOpacity(a.getOpacity());
b.setEndHeadType(a.getEndHeadType());PCCViewer.Data.ql(a,b);PCCViewer.Conversation.rW(a.getConversation(),b.getConversation())},onAdded:m()}}function n(a){return{onCreating:function(b,c){b=new PCCViewer.Mark({type:a.getType(),igMark:c.mark,pageNumber:c.pageIndex+1});this.dQ[c.mark.get_markID()]=b;b.setBorderThickness(a.getBorderThickness());b.setFillColor(a.getFillColor());b.setBorderColor(a.getBorderColor());b.setOpacity(a.getOpacity());PCCViewer.Data.ql(a,b);PCCViewer.Conversation.rW(a.getConversation(),
b.getConversation())},onAdded:m()}}function u(a){return{onCreating:function(b,c){b=new PCCViewer.Mark({type:a.getType(),igMark:c.mark,pageNumber:c.pageIndex+1});this.dQ[c.mark.get_markID()]=b},onAdded:m()}}function r(a){return{onCreating:function(b,c){b=new PCCViewer.Mark({type:a.getType(),igMark:c.mark,pageNumber:c.pageIndex+1});this.dQ[c.mark.get_markID()]=b;b.setReason(a.getReason());b.setBorderThickness(a.getBorderThickness());b.setFillColor(a.getFillColor());b.setBorderColor(a.getBorderColor());
b.setFontColor(a.getFontColor());PCCViewer.Data.ql(a,b);PCCViewer.Conversation.rW(a.getConversation(),b.getConversation())},onAdded:m()}}function l(a){return{onCreating:function(b,c){b=new PCCViewer.Mark({type:a.getType(),igMark:c.mark,pageNumber:c.pageIndex+1});this.dQ[c.mark.get_markID()]=b;b.setBorderThickness(a.getBorderThickness());b.setFillColor(a.getFillColor());b.setBorderColor(a.getBorderColor());b.setOpacity(a.getOpacity());b.setFontName(a.getFontName());b.setFontColor(a.getFontColor());
b.setFontSize(a.getFontSize());b.setFontStyle(a.getFontStyle());b.setHorizontalAlignment(a.getHorizontalAlignment());PCCViewer.Data.ql(a,b);PCCViewer.Conversation.rW(a.getConversation(),b.getConversation())},onAdded:m()}}function C(a){return{onCreating:function(b,c){b=new PCCViewer.Mark({type:a.getType(),igMark:c.mark,pageNumber:c.pageIndex+1});this.dQ[c.mark.get_markID()]=b;b.setFontName(a.getFontName());b.setFontColor(a.getFontColor());b.setText(a.getText());b.setFontSize&&b.setFontSize(a.getFontSize());
PCCViewer.Data.ql(a,b);PCCViewer.Conversation.rW(a.getConversation(),b.getConversation())},onAdded:m()}}function E(a){return{onCreating:function(b,c){b=new PCCViewer.Mark({type:a.getType(),igMark:c.mark,pageNumber:c.pageIndex+1});this.dQ[c.mark.get_markID()]=b;a.getType()===PCCViewer.MouseTool.Type.StampAnnotation&&b.setColor(a.getColor());b.setLabel(a.getLabel());PCCViewer.Data.ql(a,b);PCCViewer.Conversation.rW(a.getConversation(),b.getConversation())},onAdded:m()}}function w(a){return{onCreating:function(a,
b){},onAdded:m()}}function t(a){return{onCreating:function(b,c){b=new PCCViewer.Mark({type:a.getType(),igMark:c.mark,pageNumber:c.pageIndex+1});this.dQ[c.mark.get_markID()]=b;b.setThickness(a.getThickness());b.setColor(a.getColor());b.setOpacity(a.getOpacity());PCCViewer.Data.ql(a,b);PCCViewer.Conversation.rW(a.getConversation(),b.getConversation())},onAdded:m()}}function y(a){return{onCreating:function(b,c){b=new PCCViewer.Mark({type:a.getType(),igMark:c.mark,pageNumber:c.pageIndex+1});this.dQ[c.mark.get_markID()]=
b;b.setImage(a.getImage());PCCViewer.Data.ql(a,b);PCCViewer.Conversation.rW(a.getConversation(),b.getConversation())},onAdded:m()}}function D(a){return{onCreating:function(b,c){b=new PCCViewer.Mark({type:a.getType(),igMark:c.mark,pageNumber:c.pageIndex+1});this.dQ[c.mark.get_markID()]=b;b.setThickness(a.getThickness());b.setColor(a.getColor());b.setOpacity(a.getOpacity());PCCViewer.Data.ql(a,b);PCCViewer.Conversation.rW(a.getConversation(),b.getConversation())},onAdded:m()}}PCCViewer.ViewerControl=
b;b.Iz={encryption:!1,viewMode:"Document",debug:!1,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:6E4,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:!0,maxOutOfViewDisplay:0,scrollDisplayThreshold:.5,requireRequestsOptimize:!0,loadingContent:"",redactionViewMode:"Normal"};b.aqR={pageLoadFailed:"Page Load Failed",pageLoadFailedRetry:"Retry"};b.prototype.aCm=function(b,
c){function d(a){function b(){m.ai.remove_allPagesAdded(b);a()}a=a||function(){};var c=m.ef;if(1<c){m.ai.add_allPagesAdded(b);m.ahL||(m.ai.add_currentPageChanged(function(){if(2>arguments)throw"Controls currentPageChanged event did not provide any expected information";var a=arguments[1];setTimeout(function(){m.trigger("PageChanged",{pageNumber:a.pageIndex+1});r(a.pageIndex)},0)}),m.ai.add_pageDisplayed(function(){if(2>arguments)throw"Controls pageDisplayed event did not provide any expected information";
var a=arguments[1];m.ll&&(m.ll(),m.ll=null,m.gI&&m.gI.resolve(),m.gI=null);setTimeout(function(){m.trigger("PageDisplayed",{pageNumber:a.pageIndex+1})},0);setTimeout(function(){m.WG(a.pageIndex+1,m.IJ)},10)}),m.ai.add_pageOpenFailed(function(){e(arguments)}),m.ahL=!0);for(var f=m.Rh;f<c;f++)m.dz.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:f})),m.Rh++}else a()}function e(b){if(2>b)throw"controls PageOpenFailed event did not provide any expected information";var c,d,f=b[1];b[1].exception.customErrorCode!==
a&&(d=b[1].exception.customErrorCode);b[1].exception.message!==a&&(c=b[1].exception.message);setTimeout(function(){m.trigger("PageLoadFailed",{statusCode:f.exception.statusCode,pageNumber:f.pageIndex+1,errorMessage:c,accusoftErrorNumber:d});C(f)},0)}function f(){m.ai.remove_pageOpenFailed(f);e(arguments);setTimeout(d,30)}function g(){m.ai.remove_pageOpened(g);m.ft=!0;var a=m;setTimeout(function(){m.trigger("ViewerReady",{});!0===a.ra&&!1===a.CO&&(a.CO=!0,setTimeout(function(){m.trigger("PageCountReady",
{pageCount:a.getPageCount()})},10))},10);m.setCurrentMouseTool("AccusoftPanAndEdit")}function k(b,c){function d(){var a=m.iM;m.ano=!0;m.iM=function(b,d){m.iM=a;setTimeout(function(){m.trigger(PCCViewer.EventType.MarkCreated,{mark:r,pageNumber:e[0],clientX:c.clientX,clientY:c.clientY})},0)}}if(c.text&&0!==c.text.length){var e=[];for(b=0;b<c.pageNumbers.length;b++)e.push(c.pageNumbers[b]+1);b=[];var f=-c.startIndex,g,p,l,q;for(q=0;q<e.length;q++)for(l=m.dz.kL(e[q]-1).cA().eO(),f+=l.fj(),g=0,0===q&&
(g=c.startIndex),p=f>=c.text.length?f-c.text.length-1:l.fj()-1,g=IPCC.bg.OR(l,g,p),p=0;p<g.length;p++)b.push({x:g[p].x,y:g[p].y,width:g[p].width,height:g[p].height,pageNumber:e[q]});m.au={pageNumber:e[0],length:c.text.length,text:c.text,startIndex:c.startIndex,rectangles:b};var r,u={selectedText:c.text,pageNumbers:e,clientX:c.clientX,clientY:c.clientY,handleClientX:c.handleClientX,handleClientY:c.handleClientY,textSelection:m.au};if(c.previousFirstMark){r=m.dQ[c.previousFirstMark.get_markID()];m.ai.remove_markRemoved(m.FS);
m.ai.remove_markSelectionChanged(m.EQ);if(c.pageNumbers[0]!==c.previousFirstMark.ba){q=r.H.YY;var B;r.getReason&&(B=r.H.get_text());var H;r.getFillColor&&(H=r.H.get_fillColor());var A;r.getColor&&(A=r.H.get_lineColor());var x;r.getThickness&&(x=r.H.get_lineWidth());var C;r.getHref&&(C=r.H.get_href());b=new PCCViewer.Conversation(r);f=m.ai.ho(m.dz.getPage(r.H.ba));f.removeMark(r.H);for(g=r.cP.length-1;0<=g;g--)p=r.cP[g],f=m.ai.ho(m.dz.getPage(p.ba)),f.removeMark(p),r.cP.splice(g,1);r.H=new IPCC.Web.UI.Mark(c.previousFirstMark.get_type());
r.H.ba=c.pageNumbers[0];r.ag=c.pageNumbers[0]+1;r.H.kZ=!0;r.H.YY=q;q=m.iM;m.iM=null;m.ai.remove_markChanged(m.rf);f=m.ai.ho(m.dz.getPage(r.H.ba));f.addMark(r.H);B&&r.H.set_text(B);H&&r.H.set_fillColor(H);A&&r.H.set_lineColor(A);x&&r.H.set_lineWidth(x);C&&r.H.set_href(C);r.dg=new PCCViewer.Conversation(r);PCCViewer.Conversation.rW(b,r.dg);m.ai.add_markChanged(m.rf);m.iM=q}r.H.set_selected(!0);r.H.set_visible(!0);r.setPosition({startIndex:c.startIndex,length:c.text.length});m.ai.add_markRemoved(m.FS);
m.ai.add_markSelectionChanged(m.EQ);m.pb(r,c.pageNumbers[0])}else{B=null;switch(c.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:B="HighlightAnnotation";break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:B="TextSelectionRedaction";break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:B="TextHyperlinkAnnotation";break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:B="StrikethroughAnnotation";break;case IPCC.Web.UI.MouseTool.SelectText:n(c.text),m.IB[e[0]]="selectText"}A=
(H=(H=PCCViewer.MouseTools.getMouseTool(m.getCurrentMouseTool()))&&H.getTemplateMark?H.getTemplateMark():a)?H.getType():"";B?(d(),m.trigger(PCCViewer.EventType.TextSelected,u),r=m.addMark(e[0],B),m.uK&&m.xh.addMarks(r),r.H.kZ=!0,r.setPosition({startIndex:c.startIndex,length:c.text.length}),A===B&&(H.getFillColor&&r.setFillColor(H.getFillColor()),H.getReason&&r.setReason(H.getReason()),H.getHref&&r.setHref(H.getHref()),H.getColor&&r.setColor(H.getColor()),H.getThickness&&r.setThickness(H.getThickness()),
PCCViewer.Data.ql(H,r))):setTimeout(function(){m.trigger(PCCViewer.EventType.TextSelected,u)},0)}}}function l(){var a=m.bI,b=document.createElement("div");b.className="pccCopyText";a.appendChild(b);m.QQ=b}function n(a){a.split("\n");var b=document.createDocumentFragment();a=document.createTextNode(a);b.appendChild(a);IPCC.bg.Si(m.QQ);m.QQ.appendChild(b);document.body.createTextRange?(b=document.body.createTextRange(),b.moveToElementText(m.QQ),b.select()):window.getSelection&&(a=window.getSelection(),
b=document.createRange(),b.selectNodeContents(m.QQ),a.removeAllRanges(),a.addRange(b))}function q(a){for(var b in a)b&&(this[b]=a[b])}if(!this.Md){var m=this,r=function(a){if(m.aI.viewMode!==IPCC.ViewMode.SinglePage&&!m.Md){var b=m.bI.childNodes[0].childNodes[0].childNodes[0].childNodes,c=0;for(c;c<b.length;c+=1)c===a?8===document.documentMode?b[c].style.outline="2px solid #aaa":b[c].style.boxShadow="0 0 4px 1px rgba(0,0,0,.4)":8===document.documentMode?b[c].style.outline="":b[c].style.boxShadow&&
(b[c].style.boxShadow="")}},u=function(a,b){function c(){if(!m.Md&&4===e.readyState){var a=e.status;if(200===a)if(g="undefined"!==typeof JSON?JSON.parse(e.responseText):IPCC.bY.pk(e.responseText),100>g.pageCountConfidence){var b;b=/^[\x00-\x7F]*$/.test(p)?m.aI.imageHandlerUrl+"/Document/q/Attributes?DocumentID=u"+encodeURIComponent(m.aI.documentID)+"&DesiredPageCountConfidence=100":m.aI.imageHandlerUrl+"/Document/q/Attributes?DocumentID=e"+p+"&DesiredPageCountConfidence=100";e.open("GET",b,!0);e.setRequestHeader("Content-Type",
"application/json");e.onreadystatechange=c;e.send();m.ef=g.pageCount;m.bP.ef=g.pageCount;m.Fj=!0;setTimeout(function(){m.trigger("EstimatedPageCountReady",{pageCount:g.pageCount})},10);d()}else 1<m.ef?(m.bP.ef=g.pageCount,setTimeout(function(){var a;if(g.pageCount<m.ef)for(a=m.ef-1;a>=g.pageCount;a--)m.dz.removePage(a);else if(g.pageCount>m.ef)for(a=m.ef;a<g.pageCount;a++){var b=new IPCC.Web.UI.ImGearPage({pageNumber:a});m.dz.addPage(b)}m.ef=g.pageCount;!0===m.ft&&(m.ra=!0,m.CO=!0,setTimeout(function(){m.trigger("PageCountReady",
{pageCount:g.pageCount})},30))},30)):(m.ef=g.pageCount,m.bP.ef=g.pageCount,!0===m.ft&&d(function(){m.ra=!0;m.CO=!0;setTimeout(function(){m.trigger("PageCountReady",{pageCount:g.pageCount})},0)}));else if(200>a||300<=a){var f="None",k;(b=e.getResponseHeader("Accusoft-Status-Message"))?(f=b,b=e.getResponseHeader("Accusoft-Status-Number"),IPCC.Web.vq(b)&&(k=parseInt(b,10))):e.statusText&&(f=e.statusText);setTimeout(function(){m.trigger("PageLoadFailed",{statusCode:a,errorMessage:f,accusoftErrorNumber:k})},
1);throw"Unable to obtain document information from the server";}}}m.ve.parentNode&&m.ve.parentNode.removeChild(m.ve);m.ai.remove_pageOpenFailed(f);m.ai.remove_pageDisplayed(u);setTimeout(function(){m.trigger("PageDisplayed",{pageNumber:b.pageIndex+1});r(b.pageIndex)},10);if(0===b.pageIndex){var e=new XMLHttpRequest,g,p=IPCC.gE.sH(m.aI.documentID);if(!p||""===p)throw"Invaqlid encoded Identifier";/^[\x00-\x7F]*$/.test(p)?m.cr=m.aI.imageHandlerUrl+"/Document/q/Attributes?DocumentID=u"+encodeURIComponent(m.aI.documentID)+
"&DesiredPageCountConfidence=50":m.cr=m.aI.imageHandlerUrl+"/Document/q/Attributes?DocumentID=e"+p+"&DesiredPageCountConfidence=50";e.open("GET",m.cr,!0);e.setRequestHeader("Content-Type","application/json");e.onreadystatechange=c;e.send()}},C=function(a){var b=document.getElementById(a.pageNodeID),c=document.createElement("div"),d=document.createElement("button"),e=function(){m.ai.Et(a.pageIndex)},f=PCCViewer.Language.data.pageLoadFailed,g=PCCViewer.Language.data.pageLoadFailedRetry;null!==b&&(d.id=
"pccPageLoadFailRetry",d.innerHTML=g,c.className="pccPageLoadFail",c.innerHTML=f+"<br>",c.appendChild(d),b.appendChild(c),d=document.getElementById("pccPageLoadFailRetry"),d.addEventListener?d.addEventListener("click",e,!1):d.attachEvent("onclick",e))};this.bP=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.aI.documentID,imageServicePath:this.aI.imageHandlerUrl});this.bP.set_encryption(this.aI.encryption||!1);var t=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.bP.get_pages().addPage(t);
this.dz=this.bP.get_pages();this.ai=IPCC.initializePageListPlugin(b,c);this.ai.get_documents().addDocument(this.bP);this.Rh=1;this.ajG.resolve(this.ai);this.ai.add_pageDisplayed(u);this.ai.add_pageOpenFailed(f);this.ai.add_pageOpened(g);this.ai.add_textPageReady(function(a,b){!0===b.containsText&&m.MZ.resolve(!0);a=-1;a=Array.prototype.indexOf?0<=m.xB.indexOf(b.pageIndex):0<=IPCC.Web.hk(m.xB,b.pageIndex);!1===a&&(m.xB.push(b.pageIndex),m.xB.length===m.ef&&m.MZ.resolve(!1));setTimeout(function(){m.trigger("PageTextReady",
{pageNumber:b.pageIndex+1})},0)});this.ai.add_textExtractionFailed(function(a,b){!1===(Array.prototype.indexOf?0<=m.xB.indexOf(b.pageIndex):0<=IPCC.Web.hk(m.xB,b.pageIndex))&&(m.xB.push(b.pageIndex),m.xB.length===m.ef&&m.MZ.resolve(!1))});this.ai.set_conversationDOMFactory(function(a,b,c){if(a=m.dQ[a.get_markID()])return m.oh(a.getConversation(),b,c)});l();this.ai.add_selectTextMouseToolCompleted(k);this.ai.add_propertyChanged(function(a,b){"mouseTool"===b.asR()&&setTimeout(function(){m.trigger(PCCViewer.EventType.MouseToolChanged,
{mouseToolName:m.ds.getName()})},0)});this.ai.add_markAdded(function(b,c){c.mark.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&c.mark.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&c.mark.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&c.mark.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||m.dQ[c.mark.get_markID()]!==a||c.mark.bx===a||m.pb(c.mark,c.pageIndex);if(m.iM){var d=c.mark.get_type();d===IPCC.Web.UI.MarkType.Highlight||d===IPCC.Web.UI.MarkType.RectangleRedaction&&
c.mark.bx!==a||m.iM(b,c)}});this.ai.add_markCreating(function(a,b){m.KY&&m.KY(a,b)});this.ai.Bz(function(a,b){var c=0,d=0,e=0,f=0,g=0,p=0;a=m.ds.getName().toLowerCase();if(m.ds.getType()===PCCViewer.MouseTool.Type.PlaceSignature){var k=m.ds.getTemplateMark(),l=k.getSignature(),n=k.getRectangle(),q,r,B;l&&(m.requestPageAttributes(b.pageIndex+1).then(function(a){var u;0<a.width&&(d=n.width||a.width/5);l.path&&0<l.path.length&&(u=IPCC.bg.Wb(l.path),r=u.width,B=u.height,q=m.addMark(b.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature),
q.setPath(l.path),q.setThickness(l.thickness||4));l.text&&l.text.length&&(u=IPCC.bg.wy(l.text,l.fontName),q=m.addMark(b.pageIndex+1,PCCViewer.Mark.Type.TextSignature),r=u.width,B=u.height,q.setText(l.text),q.setFontName(l.fontName));e=r/d;c=n.height||B/e;f=b.imagePoint.x-d/2;g=b.imagePoint.y-c/2;0>=f&&(f=0);0>=g&&(g=0);f+d>=a.width&&(p=f+d-a.width,f-=p);g+c>=a.height&&(p=g+c-a.height,g-=p);r=d;B=c;q.setRectangle({x:f,y:g,width:d,height:c});PCCViewer.Data.ql(k,q);PCCViewer.Conversation.rW(k.getConversation(),
q.getConversation())}),m.setCurrentMouseTool(a))}});this.ai.CE(function(b,c){var d=null,e=null,f=null,g=null,p=!1,k=c.upTarget.type;b=!1;if(!0===c.domEvent.ctrlKey||!0===c.domEvent.shiftKey)b=!0;if("page"===c.upTarget.type&&"page"===c.downTarget.type&&c.upTarget.pageIndex===c.downTarget.pageIndex||"comments"===c.upTarget.type&&c.downTarget.element===c.upTarget.element)p=!0,"page"===c.upTarget.type&&"page"===c.downTarget.type&&!1===b&&m.deselectAllMarks();else if(c.upMark&&"undefined"!==typeof c.downMark)if(c.upMark.get_type()===
IPCC.Web.UI.MarkType.DocumentHyperlink&&c.upMark===c.downMark)g=m.arq(c.upMark),p=null!==g,k="documentHyperlink";else{f=m.dQ[c.upMark.get_markID()];if(f===a)for(var l in m.dQ){if(m.dQ.hasOwnProperty(l)&&m.dQ[l].H.bx===c.upMark.bx&&m.dQ[l].H.bx===c.downMark.bx){f=m.dQ[l];c.pageIndex=f.ag-1;p=!0;!1===b&&(m.deselectAllMarks(),f.H.set_selected(!0));break}}else"undefined"!==typeof c.downMark&&"undefined"!==typeof c.upMark&&c.downMark.hD()===c.upMark.hD()&&(p=!0);if(f===a&&m.cV&&"search"===m.IB[c.upTarget.pageIndex+
1])for(l=m.cV.getResults(),b=0;b<l.length;b++)if(l[b].ag===c.upTarget.pageIndex+1&&"undefined"!==typeof c.downMark.aV&&"undefined"!==typeof c.upMark.aV&&"undefined"!==typeof c.downMark.dk&&"undefined"!==typeof c.upMark.dk&&c.downMark.aV>=l[b].getStartIndexInPage()&&c.downMark.aV+c.downMark.dk<=l[b].getStartIndexInPage()+l[b].getText().length&&c.upMark.aV>=l[b].getStartIndexInPage()&&c.upMark.aV+c.upMark.dk<=l[b].getStartIndexInPage()+l[b].getText().length){k="searchResult";e=l[b];c.upTarget.pageIndex=
e.ag-1;p=!0;break}!1===p&&f===a&&"selectText"===m.IB[c.upTarget.pageIndex+1]&&"undefined"!==typeof c.downMark.aV&&"undefined"!==typeof c.upMark.aV&&c.downMark.aV>=m.au.startIndex&&c.downMark.aV+c.downMark.dk<=m.au.startIndex+m.au.length&&c.upMark.aV>=m.au.startIndex&&c.upMark.aV+c.upMark.dk<=m.au.startIndex+m.au.length&&(k="textSelection",d=m.au,p=!0)}var n=new q(c.originalEvent);setTimeout(function(){var a={pageNumber:isNaN(c.upTarget.pageIndex)?null:c.upTarget.pageIndex+1,targetType:k,textSelection:d,
searchResult:e,mark:f,originalEvent:n,hyperlink:g,clientX:c.clientX,clientY:c.clientY};!0===p&&m.trigger("Click",a)},0)});(function(){var b=null;m.ai.Bm(function(c,d){var e={originalEvent:new q(d.domEvent),clientX:d.windowPoint.x,clientY:d.windowPoint.y};if(d.mark instanceof IPCC.Web.UI.Mark){e.mark=m.dQ[d.mark.get_markID()];if(e.mark===a)for(var f in m.dQ)if(m.dQ.hasOwnProperty(f)&&m.dQ[f].H.bx===d.mark.bx){e.mark=m.dQ[f];break}e.mark&&setTimeout(function(){b!==e.mark.getId()&&(null!==b&&m.trigger("MarkMouseLeave",
IPCC.bg.extend({},e,{mark:m.dQ[b]})),b=e.mark.getId(),m.trigger("MarkMouseEnter",e));m.trigger("MarkMouseOver",e)},0)}else null!==b&&(e.mark=m.dQ[b],b=null,setTimeout(function(){m.trigger("MarkMouseLeave",e)},0))})})();this.ai.add_hyperlinkPageReady(function(a,b){var c=b.pageIndex;a=m.dz.getPage(c).get_hyperlinkPage().Kw();var d=m.Yd[c]=[];a.mf(function(a){d.push(new PCCViewer.DocumentHyperlink({ag:c+1,zY:a}))});m.KS[c]||(m.KS[c]=new PCCViewer.Deferred);m.KS[c].resolve(d)});this.pb=function(a,b){a=
!1;(function(){for(var a=!1,c=m.ai.get_displayedPages(),d=0;d<c.get_length();d++)if(c.getPage(d).get_pageNumber()===b){a=!0;break}return a})()&&(0<=IPCC.Web.hk(m.Ey,b)&&(a=!0),a||(m.Ey.push(b),setTimeout(function(){var a=m.Ey.length;if(0<a){for(var b=0;b<a;b++)m.ai&&m.ai.dR(m.Ey[b]);m.Ey.splice(0,a)}},10)))};var w={FreehandSignature:{lineColor:"color",lineWidth:"thickness",pathWidth:!1,pathHeight:!1},FreehandAnnotation:{lineColor:"color",lineWidth:"thickness",pathWidth:!1,pathHeight:!1},LineAnnotation:{lineColor:"color",
lineWidth:"thickness"},PolylineAnnotation:{lineColor:"color",lineWidth:"thickness"},TextSignature:{textColor:!1,fillColor:"color"},TextInputSignature:{lineVisible:!1},StampAnnotation:{text:"label",fillColor:"color"},StampRedaction:{text:"label"},StrikethroughAnnotation:{lineColor:"color",lineWidth:"thickness",rectangle:"position"},RectangleRedaction:{text:"reason"},TextRedaction:{opacity:!1},HighlightAnnotation:{rectangle:"position"},TextSelectionRedaction:{rectangle:"position",text:"reason"},TextHyperlinkAnnotation:{rectangle:"position"}},
D={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.rf=function(b,c){var d=m.dQ[c.mark.get_markID()],e;d&&(e=d.bk);if(!e||!w[e]||!1!==w[e][c.propertyName]){var f;f=e?w[e]&&w[e][c.propertyName]?w[e][c.propertyName]:D[c.propertyName]?D[c.propertyName]:c.propertyName:D[c.propertyName]?D[c.propertyName]:c.propertyName;if(c.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||c.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||
c.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||c.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||c.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||c.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||c.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&c.mark.bx!==a){if(d)setTimeout(function(){m.trigger("MarkChanged",{mark:d,pageNumber:c.pageIndex+1,propertyName:f})},0);else for(var g in m.dQ)if(m.dQ.hasOwnProperty(g)&&(d=m.dQ[g],d.bx===
c.mark.bx))break;m.pb(d,c.pageIndex)}else d&&c.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&"points"===f?(d.Zg&&clearTimeout(d.Zg),d.Zg=setTimeout(function(){d.Zg=a;m.pb(d,c.pageIndex);m.trigger("MarkChanged",{mark:d,pageNumber:c.pageIndex+1,propertyName:f})},1)):d&&(m.pb(d,c.pageIndex),setTimeout(function(){m.trigger("MarkChanged",{mark:d,pageNumber:c.pageIndex+1,propertyName:f})},0));d&&d.type===PCCViewer.Mark.Type.TextRedaction&&d.H.set_opacity(0);d&&d.bk===PCCViewer.Mark.Type.TextInputSignature&&
d.H.set_lineVisible(!1)}};this.ai.add_markChanged(m.rf);this.ai.add_markReordered(function(a,b){var c=m.dQ[b.mark.get_markID()];setTimeout(function(){m.trigger("MarkReordered",{mark:c,pageNumber:b.pageIndex+1,index:b.zIndex,oldIndex:b.oldZIndex})},0)});this.EQ=function(a,b){if(b.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||b.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||b.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||b.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText)for(var c in m.dQ)if(m.dQ.hasOwnProperty(c)&&
(a=m.dQ[c],a.H.bx===b.mark.bx)){a.H.set_selected(b.mark.get_selected());m.pb(a.H,a.H.ba);for(var d=0;d<a.cP.length;d++)a.cP[d].set_selected(b.mark.get_selected()),m.pb(a.cP[d],a.cP[d].ba)}setTimeout(function(){m.trigger("MarkSelectionChanged",{pageNumber:b.pageIndex+1})},0)};this.ai.add_markSelectionChanged(m.EQ);this.ai.add_markTextSelectionChanged(function(a,b){m.pb(b.mark,b.pageIndex)});this.FS=function(b,c){var d;c.mark&&(d=m.dQ[c.mark.get_markID()],c.mark.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&
c.mark.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&c.mark.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&c.mark.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||d!==a||c.mark.bx===a?d&&setTimeout(function(){m.trigger("MarkRemoved",{mark:d,pageNumber:c.pageIndex})},0):m.pb(c.mark,c.pageIndex))};this.ai.add_markRemoved(m.FS);this.ai.add_commentAdding(function(b,c){c.mark.get_markID();c.comment.HH.iy===a&&(c.comment.HH.iy=m.getActiveMarkupLayer())});this.ai.add_commentAdded(function(a,
b){a=m.dQ[b.mark.get_markID()];m.trigger(PCCViewer.EventType.CommentCreated,{conversation:a.getConversation(),comment:b.comment.HH})});this.ai.add_commentRemoved(function(a,b){a=m.dQ[b.mark.get_markID()];m.trigger(PCCViewer.EventType.CommentRemoved,{conversation:a.getConversation(),comment:b.comment.HH})});this.ai.add_commentChanged(function(a,b){a=m.dQ[b.mark.get_markID()];m.trigger(PCCViewer.EventType.CommentChanged,{conversation:a.getConversation(),comment:b.comment.HH})});this.ai.add_scaleChanged(function(a,
b){var c;switch(b.fitType){case 0:c=PCCViewer.FitType.FullWidth;break;case 1:c=PCCViewer.FitType.ShrinkToWidth;break;case 2:c=PCCViewer.FitType.ActualSize;break;case 3:c=PCCViewer.FitType.FullHeight;break;case 4:c=PCCViewer.FitType.FullPage}m.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:b.scaleType,trigger:b.scaleTrigger,fitType:c,scaleFactor:b.scaleFactor})})}};PCCViewer.ViewerControl.prototype.getPageCount=function(){return this.ef};PCCViewer.ViewerControl.prototype.getPageNumber=function(){return this.ai?
this.ai.aeQ().get_pageNumber()+1:1};PCCViewer.ViewerControl.prototype.setPageNumber=function(a){if("number"!==typeof a){if(isNaN(+a))throw"The parameter pageNumber is not a number.";a=Number(a)}if(parseInt(a,10)!==a)throw Error("The 'pageNumber' value "+a+" is not an integer page number.");if(1>a||a>this.getPageCount()||!isFinite(a))throw"The parameter pageNumber is out of range.";if(this.getPageNumber()===a)return this;this.ai&&this.ai.scrollToPage(a-1);return this};PCCViewer.ViewerControl.prototype.changeToFirstPage=
function(){this.ai&&(this.Fj||this.ra)&&this.ai.scrollToFirstPage();return this};PCCViewer.ViewerControl.prototype.changeToLastPage=function(){this.ai&&(this.Fj||this.ra)&&this.ai.scrollToLastPage();return this};PCCViewer.ViewerControl.prototype.changeToNextPage=function(){this.ai&&(this.Fj||this.ra)&&this.ai.scrollToNextPage();return this};PCCViewer.ViewerControl.prototype.changeToPrevPage=function(){this.ai&&(this.Fj||this.ra)&&this.ai.scrollToPreviousPage();return this};PCCViewer.ViewerControl.prototype.scrollBy=
function(a,b){if(!this.ft)throw Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");if("number"===typeof a&&"number"===typeof b)this.ai.scrollBy(a,b);else{if(isNaN(+a)||isNaN(+b))throw new PCCViewer.Error("InvalidArgument","Please provide integer values for offsetX and offsetY properties.");this.ai.scrollBy(Number(+a),Number(+b))}return this};PCCViewer.ViewerControl.prototype.scrollTo=function(a){if(!this.ft)throw Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");
this.gI&&(this.gI.reject(new PCCViewer.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled.")),this.ll=this.gI=null);var b=this,c=function(d){d.target.zC===a?(b.off(PCCViewer.EventType.CommentCreated,c),b.zC=null,b.scrollTo(a)):null===d.target.zC&&b.off(PCCViewer.EventType.CommentCreated,c);b.gI&&b.gI.resolve();b.gI=null;b.ll=null};d(b,a,c,function(){b.ai.scrollConversationIntoView(a.getMark().H.get_conversation());
b.gI&&b.gI.resolve();b.gI=null;b.ll=null},function(a,c){b.ai.scrollRegionIntoView(a-1,c);b.gI&&b.gI.resolve();b.gI=null;b.ll=null});return this};PCCViewer.ViewerControl.prototype.scrollToAsync=function(a){this.gI&&(this.gI.reject(new PCCViewer.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled.")),this.ll=this.gI=null);var b=PCCViewer.Deferred(),c=b.getPromise(),e=this;e.gI=b;try{var f=
function(b){b.target.zC===a?(e.off(PCCViewer.EventType.CommentCreated,f),e.zC=null,e.scrollTo(a)):null===b.target.zC&&e.off(PCCViewer.EventType.CommentCreated,f);e.gI&&e.gI.resolve();e.gI=null;e.ll=null};!0===d(e,a,f,function(){e.ai.scrollConversationIntoView(a.getMark().H.get_conversation());e.gI&&e.gI.resolve();e.gI=null;e.ll=null},function(a,b){e.ai.scrollRegionIntoView(a-1,b);e.gI&&e.gI.resolve();e.gI=null;e.ll=null})&&b.resolve()}catch(g){e.gI=null,e.ll=null,b.reject(new PCCViewer.Error("Error",
g))}return c};PCCViewer.ViewerControl.prototype.rotatePage=function(a){if(!this.ft)throw"The method rotatePage requires the viewer to be in a 'ViewerReady' state.";!1===f(this.getPageNumber()-1,this)&&this.ai.dR(this.getPageNumber()-1);var b=a%360,c=this;if(0!==b){var d=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!b||-1===d.indexOf(b))throw new RangeError("The value of degreesClockwise ("+a+") is not valid.");}else if(!b||-1===IPCC.Web.hk(d,b))throw new RangeError("The value of degreesClockwise ("+
a+") is not valid.");this.ai.rotate(b)}setTimeout(function(){c.trigger("PageRotated",{degreesClockwise:b,pageNumber:c.getPageNumber()})},0);return this};PCCViewer.ViewerControl.prototype.rotateDocument=function(a){if(!this.ft)throw"The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";!1===f(this.getPageNumber()-1,this)&&this.ai.dR(this.getPageNumber()-1);var b=a%360,c=this;if(0!==b){var d=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!b||-1===d.indexOf(b))throw new RangeError("The value of degreesClockwise ("+
a+") is not valid.");}else if(!b||-1===IPCC.Web.hk(d,b))throw new RangeError("The value of degreesClockwise ("+a+") is not valid.");this.ai.abn(b)}setTimeout(function(){c.trigger("DocumentRotated",{degreesClockwise:b})},0);return this};PCCViewer.ViewerControl.prototype.getScaleFactor=function(){if(!this.ft)throw"The getScaleFactor method requires the viewer to be in a 'ViewerReady' state.";return this.ai.get_scaleFactor()};PCCViewer.ViewerControl.prototype.setScaleFactor=function(a){if(!this.ft)throw"The setScaleFactor method requires the viewer to be in a 'ViewerReady' state.";
if(isNaN(+a)||+a<this.getMinScaleFactor()||+a>this.getMaxScaleFactor())throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("scaleFactor",a,"The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.");this.ai.set_scaleFactor(+a);return this};PCCViewer.ViewerControl.prototype.getMinScaleFactor=function(){if(!this.ft)throw"The getMinScaleFactor method requires the viewer to be in a 'ViewerReady' state.";return this.ai.getMinMaxZoom().minFactor};
PCCViewer.ViewerControl.prototype.getMaxScaleFactor=function(){if(!this.ft)throw"The getMaxScaleFactor method requires the viewer to be in a 'ViewerReady' state.";return this.ai.getMinMaxZoom().maxFactor};PCCViewer.ViewerControl.prototype.zoomIn=function(a){if(!this.ft)throw"The zoomIn method requires the viewer to be in a 'ViewerReady' state.";if(isNaN(+a)||1.01>+a||20<+a)throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("zoomFactor",a,"The value must be a number between 1.01 and 20 inclusive.");
this.ai&&this.ai.zoomIn(+a);return this};PCCViewer.ViewerControl.prototype.zoomOut=function(a){if(!this.ft)throw"The zoomOut method requires the viewer to be in a 'ViewerReady' state.";if(isNaN(+a)||1.01>+a||20<+a)throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("zoomFactor",a,"The value must be a number between 1.01 and 20 inclusive.");this.ai&&this.ai.zoomOut(+a);return this};PCCViewer.ViewerControl.prototype.getViewMode=function(){var a;a=this.ai&&this.ai.get_viewMode?this.ai.get_viewMode():
this.aI.viewMode;return a===IPCC.ViewMode.EqualWidthPages?PCCViewer.ViewMode.EqualWidthPages:a===IPCC.ViewMode.EqualFitPages?PCCViewer.ViewMode.EqualFitPages:a===IPCC.ViewMode.SinglePage?PCCViewer.ViewMode.SinglePage:PCCViewer.ViewMode.Document};PCCViewer.ViewerControl.prototype.setViewMode=function(a){switch(a){case PCCViewer.ViewMode.Document:a=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:a=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.EqualFitPages:a=IPCC.ViewMode.EqualFitPages;
break;case PCCViewer.ViewMode.SinglePage:a=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.ai&&this.ai.set_viewMode){var b=this.ai.get_viewMode();if(b!==a){if(b===IPCC.ViewMode.SinglePage)throw Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");if(a===IPCC.ViewMode.SinglePage)throw Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");
this.ai.set_viewMode(a)}}else this.aI.viewMode=a;return this};PCCViewer.ViewerControl.prototype.getPageLayout=function(){return(this.ai&&this.ai.get_pageLayout?this.ai.get_pageLayout():this.aI.pageLayout)===IPCC.PageLayout.HorizontalScrollDirection?PCCViewer.PageLayout.Horizontal:PCCViewer.PageLayout.Vertical};PCCViewer.ViewerControl.prototype.setPageLayout=function(a){var b;if(this.aI.viewMode!==IPCC.ViewMode.SinglePage)switch(a){case PCCViewer.PageLayout.Vertical:b=IPCC.PageLayout.VerticalScrollDirection;
break;case PCCViewer.PageLayout.Horizontal:if(this.ai&&this.ai.closeCommentsPanel){this.ai.closeCommentsPanel();var c=this;setTimeout(function(){c.trigger("CommentsPanelToggled",{isOpen:!1})},10)}b=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}this.ai&&this.ai.set_pageLayout?this.ai.set_pageLayout(b):this.aI.pageLayout=b;return this};PCCViewer.ViewerControl.prototype.getAtMaxScale=function(){if(!this.ft)throw"The getAtMaxScale method requires the viewer to be in a 'ViewerReady' state.";
return this.ai.getMinMaxZoom().atMax};PCCViewer.ViewerControl.prototype.getAtMinScale=function(){if(!this.ft)throw"The getAtMinScale method requires the viewer to be in a 'ViewerReady' state.";return this.ai.getMinMaxZoom().atMin};PCCViewer.ViewerControl.prototype.fitContent=function(a){if(!this.ft)throw"The fitContent method requires the viewer to be in a 'ViewerReady' state.";var b;switch(a){case PCCViewer.FitType.FullWidth:b=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:b=
IPCC.FitType.ShrinkToWidth;break;case PCCViewer.FitType.ActualSize:if(this.getViewMode()===PCCViewer.ViewMode.EqualWidthPages||this.getViewMode()===PCCViewer.ViewMode.EqualFitPages)throw Error("Fitting content actual size is not supported when in EqualFitPages view mode.");b=IPCC.FitType.ActualSize;break;case PCCViewer.FitType.FullHeight:b=IPCC.FitType.FitToHeight;break;case PCCViewer.FitType.FullPage:b=IPCC.FitType.BestFit;break;default:throw new RangeError("The value of fitType is not a supported value.");
}this.Gn.then(function(a){a.fitPages(b)});return this};PCCViewer.ViewerControl.prototype.getPageRotation=function(a){if(!this.ft)throw Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");var b;if(0<arguments.length){if("number"===typeof a)b=a;else{if(isNaN(+a))throw Error("The parameter pageNumber is not a number.");b=Number(a)}if(parseInt(b,10)!==b)throw Error("The 'pageNumber' value "+b+" is not an integer page number.");if(1>b||b>this.getPageCount()||!isFinite(b))throw Error("The parameter pageNumber is out of range.");
return this.ai.Um(b-1)}return this.ai.Um()};PCCViewer.ViewerControl.prototype.search=function(a){if(!1===this.CO)throw"The search method requires PagecountReady event to be triggered.";PCCViewer.SearchTask.prototype.alK(a);this.bP.aeB()?this.Rc=!0:this.bP.IP(0,this.bP.ef-1,this.bP.ef);this.By=null;this.aaE={};this.ai.clearAllSelectedText();var b=new PCCViewer.Search;a=b.ahM(a);if(!1===this.ZC)this.cV=b._search(a,this.Rc,this.bP),this.ZC=!0;else throw Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");
var c=this;this.cV.on("PartialSearchResultsAvailable",function(a){var b={};a=a.partialSearchResults;var d=a[0];b.aV=d.getId();d=a[a.length-1];b.dh=d.getId();c.aaE[d.getPageNumber()]=b;for(var b=c.ai.get_displayedPages(),e=0;e<b.get_length();e++){var f=b.getPage(e);f.get_pageNumber()+1===d.getPageNumber()&&c.aiI(f.get_pageNumber(),a)}});this.cV.on("SearchCompleted",function(a){c.ZC=!1});this.trigger("SearchPerformed",{searchRequest:this.cV});return this.cV};PCCViewer.ViewerControl.prototype.getSearchRequest=
function(){return this.cV};PCCViewer.ViewerControl.prototype.clearSearch=function(){if(!this.ft)throw"The clearSearch method requires the viewer to be in a 'ViewerReady' state.";var a=this;this.getSelectedSearchResult()&&(this.By=null,setTimeout(function(){a.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{})},0));this.ai.clearAllSelectedText();this.cV=null;setTimeout(function(){a.trigger(PCCViewer.EventType.SearchCleared,{})},0);return this};PCCViewer.ViewerControl.prototype.validateSearch=
function(a){var b={errorsExist:!1},c,d,e,f;if("object"!==typeof a&&"string"!==typeof a)return b.errorsExist=!0,b.summaryMsg="Search query must be either an object or string.",b;if("string"===typeof a&&0>a.length)return b.errorsExist=!0,b.summaryMsg="Search term must contain at least 3 characters.",b;if("string"===typeof a)return b;if(!a.hasOwnProperty("searchTerms"))return b.errorsExist=!0,b.summaryMsg="Search options must have a 'searchTerms' key.",b;if("[object Array]"!==Object.prototype.toString.call(a.searchTerms))return b.errorsExist=
!0,b.summaryMsg="Search terms value must be an array.",b;if(!a.searchTerms.length)return b.errorsExist=!0,b.summaryMsg="Search terms array must contain at least one value.",b;b.searchTerms=[];for(d=0;d<a.searchTerms.length;d++){c=a.searchTerms[d];"undefined"!==typeof c.matchingOptions&&c.matchingOptions.hasOwnProperty("matchCase");if(!(e="undefined"===typeof c.searchTerm||"string"!==typeof c.searchTerm)&&(e=!0===c.searchTermIsRegex)){e=c.searchTerm;f=void 0;if(e||null===e)try{f=!0}catch(g){f=!1}else f=
!1;e=!f}if(e)b.errorsExist=!0,b.searchTerms.push({isValid:!1,message:"Search term must be a string containing either plain text or a valid regular expression."});else{if(e="undefined"!==typeof c.matchingOptions&&c.matchingOptions.hasOwnProperty("exactPhrase")?c.matchingOptions.exactPhrase:!1){if(0>c.searchTerm.length){b.errorsExist=!0;b.searchTerms.push({isValid:!1,message:"Search term must contain at least 3 characters."});continue}}else for(c=c.searchTerm.split(" "),e=0;e<c.length;e++)f=c[e].replace(/^\s+|\s+$/g,
""),0<f.length&&0>f.length&&(b.errorsExist=!0,b.searchTerms.push({isValid:!1,message:"Search term must contain at least 3 characters."}));b.searchTerms.length!==d+1&&b.searchTerms.push({isValid:!0,message:null})}}return b};PCCViewer.ViewerControl.prototype.getDownloadDocumentURL=function(){return/^[\x00-\x7F]*$/.test(this.bP)?this.aI.imageHandlerUrl+"/SaveDocument/q?DocumentID=u"+encodeURIComponent(this.aI.documentID):this.aI.imageHandlerUrl+"/SaveDocument/q?DocumentID=e"+this.aI.documentID+"/SourceFile"};
PCCViewer.ViewerControl.prototype.setRedactionViewMode=function(a){var b;switch(a){case PCCViewer.RedactionViewMode.Draft:a=!0;b=PCCViewer.RedactionViewMode.Draft;break;case PCCViewer.RedactionViewMode.Normal:a=!1;b=PCCViewer.RedactionViewMode.Normal;break;default:throw new RangeError("The value of RedactionViewMode is not a supported value.");}this.ai&&this.ai.set_redactionDraftMode?this.ai.get_redactionDraftMode()!==a&&this.ai.set_redactionDraftMode(a):this.aI.redactionViewMode=b;return this};PCCViewer.ViewerControl.prototype.getRedactionViewMode=
function(){var a;return this.ai&&this.ai.get_redactionDraftMode?(a=this.ai.get_redactionDraftMode(),!0===a?PCCViewer.RedactionViewMode.Draft:PCCViewer.RedactionViewMode.Normal):this.aI.redactionViewMode};PCCViewer.ViewerControl.prototype.convertToRedaction=function(a){if(!1===this.ft)throw"The convertToRedaction method can not be used until 'ViewerReady' state is reached.";if(a instanceof Array)throw Error("Argument for this method cannot be an array.");if(!1===a instanceof PCCViewer.SearchResult)throw Error("The argument is not an instance of SearchResult.");
if(a.NB!==this.bP.get_documentIdentifier())throw Error("The SearchResult argument was not created using the current document viewing session.");var b=this,c=a.getStartIndexInPage(),d=a.getStartIndexInPage()+a.getText().length,e=IPCC.Ez(),f=b.dz.getPage(a.getPageNumber()-1),g=b.ai.ho(f),f=f.cA().eO(),c=J(g,f,c,d,e,a.getPageNumber()-1),k=new PCCViewer.Mark({type:"TextSelectionRedaction",igMark:c,pageNumber:a.getPageNumber()});k.H=c;k.cP=[];this.dQ[c.get_markID()]=k;d=b.iM;b.iM=function(a,c){b.uK&&b.xh.addMarks(k);
setTimeout(function(){b.trigger("MarkCreated",{mark:k,pageNumber:c.pageIndex+1,clientX:c.clientX,clientY:c.clientY})},0)};g.addMark(c);b.iM=d;b.ai.display(a.getPageNumber()-1);return k};var J=function(a,b,c,d,e,f){var g=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);g.bx=e;g.ba=f;for(var k=null,l={gM:Number.MAX_VALUE,gk:0,_top:Number.MAX_VALUE,hU:0};c<d;c++){var m=b.le(c);if(k){var n=k.get_rectangle();1>Math.abs(m.ax.y-n.y)&&1>Math.abs(m.ax.height-n.height)&&m.ax.x+m.ax.width>=
n.x+n.width?k.set_rectangle(new IPCC.Web.UI.Rectangle(n.x,n.y,m.ax.x+m.ax.width-n.x,n.height)):(L(a,g,k,l),k=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction),k.set_rectangle(m.ax),k.nj(!0),k.set_fillColor("#000000"),k.set_text(g.bz),k.set_lineWidth(0),k.bx=e)}else k=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction),k.set_rectangle(m.ax),k.nj(!0),k.set_fillColor("#000000"),k.set_text(g.bz),k.set_lineWidth(0),k.bx=e;k.ba=f}null!==k&&L(a,g,k,l);g.set_rectangle(new IPCC.Web.UI.Rectangle(l.gM,
l._top,l.gk-l.gM,l.hU-l._top));return g},L=function(a,b,c,d){var e=c.get_rectangle();e.x<d.gM&&(d.gM=e.x);e.y<d._top&&(d._top=e.y);e.x+e.width>d.gk&&(d.gk=e.x+e.width);e.y+e.height>d.hU&&(d.hU=e.y+e.height);a.addMark(c);b.bj.push(c)};PCCViewer.ViewerControl.prototype.convertToHighlight=function(a){if(!1===this.ft)throw"The convertToHighlight method can not be used until 'ViewerReady' state is reached.";if(a instanceof Array)throw Error("Argument for this method cannot be an array.");if(!1===a instanceof
PCCViewer.SearchResult)throw Error("The argument is not an instance of SearchResult.");if(a.NB!==this.bP.get_documentIdentifier())throw Error("The SearchResult argument was not created using the current document viewing session.");var b,c,d,e=a.getStartIndexInPage(),f=a.getStartIndexInPage()+a.getText().length,g=IPCC.Ez(),k=this,l;d=this.ai.ho(this.dz.getPage(a.getPageNumber()-1));b=F(IPCC.Web.UI.MarkType.HighlightText,a,e,g);l=new PCCViewer.Mark({type:"HighlightAnnotation",igMark:b,pageNumber:a.getPageNumber()});
for(e;e<f;e++)c=F(IPCC.Web.UI.MarkType.Highlight,a,e,g),d.addMark(c);this.dQ[b.get_markID()]=l;c=this.iM;this.iM=function(a,b){k.uK&&k.xh.addMarks(l);setTimeout(function(){k.trigger("MarkCreated",{mark:l,pageNumber:b.pageIndex+1,clientX:b.clientX,clientY:b.clientY})},0)};d.addMark(b);k.iM=c;this.ai.display(a.getPageNumber()-1);l.fillColor=a.getHighlightColor();return l};var F=function(a,b,c,d){var e=new IPCC.Web.UI.Mark(a);a===IPCC.Web.UI.MarkType.HighlightText&&(e.cI=b.getText());e.aV=c;e.set_rectangle({x:0,
y:0,width:0,height:0});e.dk=b.getText().length;e.aEh=b.getStartIndexInPage()+b.getText().length;e.cv=127;e.da=b.getHighlightColor();e.ly="y";e.bx=d;return e};PCCViewer.ViewerControl.prototype.aiI=function(a,b){a={};for(var c=0;c<b.length;c++)a=b[c],this.ai.selectText(a.getPageNumber()-1,a.getStartIndexInPage(),a.getText().length,a.getHighlightColor());this.ai.display(a.getPageNumber()-1);this.IB[a.getPageNumber()]="search"};PCCViewer.ViewerControl.prototype.WG=function(a,b){var c={};if(null!==this.cV&&
"function"===typeof this.cV.getResults){var d=this.cV.getResults();this.ai.clearSelectedText(a-1);var e=this.aaE[a];if(e){for(var f=e.aV;f<e.dh+1;f++)c=d[f],c.getPageNumber()===a&&(this.ai.selectText(c.getPageNumber()-1,c.getStartIndexInPage(),c.getText().length,c.getHighlightColor()),b===c.getId()&&this.ai.selectText(c.getPageNumber()-1,c.getStartIndexInPage(),c.getText().length,c.getHighlightColor()));this.ai.display(c.getPageNumber()-1);this.IB[c.getPageNumber()]="search"}}};PCCViewer.ViewerControl.prototype.setSelectedSearchResult=
function(a,b){if(!this.ft)throw"The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";if(null===a)this.IJ=-1;else{if(!(a instanceof PCCViewer.SearchResult))throw"The parameter searchResult is not an instance of PCCViewer.SearchResult.";if(!this.cV)throw"There is no current SearchRequest object available.";var c=this.cV.getResults();if(c[a.getId()].BU!==a.BU)throw"The parameter searchResult is not current. There is a newer version of search result available.";c=null;
this.IJ=a.getId();if(b){b=a.getBoundingRectangle();var d=new IPCC.Web.UI.Rectangle(b.x,b.y,b.width,b.height);!1===this.ai.scrollRegionIntoView(a.getPageNumber()-1,d)?(this.ll=function(){e.ai.scrollRegionIntoView(a.getPageNumber()-1,d)},this.setPageNumber(a.getPageNumber())):this.ll=null}}b=null!==a?a.getPageNumber():-1;this.By&&this.By.getPageNumber()!==b&&this.WG(this.By.getPageNumber(),this.IJ);a&&this.WG(a.getPageNumber(),this.IJ);this.By=a;var e=this;setTimeout(function(){e.trigger(PCCViewer.EventType.SearchResultSelectionChanged,
{})},0);return this};PCCViewer.ViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.ft)throw"The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";this.setSelectedSearchResult(null);return this};PCCViewer.ViewerControl.prototype.getSelectedSearchResult=function(){return this.By};PCCViewer.ViewerControl.prototype.requestPageText=function(a){var b,c=PCCViewer.Deferred(),d=c.getPromise(),e=this;try{if("number"===typeof a)b=a;else{if(isNaN(+a))throw"The parameter pageNumber is not a number.";
b=parseInt(a,10)}if(1>b||b>this.getPageCount()||!isFinite(a))throw"The specified page is out of range.";this.Gn.then(function(a){var d=e.dz.getPage(b-1);if(d.cA()&&d.cA().za())!0===d.cA().mF()?(a=d.cA().FU(),c.resolve(a)):c.resolve("");else{var f=function(a,b){!0===b.containsText?(a=d.cA().FU(),c.resolve(a)):c.resolve("");d.xH(f);d.En(g)},g=function(a,b){b.exception&&b.exception.message?c.reject(new PCCViewer.Error("TextExtractionFailed",b.exception.message)):c.reject(new PCCViewer.Error("TextExtractionFailed",
"Text extraction failed."));d.xH(f);d.En(g)};d.wn(f);d.zS(g);d.Bi()}})}catch(f){c.reject(new PCCViewer.Error("Error",f))}return d};PCCViewer.ViewerControl.prototype.isPageTextReady=function(a){IPCC.aJ.ps(a,"pageNumber",1,this.getPageCount());var b;return!0===(this.ai&&this.dz&&(b=this.dz.getPage(a-1))&&b.cA()&&b.cA().za())};PCCViewer.ViewerControl.prototype.documentHasText=function(){return this.aqh};PCCViewer.ViewerControl.prototype.requestPageAttributes=function(a){var b,c=PCCViewer.Deferred(),
d=c.getPromise(),e=this;try{if("number"===typeof a)b=a;else{if(isNaN(+a))throw"The parameter pageNumber is not a number.";b=parseInt(a,10)}if(1>b||b>this.getPageCount()||!isFinite(a))throw"The specified page is out of range.";this.Gn.then(function(a){var d=e.dz.getPage(b-1);0<d.mw()||0<d.mr()?c.resolve({width:d.mw(),height:d.mr()}):a.requestPageAttributes(d,function(a,b){c.resolve({width:a,height:b})},function(a){c.reject(new PCCViewer.Error("RequestPageAttributesFailed",a))})})}catch(f){c.reject(new PCCViewer.Error("Error",
f))}return d};PCCViewer.ViewerControl.prototype.destroy=function(){this.Md||(this.ai&&"function"===typeof this.ai.dispose&&this.ai.dispose(),this.cr="",this.ef=0,delete this.ai,this.bP=a,this.Rh=0,this.dz=a,this.ahL=!1,this.gd&&(IPCC.bg.Si(this.gd),this.gd=this.bI=a),this.Fj=this.CO=this.ra=!1,this.ai=a,this.ft=!1,this.Md=!0,this.trigger=function(){},this.ku=a,this.ku={})};PCCViewer.ViewerControl.prototype.getMarkById=function(a){if(isNaN(a))throw"The parameter, markId, contains a value that is not a number.";
a=parseInt(a,10);return this.dQ[a]?this.dQ[a]:null};PCCViewer.ViewerControl.prototype.getMarksByType=function(a){function b(c){(c=g.dQ[c.get_markID()])&&c.getType().toLowerCase()===a.toLowerCase()&&d.push(c)}var d=[];if("string"!==typeof a)throw"The parameter, markType, is not a String.";c(a);if(!this.ai)return d;for(var e=0,f=this.dz.get_length(),g=this,e=0;e<f;e++){var k=this.ai.ho(this.dz.getPage(e));k&&k.forEachMark(b)}return d};PCCViewer.ViewerControl.prototype.getAllMarks=function(){function a(c){c=
d.dQ[c.get_markID()];"undefined"!==typeof c&&b.push(c)}var b=[];if(!this.ai)return b;for(var c=this.dz.get_length(),d=this,e=0,e=0;e<c;e++){var f=this.ai.ho(this.dz.getPage(e));f&&f.forEachMark(a)}return b};PCCViewer.ViewerControl.prototype.addMark=function(a,b){if(!1===this.ft)throw"The method addMark is not available until 'ViewerReady' state is reached.";if("number"!==typeof a){if(isNaN(+a))throw"The parameter, pageNumber, contains a value that is not a number.";a=parseInt(a,10)}if(1>a||a>this.dz.get_length()||
!isFinite(a))throw"The specified page is out of range.";if("string"!==typeof b)throw"The parameter, markType, is not a String.";return this.amN(a,b)};PCCViewer.ViewerControl.prototype.amN=function(a,b,d){var e=this;d=d||{};var f=c(b),f=new IPCC.Web.UI.Mark(f);f.ba=a-1;d={type:b,igMark:f,pageNumber:a,uid:d.uid,viewerControl:this};if("highlightannotation"===b.toLowerCase()||"textselectionredaction"===b.toLowerCase()||"strikethroughannotation"===b.toLowerCase()||"texthyperlinkannotation"===b.toLowerCase())d.dz=
e.dz,d.ai=e.ai;var g=new PCCViewer.Mark(d);if(!0===e.ano)e.ano=!1;else{var k=e.iM;e.iM=function(a,b){e.iM=k;e.uK&&e.xh.addMarks(g);setTimeout(function(){e.trigger("MarkCreated",{mark:g,pageNumber:b.pageIndex+1,clientX:b.clientX,clientY:b.clientY})},0)}}this.ai.ho(this.dz.getPage(a-1)).addMark(f);e.dQ[f.get_markID()]=g;e.pb(g,a-1);return g};PCCViewer.ViewerControl.prototype.deleteMarks=function(a){function b(a){var d=a.getPageNumber()-1,e="",d=c.ai.ho(c.dz.getPage(d));d.removeMark(a.H);c.dQ[a.getId()]&&
(e=a.getType(),delete c.dQ[a.getId()]);d=e.toLowerCase();if(("highlightannotation"===d||"textselectionredaction"===d||"strikethroughannotation"===d||"texthyperlinkannotation"===d)&&a.cP&&a.cP.length)for(e=0;e<a.cP.length;e++){var f=a.cP[e],d=c.ai.ho(c.dz.getPage(f.ba));d.removeMark(f);c.pb(f,f.ba)}c.qG.forEach(function(b){b.hasMark(a.getId())&&b.removeMarks(a)})}var c=this,d=0,e;if(!this.ft)throw"The method deleteMarks can not be used until 'ViewerReady' state is reached.";if(a instanceof Array){for(d=
0;d<a.length;d++){e=a[d];if(!(e instanceof PCCViewer.Mark))throw"The parameter, marks, contains an item that is not a Mark.";if(!c.dQ[e.getId()])throw"The parameter, marks, contains a Mark that is not on the document.";}for(d=0;d<a.length;d++)b(a[d]),c.pb(a[d],a[d].getPageNumber()-1)}else if(a instanceof PCCViewer.Mark){if(!c.dQ[a.getId()])throw"The parameter, marks, contains a Mark that is not on the document.";b(a);c.pb(a,a.getPageNumber()-1)}else throw"The parameter, marks, is not an Array of Marks or a single Mark.";
return this};PCCViewer.ViewerControl.prototype.deleteAllMarks=function(){var a=this.getAllMarks();return 0<a.length?this.deleteMarks(a):this};PCCViewer.ViewerControl.prototype.hideMarks=function(a){e(this,a,!1,"hideMarks");return this};PCCViewer.ViewerControl.prototype.showMarks=function(a){e(this,a,!0,"showMarks");return this};PCCViewer.ViewerControl.prototype.moveMarkToFront=function(a){var b,c;if(!this.ft)throw"The method moveMarkToFront is not available until ViewerReady state is reached.";if(a instanceof
PCCViewer.Mark)if(c=a.getPageNumber(),0<a.getPageNumber())b=this.ai.ho(this.dz.getPage(c-1));else throw"The mark object has not been added to any page yet";else throw"The parameter, mark object is not a PCCViewer.Mark object";if(!a.H)throw"The parameter, mark object is probably a templateMark or has not been initialized";if(b)if(a.H instanceof IPCC.Web.UI.Mark){if(a.H.moveToFront(),!0===f(c-1,this)){var d=this;setTimeout(function(){d.ai.dR(c-1)},1)}}else throw"The mark object has not been initialized yet";
return this};PCCViewer.ViewerControl.prototype.moveMarkToBack=function(a){var b,c;if(!this.ft)throw"The method moveMarkToBack is not available until ViewerReady state is reached.";if(!(a instanceof PCCViewer.Mark))throw"The parameter, mark object is not a PCCViewer.Mark object";c=a.getPageNumber();if(1<=c)b=this.ai.ho(this.dz.getPage(a.getPageNumber()-1));else throw"The mark object has not been added to any page yet";if(!a.H)throw"The parameter, mark may be a templateMark or has not been initialized";
if(b)if(a.H instanceof IPCC.Web.UI.Mark){if(a.H.moveToBack(),!0===f(c-1,this)){var d=this;setTimeout(function(){d.ai.dR(c-1)},1)}}else throw"The mark object has not been initialized yet";return this};PCCViewer.ViewerControl.prototype.moveMarkForward=function(a){var b,c;if(!this.ft)throw"The method moveMarkForward is not available until 'ViewerReady' state is reached.";if(!(a instanceof PCCViewer.Mark))throw"The parameter, mark object is not a PCCViewer.Mark object";c=a.getPageNumber();if(1<=c)b=this.ai.ho(this.dz.getPage(a.getPageNumber()-
1));else throw"The mark object has not been added to any page yet";if(!a.H)throw"The parameter, mark object is probably a templateMark or has not been initialized";if(b)if(a.H instanceof IPCC.Web.UI.Mark){if(a.H.moveForward(),!0===f(c-1,this)){var d=this;setTimeout(function(){d.ai.dR(c-1)},1)}}else throw"The mark object has not been initialized yet";return this};PCCViewer.ViewerControl.prototype.moveMarkBackward=function(a){var b,c;if(!this.ft)throw"The method moveMarkBackward is not available until ViewerReady state is reached.";
if(!(a instanceof PCCViewer.Mark))throw"The parameter, mark object is not a PCCViewer.Mark object";c=a.getPageNumber();if(1<=c)b=this.ai.ho(this.dz.getPage(a.getPageNumber()-1));else throw"The mark object has not been added to any page yet";if(!a.H)throw"The parameter, mark object is probably a templateMark or has not been initialized";if(b)if(a.H instanceof IPCC.Web.UI.Mark){if(a.H.moveBackward(),!0===f(c-1,this)){var d=this;setTimeout(function(){d.ai.dR(c-1)},1)}}else throw"The mark object has not been initialized yet";
return this};PCCViewer.ViewerControl.prototype.getSelectedMarks=function(){function a(d){if(d){var e=d.get_type();if(e===IPCC.Web.UI.MarkType.HighlightText||e===IPCC.Web.UI.MarkType.TextSelectionRedaction||e===IPCC.Web.UI.MarkType.Strikethrough||e===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)for(var k in g.dQ){if(g.dQ.hasOwnProperty(k)&&(f=g.dQ[k],d.bx===f.H.bx)){for(d=0;d<c.length;d++)if(f.H.bx===c[d])return;c.push(f.H.bx);break}}else f=g.dQ[d.get_markID()];if(f&&f instanceof PCCViewer.Mark)b.push(f);
else return b}}var b=[],c=[];if(!1===this.ft)return b;for(var d=this.dz.get_length(),e,f,g=this,k=0;k<d;k++)(e=this.ai.ho(this.dz.getPage(k)))&&e.get_selectedMarks().forEach(a,{});return b};PCCViewer.ViewerControl.prototype.selectMarks=function(b){if(!1===this.ft)throw"The method selectMarks is not available until 'ViewerReady' state is reached.";var c=[];if(b===a)return this;!b||b instanceof Array?c=b:b instanceof PCCViewer.Mark&&c.push(b);if(0===c.length)return this;g(c,!0,this);return this};PCCViewer.ViewerControl.prototype.deselectMarks=
function(b){if(!1===this.ft)throw"The method deselectMarks is not available until 'ViewerReady' state is reached.";var c=[];if(b===a)return this;!b||b instanceof Array?c=b:b instanceof PCCViewer.Mark&&c.push(b);if(0===c.length)return this;g(c,!1,this);return this};PCCViewer.ViewerControl.prototype.deselectAllMarks=function(){var a=[],b=this.getSelectedMarks(),c=!1,d,e;for(d=0;d<b.length;d++)e=this.dQ[parseInt(b[d].getId(),10)],c=!1,e&&(e.getId()===e.H.get_markID().toString()&&(e.H.set_selected(!1),
c=Array.prototype.IndexOf?0<=a.IndexOf(e.getPageNumber()):0<=IPCC.Web.hk(a,e.getPageNumber())),c||(c=e.getPageNumber(),!0===f(c-1,this)&&a.push(c)));if(0<a.length){var g=this;setTimeout(function(){for(d=0;d<a.length;d++)g.ai.dR(a[d]-1)},1)}return this};PCCViewer.ViewerControl.prototype.copyMarks=function(b){var c=this;b instanceof PCCViewer.Mark&&(b=[b]);if(!1===b instanceof Array)throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");var d=
[];IPCC.bg.forEach(b,function(b){if(b instanceof PCCViewer.Mark){if(c.dQ[b.getId()]===a)throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");d.push(b)}else throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");});var e=[];IPCC.bg.forEach(d,function(b,c){PCCViewer.eV[b.getType()]({mark:b},function(b,d){d.uid=a;e[c]=d})});this.uK=!1;b=c.deserializeMarks(e);this.uK=!0;return b};PCCViewer.ViewerControl.prototype.enterTextMarkEditingMode=
function(a){var b=this.ai,c=function(a){for(var c=!1,d=b.get_displayedPages(),e=0;e<d.get_length();e++){var f=d.getPage(e);f.get_pageNumber()===a&&(c=!0);b.pM(f.get_pageNumber())}return c};if("undefined"===typeof a||null===a)c(-1);else{if(!1===this.ft)throw PCCViewer.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");if(!(a instanceof PCCViewer.Mark))throw new PCCViewer.Error("InvalidArgument","The argument 'mark' must be an instance of PCCViewer.Mark.");
var d=this.dQ[parseInt(a.getId(),10)];if(!(d&&d instanceof PCCViewer.Mark))throw new PCCViewer.Error("InvalidArgument","The provided mark is not on the document.");if(!(a.H&&a.H instanceof IPCC.Web.UI.Mark))throw new PCCViewer.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");if(a.getId()!==a.H.get_markID().toString())throw new PCCViewer.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");d=a.getType();
if(d!==PCCViewer.Mark.Type.TextAnnotation&&d!==PCCViewer.Mark.Type.TextRedaction&&d!==PCCViewer.Mark.Type.TextInputSignature)throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', or 'TextInputSignature'.");c(a.getPageNumber()-1)&&this.ai.AV(a.getPageNumber()-1,a.H)}return this};PCCViewer.ViewerControl.prototype.getCharacterIndex=function(b){function c(a,b){return b.x>a.x&&b.x<a.x+a.width&&b.y>a.y&&b.y<a.y+a.height?!0:!1}function d(a,b){var c=Math.max(Math.min(b.x,
a.x+a.width),a.x);a=Math.max(Math.min(b.y,a.y+a.height),a.y);return(b.x-c)*(b.x-c)+(b.y-a)*(b.y-a)}if(!1===this.ft)throw Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");var e=-1,f,g=0;if(b instanceof PCCViewer.Mark)b.getStartPoint?f=b.getStartPoint():(f=b.H?b.H.get_boundingRectangle():b.getRectangle(),f={x:f.x,y:f.y}),g=b.getPageNumber();else{if(b instanceof PCCViewer.SearchResult)return b.startIndexInPage;if(b!==a&&null!==b){if("number"===typeof b.x&&"number"===
typeof b.y)f={x:+b.x,y:+b.y};else{if(isNaN(+b.x)||isNaN(+b.y))throw Error("The parameter sortableObject does not contain valid x and y values.");f={x:Number(+b.x),y:Number(+b.y)}}if("number"===typeof b.pageNumber)g=+b.pageNumber;else{if(isNaN(+b.pageNumber))throw Error("The parameter sortableObject does not contain a valid pageNumber value.");g=Number(+b.pageNumber)}}else throw Error("The sortableObject parameter must be a Mark, SearchResult, or Point.");}if(1>g||g>this.getPageCount()||!isFinite(g))throw new RangeError("The parameter pageNumber is out of range.");
if(!this.isPageTextReady(g))return-2;b=this.dz.getPage(g-1);var k=b.cA().Wt();b=b.cA().eO();for(var l,g=Number.MAX_VALUE,m=0;m<k.fj();m++){var n=k.asz(m);if(c(n.fz(),f)){for(k=n.afk();k<n.aeD();k++){l=b.le(k).wM();if(c(l,f))return k;l=d(l,f);l<g&&(e=k,g=l)}break}l=d(n.fz(),f);l<g&&(e=n.fz().y>f.y?n.afk()-1:n.aeD(),g=l)}return e};PCCViewer.ViewerControl.prototype.getCurrentMouseTool=function(){return this.ds.getName()};PCCViewer.ViewerControl.prototype.setCurrentMouseTool=function(b){if(!1===this.ft)throw"The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";
b=b.toLowerCase();b=PCCViewer.MouseTools.getMouseTool(b);if(!b)throw Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");var c,d;switch(b.getType()){case PCCViewer.MouseTool.Type.Magnifier:c=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:c=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:c=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:c=
IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:c=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:c=IPCC.Web.UI.MouseTool.CreateLineMark;d=q(b.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:c=IPCC.Web.UI.MouseTool.CreateRectangleMark;d=n(b.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:c=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;d=r(b.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:c=
IPCC.Web.UI.MouseTool.CreateRectangleMark;d=u(b.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:c=IPCC.Web.UI.MouseTool.CreateEllipseMark;d=n(b.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:c=IPCC.Web.UI.MouseTool.CreateTextMark;d=l(b.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:c=IPCC.Web.UI.MouseTool.CreateTextMark;d=C(b.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextInputSignature:c=IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;
d=C(b.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:c=IPCC.Web.UI.MouseTool.CreateStampMark;d=E(b.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:c=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;d=w(b.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:c=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;d=w(b.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:c=
IPCC.Web.UI.MouseTool.CreateFreehandMark;d=t(b.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:c=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;d=w(b.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:return d=this.aI.resourcePath+"/placeSignatureCursor.cur",this.ai.set_mouseTool(IPCC.Web.UI.MouseTool.None),this.ai.set_allowMarkEdits(!1),this.ai.set_mouseCursor("url("+d+"), pointer"),this.ds=b,this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:c=
IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;d=y(b.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:c=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;d=y(b.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:c=IPCC.Web.UI.MouseTool.CreatePolylineMark;d=D(b.getTemplateMark());break;case PCCViewer.MouseTool.Type.StrikethroughAnnotation:c=IPCC.Web.UI.MouseTool.CreateStrikethroughMark;d=w(b.getTemplateMark());break;default:throw Error("An unexpected error occurred. The MouseTool type is not known.");
}this.ds=b;d?(this.KY=d.onCreating,this.iM=d.onAdded):this.iM=this.KY=a;this.ai.set_mouseTool(c);this.ai.set_allowMarkEdits(b.getType()===PCCViewer.MouseTool.Type.PanAndEdit);return this};PCCViewer.ViewerControl.prototype.saveMarkup=function(a,b){var c=PCCViewer.Deferred(),d=c.getPromise(),e;e=b?b:{includeAnnotations:!0,includeRedactions:!0,includeSignatures:!1};try{if("string"!==typeof a)return c.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String.")),d;if(/[\\\/:*?"<>|\x00-\x1f]/.test(a))return c.reject(new PCCViewer.Error("InvalidCharactersFilename",
"Invalid characters in the annotations filename.")),d;var f=this;this.Gn.then(function(b){k(f,e,function(b,e){if(b)return c.reject(new PCCViewer.Error("Error",b)),d;b=IPCC.gE.sH(a);b=/^[\x00-\x7F]*$/.test(f.bP.get_documentIdentifier())?f.aI.imageHandlerUrl+"/Document/q/Art/q?DocumentID=u"+encodeURIComponent(f.aI.documentID)+"&AnnotationID=u"+encodeURIComponent(a):f.aI.imageHandlerUrl+"/Document/q/Art/q?DocumentID=e"+f.aI.documentID+"&AnnotationID=e"+b;var g=new XMLHttpRequest;if(null===g)return c.reject(new PCCViewer.Error("AjaxUnsupported",
"AJAX (XMLHTTP) not supported.")),d;g.open("POST",b,!0);g.setRequestHeader("Content-Type","application/xml");g.onreadystatechange=function(){if(4===g.readyState)if(200===g.status)c.resolve(a),setTimeout(function(){f.trigger("MarkupSaved",{name:a})},0);else return c.reject(new PCCViewer.Error("AjaxError","Status Code "+g.status+" "+g.statusText)),d};g.send(e)})})}catch(g){c.reject(new PCCViewer.Error("Error",g.message))}return d};PCCViewer.ViewerControl.prototype.loadMarkup=function(b,c){var d=PCCViewer.Deferred(),
e=d.getPromise(),f=this;c=c||{};var g=c.retainExistingMarks,k=c.markupLayer,l=c.loadAsHidden;this.Gn.then(function(c){var e,m=f.ai,n=f.dz;"string"!==typeof b&&d.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));g!==a&&"boolean"!==typeof g&&d.reject(new PCCViewer.Error("InvalidArgument","The parameter `retainExistingMarks` must be a boolean value if it is specified."));k!==a&&(k instanceof PCCViewer.MarkupLayer||d.reject(new PCCViewer.Error("InvalidArgument",
"The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.")),f.qG.getItem(k.getId())===a&&d.reject(new PCCViewer.Error("InvalidArgument","The parameter `markupLayer` is a markup layer unknown to the viewer.")));c=IPCC.gE.sH(b);c=/^[\x00-\x7F]*$/.test(f.bP.get_documentIdentifier())?f.aI.imageHandlerUrl+"/Document/q/Art/q?DocumentID=u"+encodeURIComponent(f.aI.documentID)+"&AnnotationID=u"+encodeURIComponent(b):f.aI.imageHandlerUrl+"/Document/q/Art/q?DocumentID=e"+
f.aI.documentID+"&AnnotationID=e"+c;e=new XMLHttpRequest;null===e&&d.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));e.open("GET",c,!0);e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status){var c,q=e.responseText;if(-1===q.indexOf("xml"))d.reject(new PCCViewer.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));else{q=q.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,
function(a,b,c,d){return b+IPCC.bg.Fh(c)+d});c=window.DOMParser?function(a){return(new window.DOMParser).parseFromString(a,"text/xml")}:"undefined"!==typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?function(a){var b=new window.ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a);return b}:function(){return null};c=c(q);for(var r=c.getElementsByTagName("stampImage"),u={},q=0;q<r.length;q++){var C=r[q];u[C.getAttribute("imageStampId")]={imageStampId:C.getAttribute("imageStampId"),
base64format:C.getAttribute("base64format")}}m.set_annotationXmlDom(c,u,!0===g,!0===l);!0!==g&&(f.dQ={});var u=f.dz.get_length(),t,w,D;c={};r=[];for(q=0;q<u;q++){var h=f.ai.ho(f.dz.getPage(q));if(h){for(var C={},y=0,y=0;y<h.get_markCount();y++){var x=h.getMark(y);if(f.dQ[x.get_markID()]===a){D=x.get_type();switch(D){case IPCC.Web.UI.MarkType.Rectangle:!0===x.hX()?(w=255===x.get_opacity()?PCCViewer.Mark.Type.RectangleRedaction:PCCViewer.Mark.Type.TransparentRectangleRedaction,t=new PCCViewer.Mark({type:w,
igMark:x,pageNumber:q+1,uid:x.bA.ke})):(w=PCCViewer.Mark.Type.RectangleAnnotation,t=new PCCViewer.Mark({type:w,igMark:x,pageNumber:q+1,uid:x.bA.ke}),t.oO=x.get_lineWidth(),t.da=x.get_fillColor(),t.nG=x.get_lineColor(),t.cv=x.get_opacity());break;case IPCC.Web.UI.MarkType.Ellipse:w=PCCViewer.Mark.Type.EllipseAnnotation;t=new PCCViewer.Mark({type:w,igMark:x,pageNumber:q+1,uid:x.bA.ke});t.oO=x.get_lineWidth();t.da=x.get_fillColor();t.nG=x.get_lineColor();t.cv=x.get_opacity();break;case IPCC.Web.UI.MarkType.Line:w=
PCCViewer.Mark.Type.LineAnnotation;t=new PCCViewer.Mark({type:w,igMark:x,pageNumber:q+1,uid:x.bA.ke});t.qE=x.get_lineWidth();t.fk=x.get_lineColor();t.cv=x.get_opacity();x.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid?t.lM="FilledTriangle":t.lM="None";break;case IPCC.Web.UI.MarkType.Stamp:!0===x.hX()?(w=PCCViewer.Mark.Type.StampRedaction,t=new PCCViewer.Mark({type:w,igMark:x,pageNumber:q+1,uid:x.bA.ke})):(w=PCCViewer.Mark.Type.StampAnnotation,t=new PCCViewer.Mark({type:w,igMark:x,pageNumber:q+
1,uid:x.bA.ke}),t.fk=x.get_fillColor());t.vB=x.get_text();break;case IPCC.Web.UI.MarkType.Text:!0===x.hX()?(w=PCCViewer.Mark.Type.TextRedaction,t=new PCCViewer.Mark({type:w,igMark:x,pageNumber:q+1,uid:x.bA.ke})):(w=PCCViewer.Mark.Type.TextAnnotation,t=new PCCViewer.Mark({type:w,igMark:x,pageNumber:q+1,uid:x.bA.ke}),t.oO=x.get_lineWidth(),t.da=x.get_fillColor(),t.nG=x.get_lineColor(),t.cv=x.get_opacity());t.hv=x.get_fontName();t.kg=x.get_textColor();t.er=x.get_fontSize();w=x.get_fontStyle();var E=
[];(w&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold&&E.push("Bold");(w&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic&&E.push("Italic");(w&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout&&E.push("Strikeout");(w&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline&&E.push("Underline");t.eC=E;var F;switch(x.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:F="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:F=
"left";break;case IPCC.Web.UI.HorizontalAlignment.Right:F="right"}t.yj=F;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:w=D===IPCC.Web.UI.MarkType.HighlightText?PCCViewer.Mark.Type.HighlightAnnotation:D===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation?PCCViewer.Mark.Type.TextHyperlinkAnnotation:D===IPCC.Web.UI.MarkType.Strikethrough?PCCViewer.Mark.Type.StrikethroughAnnotation:
PCCViewer.Mark.Type.TextSelectionRedaction;E=x.bx;"undefined"===typeof c[E]?(t=new PCCViewer.Mark({type:w,igMark:x,pageNumber:q+1,dz:n,ai:m,uid:x.bA.ke}),t.cP=[],w===PCCViewer.Mark.Type.HighlightAnnotation&&(t.da=x.get_fillColor()),c[E]=t,x.ba=q,x.kZ=!0):(x.ba=q,c[E].cP.push(x));break;case IPCC.Web.UI.MarkType.Freehand:w=PCCViewer.Mark.Type.FreehandAnnotation;t=new PCCViewer.Mark({type:w,igMark:x,pageNumber:q+1,uid:x.bA.ke});t.qE=x.get_lineWidth();t.fk=x.get_lineColor();t.cv=x.get_opacity();break;
case IPCC.Web.UI.MarkType.SignaturePath:w=PCCViewer.Mark.Type.FreehandSignature;t=new PCCViewer.Mark({type:w,igMark:x,pageNumber:q+1,uid:x.bA.ke});t.qE=x.get_lineWidth();t.fk=x.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:w=PCCViewer.Mark.Type.TextSignature;t=new PCCViewer.Mark({type:w,igMark:x,pageNumber:q+1,uid:x.bA.ke});t.hv=x.get_fontName();t.fk=x.get_fillColor();t.bz=x.get_text();break;case IPCC.Web.UI.MarkType.TextLine:w=PCCViewer.Mark.Type.TextInputSignature;t=new PCCViewer.Mark({type:w,
igMark:x,pageNumber:q+1,uid:x.bA.ke});t.hv=x.get_fontName();t.kg=x.get_textColor();t.bz=x.get_text();break;case IPCC.Web.UI.MarkType.RectangleRedaction:x.bx?(C[x.bx]===a&&(C[x.bx]=[]),C[x.bx].push(x)):(w=PCCViewer.Mark.Type.RectangleRedaction,t=new PCCViewer.Mark({type:w,igMark:x,pageNumber:q+1,dz:n,ai:m,uid:x.bA.ke}),t.oO=x.get_lineWidth(),t.da=x.get_fillColor(),t.nG=x.get_lineColor(),t.cv=x.get_opacity());break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:w=
D===IPCC.Web.UI.MarkType.ImageStampAnnotation?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;t=new PCCViewer.Mark({type:w,igMark:x,pageNumber:q+1,uid:x.bA.ke});t.setImage({dataUrl:x.get_image(),id:x.rd});break;case IPCC.Web.UI.MarkType.Polyline:w=PCCViewer.Mark.Type.PolylineAnnotation;t=new PCCViewer.Mark({type:w,igMark:x,pageNumber:q+1,uid:x.bA.ke});t.qE=x.get_lineWidth();t.fk=x.get_lineColor();t.cv=x.get_opacity();w=x.get_points();t.aG=[];for(E=0;E<w.get_length();E++)t.aG.push(w.getPoint(E));
break;default:t=a;continue}"undefined"===typeof t||D===IPCC.Web.UI.MarkType.HighlightText||D===IPCC.Web.UI.MarkType.RectangleRedaction&&x.bx!==a||D===IPCC.Web.UI.MarkType.TextSelectionRedaction||D===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||D===IPCC.Web.UI.MarkType.Strikethrough||(f.dQ[x.get_markID()]=t,r.push(t))}}for(var H in C)if(C.hasOwnProperty(H)&&c[H]){h=c[H];D=h.H;if(h.cP&&0<h.cP.length)for(y=0;y<h.cP.length;y++)h.cP[y].ba===q&&(D=h.cP[y]);h=C[H];for(y=0;y<h.length;y++)D.bj.push(h[y])}}}for(var J in c)c.hasOwnProperty(J)&&
(t=c[J],f.dQ[t.H.get_markID()]=t,r.push(t),t.cP&&0<t.cP.length?t.cP[t.cP.length-1].lN=!0:t.H.lN=!0);d.resolve(b);k!==a?k.addMarks(r):f.getActiveMarkupLayer().addMarks(r);f.trigger("MarkupLoaded",{name:b,loadedMarks:r})}}else d.reject(new PCCViewer.Error("Error","Status Code "+e.status+" "+e.statusText))};e.send()});return e};PCCViewer.ViewerControl.prototype.getSavedMarkupNames=function(){var a=PCCViewer.Deferred(),b=a.getPromise();try{var c=0,d=0,e=this.aI.imageHandlerUrl+"/AnnotationList/q/Art/q?DocumentID=u"+
encodeURIComponent(this.aI.documentID)+"&AnnotationID=u"+encodeURIComponent(""),f;f=new XMLHttpRequest;null===f&&a.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));f.open("GET",e,!0);f.onreadystatechange=function(){var b;if("unknown"!==typeof f.responseText&&0<f.responseText.length){try{b=JSON.parse(f.responseText)}catch(e){}var g=[];if(4===f.readyState)if(200===f.status){for(c;c<b.annotationFiles.length;c++)b.annotationFiles[c].annotationLabel&&(g[d]={},g[d].name=b.annotationFiles[c].annotationLabel,
d++);a.resolve(g)}else a.reject(new PCCViewer.Error("MarkupListFail","Unable to retrieve markup list from server."))}};f.send()}catch(g){a.reject(new PCCViewer.Error("Error",g.message))}return b};PCCViewer.ViewerControl.prototype.getMarkupLayerCollection=function(){this.qG||(this.qG=new PCCViewer.MarkupLayerCollection(this));return this.qG};PCCViewer.ViewerControl.prototype.requestMarkupLayerNames=function(a){var b=PCCViewer.Deferred(),c=b.getPromise(),d,e=function(a){var b=[],c;for(c in a)!a.hasOwnProperty(c)||
"string"!==typeof a[c]&&"boolean"!==typeof a[c]&&"number"!==typeof a[c]||b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return"?"+b.join("&")};d=/^[\x00-\x7F]*$/.test(this.bP.get_documentIdentifier())?this.aI.imageHandlerUrl+"/MarkupLayers/u"+encodeURIComponent(this.aI.documentID)+"/":this.aI.imageHandlerUrl+"/MarkupLayers/e"+this.aI.documentID+"/";a&&(a=e(a),d+=a);d+="?nocache="+(new Date).getTime();IPCC.bg.Jc({url:d,method:"GET"}).then(function(a){a=JSON.parse(a);b.resolve(a)},function(a){b.reject(new PCCViewer.Error("Error",
a.message))});return c};PCCViewer.ViewerControl.prototype.getActiveMarkupLayer=function(){return this.xh};PCCViewer.ViewerControl.prototype.setActiveMarkupLayer=function(b){if(!(b instanceof PCCViewer.MarkupLayer))throw new PCCViewer.Error("InvalidArgument","The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.");if(this.qG.getItem(b.getId())===a)throw new PCCViewer.Error("InvalidArgument","The parameter `markupLayer` is a markup layer unknown to the viewer.");this.xh=b};PCCViewer.ViewerControl.prototype.loadMarkupLayers=
function(a,b){function c(){setTimeout(function(){e.Im()},20)}function d(){f.off(PCCViewer.EventType.PageCountReady,d);c()}var e,f=this;e=new PCCViewer.LoadMarkupLayersRequest(a,this,b||{});if(!1===this.ra)f.on(PCCViewer.EventType.PageCountReady,d);else c();return e};PCCViewer.ViewerControl.prototype.saveMarkupLayer=function(b){function c(b){var d=n.getMarks();d.length?m.serializeMarks(d).then(function(c){b(a,IPCC.bg.map(c,function(a){a.conversation&&a.conversation.comments&&delete a.conversation.comments;
return a}))},function(a){b(a)}):b(a,[])}function d(b){var c=n.getMarks(),e=function(a,b,c){b=IPCC.bg.filter(b,function(a){return!a.iy||a.iy===n});IPCC.bg.forEach(b,function(b){b=PCCViewer.eV.Comment(b);b.markUid=c;a.push(b)});return a},c=IPCC.bg.reduce(c,function(a,b){var c=b.getConversation().getComments();return c.length?e(a,c,b.getUid()):a},[]);b(a,c)}function e(b){var c=IPCC.bg.reduce(m.qG.getAll(),function(a,b){return a.concat(n===b?[]:b.getMarks())},[]),d=function(a,b,c){b=IPCC.bg.filter(b,
function(a){return a.iy===n});IPCC.bg.forEach(b,function(b){b=PCCViewer.eV.Comment(b);b.markUid=c;a.push(b)});return a},c=IPCC.bg.reduce(c,function(a,b){var c=b.getConversation().getComments();return c.length?d(a,c,b.getUid()):a},[]);b(a,c)}function f(a){if(a&&"string"===typeof a){var b;try{b=JSON.parse(a)}catch(c){}b&&b.layerRecordId&&(n.YE=b.layerRecordId)}k.resolve({layerRecordId:n.getRecordId()})}function g(a){k.reject(new PCCViewer.Error("AjaxError",a.message||"An unknown server error occured."))}
var k=PCCViewer.Deferred(),l=k.getPromise(),m=this;if("string"!==typeof b||!b)return k.reject(new PCCViewer.Error("InvalidArgument","The parameter `id` is not a string.")),l;var n=this.qG?this.qG.getItem(b):a;if(!n)return k.reject(new PCCViewer.Error("UnknownLayerRecord","The layer record "+b+" is not known to ViewerControl")),l;var q=[];b=function(a){a.markupLayer===n&&q.push({text:a.text,data:a.data,creationDateTime:a.creationDateTime,markUid:a.markUid})};for(var r in this.qG.iQ)this.qG.iQ.hasOwnProperty(r)&&
IPCC.bg.forEach(this.qG.iQ[r],b);var u={layerRecordId:n.getRecordId(),name:n.getName(),originalXmlName:n.getOriginalXmlName(),comments:q,data:PCCViewer.eV.Data(n)},t;IPCC.bg.abk([function(a){c(function(b,c){b&&!t?t=b:u.marks=c;a()})},function(a){d(function(b,c){b&&!t?t=b:u.comments=u.comments.concat(c);a()})},function(a){e(function(b,c){b&&!t?t=b:u.comments=u.comments.concat(c);a()})}],function(){if(t)k.reject(new PCCViewer.Error("SerializationError",t.message));else{var a,b={method:"POST",body:JSON.stringify(u),
headers:{"Content-Type":"application/json"}};a=/^[\x00-\x7F]*$/.test(m.bP.get_documentIdentifier())?m.aI.imageHandlerUrl+"/MarkupLayers/u"+encodeURIComponent(m.aI.documentID)+"/":m.aI.imageHandlerUrl+"/MarkupLayers/e"+m.aI.documentID+"/";n.getRecordId()?(b.url=a+n.getRecordId(),b.headers["X-HTTP-Method-Override"]="PUT"):b.url=a;IPCC.bg.Jc(b).then(f,g)}});return l};PCCViewer.ViewerControl.prototype.burnMarkup=function(b){function c(){k(m,g,function(a,b){a?setTimeout(function(){l.abt(a)},20):(l.abf({bP:m.bP,
aI:m.aI}),l.aod(b),setTimeout(function(){l.Im()},20))})}function d(){m.off(PCCViewer.EventType.PageCountReady,d);c()}var e={burnSignatures:!0,burnRedactions:!0,burnAnnotations:!1},f,g;b&&("object"===typeof b.marks?(b.marks instanceof PCCViewer.Mark?f=[b.marks]:b.marks instanceof Array&&(f=b.marks),e={marks:f}):(e.burnSignatures=b.burnSignatures!==a?!!b.burnSignatures:e.burnSignatures,e.burnRedactions=b.burnRedactions!==a?!!b.burnRedactions:e.burnRedactions,e.burnAnnotations=b.burnAnnotations!==a?
!!b.burnAnnotations:e.burnAnnotations),"string"===typeof b.filename&&(e.filename=b.filename));var l=new PCCViewer.BurnRequest(e),m=this;if(f){b=[];for(var e=0,n=this.getPageCount();e<n;e++)b[e]=[];b=IPCC.bg.reduce(f,function(a,b){var c=b.getPageNumber()-1;if(!("object"===typeof b&&b instanceof PCCViewer.Mark&&b.H))return l.abt(Error("The burnOptions.marks parameter is an invalid object.")),a;if(!m.getMarkById(b.cK))return l.abt(Error("The burnOptions.marks parameter contains a mark not known to Viewer Control.")),
a;a[c].push(b.H);if(b.H.bj)for(var d=0,e=b.H.bj.length;d<e;d++)b.H.bj[d]instanceof IPCC.Web.UI.Mark&&a[c].push(b.H.bj[d]);if(b.cP)for(d=0,e=b.cP.length;d<e;d++)if(a[c+1+d].push(b.cP[d]),b.cP[d].bj)for(var f=0,g=b.cP[d].bj.length;f<g;f++)b.cP[d].bj[f]instanceof IPCC.Web.UI.Mark&&a[c+1+d].push(b.cP[d].bj[f]);return a},b);g={Gz:b,we:!0}}else g={includeAnnotations:e.burnAnnotations,includeRedactions:e.burnRedactions,includeSignatures:e.burnSignatures,we:!0};if(!1===this.ra)m.on(PCCViewer.EventType.PageCountReady,
d);else c();return l};PCCViewer.ViewerControl.prototype.convertDocument=function(a){function b(){d.abf({bP:e.bP,aI:e.aI});setTimeout(function(){d.Im(f)},20)}function c(){e.off(PCCViewer.EventType.PageCountReady,c);b()}var d,e=this,f={};PCCViewer.Ci.tU(f,{targetExtension:"pdf",filename:"document"},a);d=new PCCViewer.ConversionRequest(f);if(!1===this.ra)e.on(PCCViewer.EventType.PageCountReady,c);else b();return d};PCCViewer.ViewerControl.prototype.setMarkHandleMode=function(a){switch(a){case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:a=
IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:a=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}this.ai&&this.ai.set_markHandleMode?this.ai.set_markHandleMode(a):this.aI.markHandleMode=a;return this};PCCViewer.ViewerControl.prototype.getMarkHandleMode=function(){return(this.ai&&this.ai.get_markHandleMode?this.ai.get_markHandleMode():
this.aI.markHandleMode)===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose?PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:PCCViewer.MarkHandleMode.HideSideHandlesWhenClose};PCCViewer.ViewerControl.prototype.setConversationDOMFactory=function(a){if("function"!==typeof a)throw Error("The parameter factoryFunction is not a function.");this.oh=a;return this};PCCViewer.ViewerControl.prototype.getConversationDOMFactory=function(){return this.oh};PCCViewer.ViewerControl.prototype.refreshConversations=
function(b){function c(b,d){throw Error(b+(d!==a?" (Array index "+d+")":"")+" is not a valid PCCViewer.Conversation object.");}var d,e=b===a;b instanceof PCCViewer.Conversation?d=[b]:b instanceof Array?d=b:e||c(b);var f=IPCC.bg.map(this.getAllMarks(),function(a){return a.getConversation()});b=IPCC.bg.map(d||f,function(b,d){b instanceof PCCViewer.Conversation||c(b,d);if(!e&&!IPCC.bg.inArray(f,b))throw Error(b+(d!==a?" (Array index "+d+")":"")+" is not a known conversation in this ViewerControl.");
return b.getMark().cK});this.ai.refreshConversations(b);return this};PCCViewer.ViewerControl.prototype.openCommentsPanel=function(){if(!1===this.ft)throw Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal)throw Error("The page layout must be set to vertical to use the comments panel.");this.ai.openCommentsPanel();var a=this;setTimeout(function(){a.trigger("CommentsPanelToggled",{isOpen:!0})},10);return this};
PCCViewer.ViewerControl.prototype.closeCommentsPanel=function(){if(!1===this.ft)throw Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");this.ai.closeCommentsPanel();var a=this;setTimeout(function(){a.trigger("CommentsPanelToggled",{isOpen:!1})},10);return this};PCCViewer.ViewerControl.prototype.getIsCommentsPanelOpen=function(){if(!1===this.ft)throw Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");return this.getPageLayout()===
PCCViewer.PageLayout.Horizontal?!1:this.ai.get_isCommentsPanelOpen()};PCCViewer.ViewerControl.prototype.setSelectedConversation=function(b){if(!1===this.ft)throw Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");if(null===b||b===a)return this.ai.set_selectedConversation(a),this;if(!(b instanceof PCCViewer.Conversation))throw Error("The parameter conversation is not an instance of PCCViewer.Conversation.");if(b=b.getMark())b=b.H.get_conversation(),this.ai.set_selectedConversation(b);
else throw Error("The conversation is unknown to the viewer control.");return this};PCCViewer.ViewerControl.prototype.getSelectedConversation=function(){if(!1===this.ft)return null;var a=this.ai.get_selectedConversation();return a&&(a=this.dQ[a.get_mark().get_markID()])?a.getConversation():null};PCCViewer.ViewerControl.prototype.clearMouseSelectedText=function(a){function b(a,d,e){var f=[a+1],g=c.dz.getPage(a).cA();return g.mF()?(d=g.FU().substr(d),d.length>e?f:f.concat(b(a+1,0,e-d.length))):f}if(a){if("number"!==
typeof a.startIndex||0>a.startIndex)throw Error("Start index value "+a.startIndex+" is not a valid value.");if("number"!==typeof a.pageNumber||1>a.pageNumber||a.pageNumber>this.getPageCount())throw Error("Page number value "+a.pageNumber+" is not a valid value.");if("number"!==typeof a.length||1>a.length)throw Error("Length value "+a.pageNumber+" is not a valid value.");}else throw Error("textSelection is a required parameter");var c=this,d=c.cV;this.ai.yx();if(d&&d.getResults().length){var e=b(a.pageNumber-
1,a.startIndex,a.length);a=d.getResults();var f=!1,g={};a.length&&IPCC.bg.forEach(a,function(a){IPCC.bg.contains(e,a.ag)&&(f=!0,g[a.ag]=g[a.ag]||[],g[a.ag].push(a))});f&&IPCC.bg.forEach(g,function(a,b){c.aiI(b,a)})}return this};PCCViewer.ViewerControl.prototype.convertPageToWindowCoordinates=function(a,b){if(!1===this.ft)throw Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");if(!a||"number"!==typeof a||1>a||a>this.getPageCount())throw new PCCViewer.Error("InvalidArgument",
"pageNumber is not a known page number in the document");var c=function(a){return"number"===typeof a&&!isNaN(a)},d,e=!0;b&&b.constructor===Array?d=b:(d=[b],e=!1);var f=function(a,b,c){throw new PCCViewer.Error("InvalidArgument",a+" (Array index "+b+") does not have a valid "+c+" property");};if(0===d.length||!b)throw new PCCViewer.Error("InvalidArgument","At least one point is required");IPCC.bg.forEach(d,function(a,b){c(a.x)||f(a,b,"x");c(a.y)||f(a,b,"y")});a=this.ai.aDJ(a,d);return null===a?null:
e?a:a[0]};Object.defineProperties&&Object.defineProperties(PCCViewer.ViewerControl.prototype,{pageCount:{enumerable:!0,get:function(){return this.getPageCount()}},pageNumber:{enumerable:!0,get:function(){return this.getPageNumber()},set:function(a){return this.setPageNumber(a)}},searchRequest:{enumerable:!0,get:function(){return this.cV}},selectedSearchResult:{enumerable:!0,get:function(){return this.getSelectedSearchResult()},set:function(a){return this.setSelectedSearchResult(a,!0)}},currentMouseTool:{enumerable:!0,
get:function(){return this.getCurrentMouseTool()},set:function(a){return this.setCurrentMouseTool(a)}},atMaxScale:{enumerable:!0,get:PCCViewer.ViewerControl.prototype.getAtMaxScale},atMinScale:{enumerable:!0,get:PCCViewer.ViewerControl.prototype.getAtMinScale},scaleFactor:{enumerable:!0,get:function(){return this.getScaleFactor()},set:function(a){return this.setScaleFactor(a)}},selectedMarks:{enumerable:!0,get:PCCViewer.ViewerControl.prototype.getSelectedMarks},viewMode:{enumerable:!0,get:function(){return this.getViewMode()},
set:function(a){return this.setViewMode(a)}},isCommentsPanelOpen:{enumerable:!0,get:function(){return this.getIsCommentsPanelOpen()}},selectedConversation:{enumerable:!0,get:function(){return this.getSelectedConversation()},set:function(a){return this.setSelectedConversation(a)}},redactionViewMode:{enumerable:!0,get:function(){return this.getRedactionViewMode()},set:function(a){return this.setRedactionViewMode(a)}},markHandleMode:{enumerable:!0,get:function(){return this.getMarkHandleMode()},set:function(a){return this.setMarkHandleMode(a)}}});
PCCViewer.FitType={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};PCCViewer.ViewMode={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};PCCViewer.PageLayout={Horizontal:"Horizontal",Vertical:"Vertical"};PCCViewer.EventType={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",
PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",
PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",MarkMouseEnter:"MarkMouseEnter",MarkMouseOver:"MarkMouseOver",MarkMouseLeave:"MarkMouseLeave",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",
Click:"Click"};PCCViewer.RedactionViewMode={Draft:"Draft",Normal:"Normal"};PCCViewer.ScaleTrigger={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};PCCViewer.MarkHandleMode={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"}})();PCCViewer.Ci={};
PCCViewer.Ci.tU=function(a){var b;if(a){if("object"!==typeof a)throw Error("typeof target must be 'object'");for(var d=1;d<arguments.length;d++){b=arguments[d];for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}}else throw Error("target must be defined.");return a};
(function(a,b){function d(a){var b={};a=a.split("&");for(var c=a.length;c--;){var d=a[c].split("=");b[d.shift()]=d.join("=")}return b}function c(){var a=document.getElementById("pccPrintFrame");a&&(a.contentWindow.destroy(),a.parentElement.removeChild(a))}function e(b,e,f,g,l){function C(){var a=window,b=y;a.removeEventListener?a.removeEventListener("message",b,!1):a.detachEvent&&a.detachEvent("onmessage",b)}function E(){var a=t;a.removeEventListener?a.removeEventListener("load",E,!1):a.detachEvent&&
a.detachEvent("onload",E);w=t.contentDocument?t.contentDocument:t.contentWindow?t.contentWindow.document:t.document;b.algorithm===k.contentWindowContents?(t.contentWindow.contents=b.template,t.src='javascript:window["contents"]'):(w.open(),w.write(b.template),w.close());l()}c();b.algorithm||(b.algorithm=k.standard);var w,t=document.createElement("iframe");t.id="pccPrintFrame";t.className="pccPrintFrame";t.style.position="absolute";t.style.bottom=t.style.right="0px";t.style.width=t.style.height="1px";
t.style.zIndex="0";t.style.border="none";b.algorithm!==k.contentWindowContents&&(t.style.visibility="0");var y=function(c){if(c.data.match(/loadArt/)){c=JSON.parse(c.data);var l=f(c.pageIndex);t.contentWindow[c.callbackName](l)}else"extra"===c.data?(c=g(b),t.contentWindow.extra(b.encryption,c)):"done"===c.data?b.algorithm===k.contentWindowContents?setTimeout(function(){t.contentWindow.focus();t.contentWindow.document.execCommand("print",!1,null);window.focus();C();e.trigger(a.PrintRequest.EventType.PrintCompleted)},
200):setTimeout(function(){t.contentWindow.focus();t.contentWindow.print();window.focus();C();e.trigger(a.PrintRequest.EventType.PrintCompleted)},200):"fail"===c.data?(C(),e.trigger(a.PrintRequest.EventType.PrintFailed)):(c=d(c.data),c.index=+c.index,c.pageNumber=+c.pageNumber,c.totalPages=+c.totalPages,e.adp=+c.index+1,e.trigger(a.PrintRequest.EventType.PrintPagePrepared,c))};m(window,"message",y);m(t,"load",E);document.body.appendChild(t);return C}function f(a){return function(b){return a.ai.ho(a.dz.getPage(b))}}
function g(a){return function(b){var c,d,e=[],f=[],g={},k={},m={},y={},D="",J,L,F,p,H={},B={},x=0;L=x=0;var K=function(a,b){return a-b};if("none"!==b.includeComments||"none"!==b.includeReasons){c=a.getAllMarks();for(x=0;x<b.pages.length;x++)H[b.pages[x]]=!0;for(x=0;x<c.length;x++){d=c[x];p=d.ag;"none"!==b.includeReasons&&d.getReason&&(D=d.getReason())&&(m[p]?m[p][D]=m[p][D]?m[p][D]+1:1:(y[D]=1,m[p]=y,y={}));if(d.pN||-1!==d.bk.search("Redaction"))B[p]=B[p]?B[p]+1:1;if(!(b.range.length&&!0!==H[p]||
!b.includeRedactions&&d.pN||!b.includeAnnotations&&!d.pN)&&(D=d.getConversation())&&D.getComments().length){if(!F)F=p;else if(p!==F){e.sort(K);for(L=0;L<e.length;L++)f=f.concat(g[e[L]]);k[F]=f;F=p;e=[];g={};f=[]}L=a.getCharacterIndex(d);J=p;d=d.H.get_boundingRectangle();d=0<L?1E4*L+d.y:d.y;e.push(d);g[d]?g[d].push(D):g[d]=[D]}}if(e.length){e.sort(function(a,b){return a-b});for(x=0;x<e.length;x++)f=f.concat(g[e[x]]);k[J]=f}}return{Lj:k,yE:m,Fi:B}}}var k={standard:1,contentWindowContents:2},m=function(a,
b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)};a.ViewerControl.prototype.print=function(c){c=c||{};c.range=c.range||"all";c.orientation=c.orientation&&"landscape"===c.orientation.toLowerCase()?"landscape":"portrait";c.paperSize=c.paperSize||"letter";c.margins=c.margins&&"none"===c.margins.toLowerCase()?"none":"default";c.includeMarks=c.includeMarks!==b?!!c.includeMarks&&this.canPrintMarks():b;c.includeAnnotations=c.includeAnnotations!==b?!!c.includeAnnotations&&
this.canPrintMarks():b;c.includeRedactions=c.includeRedactions!==b?!!c.includeRedactions&&this.canPrintMarks():b;c.includeComments=c.includeComments?c.includeComments:"none";c.includeReasons=c.includeReasons?c.includeReasons:"none";c.redactionViewMode=c.redactionViewMode?c.redactionViewMode:"Normal";c.includeAnnotations===b&&(c.includeAnnotations=c.includeMarks);c.includeRedactions===b&&(c.includeRedactions=c.includeMarks);var d=a.Util.convertPageRangeToArray(c.range.toString().toLowerCase(),{upperLimit:this.getPageCount()}),
m=this.aI.imageHandlerUrl,r=this.ayR;c.vsID=this.aI.documentID;c.handler=m;c.pages=d;var m=!!navigator.appName.match("Microsoft"),l=!!navigator.userAgent.match("Edge"),C=!!navigator.userAgent.match("Trident"),E=!!(0<=navigator.userAgent.search("Safari")&&0>navigator.userAgent.search("Chrome"));c.template=r.replace(/{{viewingSessionId}}/g,c.vsID).replace(/{{handler}}/g,c.handler).replace(/{{pages}}/g,c.pages.join(",")).replace(/{{orientation}}/g,c.orientation).replace(/{{paperSize}}/g,c.paperSize).replace(/{{isIE}}/g,
C.toString()).replace(/{{isSafari}}/g,E.toString()).replace(/{{includeAnnotations}}/g,c.includeAnnotations).replace(/{{includeRedactions}}/g,c.includeRedactions).replace(/{{includeComments}}/g,c.includeComments).replace(/{{includeReasons}}/g,c.includeReasons).replace(/{{margins}}/g,c.margins).replace(/{{redactionViewMode}}/g,c.redactionViewMode);c.encryption=!!this.aI.encryption;if(m||l)c.algorithm=k.contentWindowContents;var w,d=new a.PrintRequest(c,d.length,function(){w&&w()},this);this.trigger(a.EventType.PrintRequested,
{printRequest:d});w=e(c,d,f(this),g(this),function(){});return d};a.ViewerControl.prototype.validatePrintRange=function(b){return a.Util.validatePageRange(b.toString().toLowerCase(),{upperLimit:this.getPageCount()})};a.ViewerControl.prototype.canPrintMarks=function(){return 8!==document.documentMode};a.PrintRequest=function(b,c,d,e){this.aI=b;this.aU=d;this.adp=0;a.EventEmitter.extend(this)};a.PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",
PrintFailed:"PrintFailed"};a.PrintRequest.prototype.cancel=function(){this.aU();this.trigger(a.PrintRequest.EventType.PrintCancelled)};a.PrintRequest.prototype.getOptions=function(){return{range:this.aI.pages.toString(),orientation:this.aI.orientation,paperSize:this.aI.paperSize,margins:this.aI.margins,includeMarks:this.aI.includeMarks,includeAnnotations:this.aI.includeAnnotations,includeRedactions:this.aI.includeRedactions,includeComments:this.aI.includeComments,includeReasons:this.aI.includeReasons,
redactionViewMode:this.aI.redactionViewMode}};a.PrintRequest.prototype.getPageCount=function(){return this.aI.pages.length};a.PrintRequest.prototype.getPreparedCount=function(){return this.adp};Object.defineProperties&&Object.defineProperties(a.PrintRequest.prototype,{options:{enumerable:!0,get:function(){return this.getOptions()}},pageCount:{enumerable:!0,get:function(){return this.getPageCount()}},preparedCount:{enumerable:!0,get:function(){return this.getPreparedCount()}}});a.PrintControl=function(c,
d){function e(a){window.parent?window.parent.postMessage(a,"*"):window.opener.postMessage(a,"*")}function f(a,b){var c=[];c.push("pageNumber="+(1+a));c.push("index="+b);c.push("totalPages="+d.pages.length);return c.join("&")}function g(l,t,L){var F={documentIdentifier:d.vsID,pageNumber:l,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:d.handler,encryption:d.encryption},p=document.createElement("div");p.className=d.paperSize+" ";p.className+=d.isIE?"pageIE":d.isSafari?"pageSafari":"page";
p.id="printpage"+l;"none"===d.margins&&(p.className+=" nomargins");c.appendChild(p);var H=IPCC.initializePageViewPlugin(p,F);H.set_debug(!1);y.push(H);var B=!1;H.add_pageOpened(function(){var a=H.mw(),b=H.mr();("portrait"===d.orientation&&a>b||"landscape"===d.orientation&&b>a)&&H.xY(90)});H.add_pageDisplayed(function(){B||(e(f(l,t)),L())});H.add_textPageReady(function(){B&&(H.dR(),e(f(l,t)),L())});H.add_pageOpenFailed(function(){e("fail")});H.add_textExtractionFailed(function(){B&&e("fail")});d.redactionViewMode&&
("draft"===d.redactionViewMode.toLowerCase()?H.qi(!0):"normal"===d.redactionViewMode.toLowerCase()&&H.qi(!1));if(a.ViewerControl.prototype.canPrintMarks()&&(d.includeAnnotations||d.includeRedactions)){var p="loadArt"+l,x={pageIndex:l,callbackName:p};window[p]=function(a){var e,f,g,p={},r={},u="",t,x="",y=[];a.Gy(function(a){a.get_type()===IPCC.Web.UI.MarkType.HighlightText&&(B=!0);d.includeRedactions&&a.hX()&&y.push(a);d.includeAnnotations&&!a.hX()&&y.push(a)});var J=new IPCC.Web.UI.ArtPage;IPCC.bg.forEach(y,
function(a){a.km(b);J.addMark(a)});F.artPage=J;r=d.pagedConversations[l+1];if(d.pagedConversations&&r&&"followingPage"===d.includeComments){e=document.createElement("div");e.className+="commentPage";e.id="printcommentpage"+l;"none"===d.margins&&(e.className+=" nomargins");f='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(g=0;g<r.length;g++)p=r[g],u+=k(p,l+1);e.innerHTML=f.replace("{{pageNumber}}",l+1).replace("{{conversationList}}",u);c.appendChild(e)}g=
d.pagedReasons[l+1];if(d.pagedReasons&&g&&"followingPage"===d.includeReasons){e=document.createElement("div");e.className+="reasonPage";e.id="printreasonpage"+l;"none"===d.margins&&(e.className+=" nomargins");f='<h1>Redaction Reasons for Page {{pageNumber}}</h1><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><div class="pageReasons">{{reasonList}}</div>';for(t in g)g.hasOwnProperty(t)&&(x+=w(t,g[t]));e.innerHTML=f.replace("{{pageNumber}}",
l+1).replace("{{reasonList}}",x).replace("{{date}}",m()).replace("{{count}}",d.pagedRedactionCount[l+1]);c.appendChild(e)}H.openPage(F);IPCC.bg.forEach(y,function(b){b.km(a)})};e(JSON.stringify(x))}else H.openPage(F)}function k(a,b){var c="";b="";var d=a.getMark(),e;switch(d.H.jJ()){case IPCC.Web.UI.MarkType.Rectangle:b=d.H.hX()?"Highlight Redaction ":"Rectangle Annotation";break;case IPCC.Web.UI.MarkType.Ellipse:b="Ellipse Annotation";break;case IPCC.Web.UI.MarkType.RectangleRedaction:b="Rectangle Redaction";
break;case IPCC.Web.UI.MarkType.Line:b="None"===d.lM?"Line Annotation":"Arrow Annotation";break;case IPCC.Web.UI.MarkType.Polyline:b="Polyline Annotation";break;case IPCC.Web.UI.MarkType.Polygon:b="Polygon Annotation";break;case IPCC.Web.UI.MarkType.Text:b="Text Annotation";break;case IPCC.Web.UI.MarkType.Highlight:b="Highlight Annotation";break;case IPCC.Web.UI.MarkType.Stamp:b="Stamp Annotation";break;case IPCC.Web.UI.MarkType.HighlightText:b="Highlight Text Annotation";break;case IPCC.Web.UI.MarkType.SignaturePath:b=
"Signature Path";break;case IPCC.Web.UI.MarkType.Freehand:b="Freehand Annotation";break;case IPCC.Web.UI.MarkType.SignatureText:b="Signature Text";break;case IPCC.Web.UI.MarkType.TextLine:b="Text Input Signature";break;case IPCC.Web.UI.MarkType.SignatureImage:b="Signature Image";break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:b="Text Selection Redaction";break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:b="Image Stamp Annotation";break;case IPCC.Web.UI.MarkType.ImageStampRedaction:b="Image Stamp Redaction";
break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:b="Text Hyperlink Annotation";break;case IPCC.Web.UI.MarkType.Strikethrough:b="Strikethrough Annotation"}a=a.getComments();for(d=0;d<a.length;d++){e=a[d];var f;f=e.getText();e=new Date(e.ow.YL);e="{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}".replace("{{month}}",e.getMonth()+1).replace("{{day}}",e.getDate()).replace("{{year}}",e.getFullYear()).replace("{{hour}}",(10>e.getHours()?"0":"")+e.getHours()).replace("{{minutes}}",(10>e.getMinutes()?
"0":"")+e.getMinutes()).replace("{{period}}",12>e.getHours()?"am":"pm");f=f.replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\n/g,"<br/>");f="{{comment}} - {{date}}".replace("{{comment}}",f).replace("{{date}}",e);c+="<li>"+f+"</li>"}return"<h3>"+b+"</h3><ul>"+c+"</ul>"}function m(){var a=new Date;return"{{month}}/{{day}}/{{year}}".replace("{{month}}",a.getMonth()+1).replace("{{day}}",a.getDate()).replace("{{year}}",a.getFullYear())}function w(a,b){a=a.replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\n/g,
"<br/>");var c=1<b?"times":"time";return'<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace("{{reason}}",a).replace("{{count}}",b).replace("{{times}}",c)}function t(){function a(b,c){return function(a){g(b,c,a)}}window.onerror=function(a){e("fail")};for(var b=[],f=0;f<d.pages.length;f++)b.push(a(+d.pages[f]-1,f));(function(a,b){var c=a.length,d=0,e=function(){if(0===--c)b();else a[d++](e)};a[d++](e)})(b,function(){var a,b,f,g="",l,r,t,y;if("documentEnd"===d.includeComments)for(f in d.pagedConversations)if(d.pagedConversations.hasOwnProperty(f)){a||
(a=document.createElement("div"),a.className+=" commentPage",a.id="printpage_comments","none"===d.margins&&(a.className+=" nomargins"));b='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';l="";for(var A=0;A<d.pagedConversations[f].length;A++)r=d.pagedConversations[f][A],t=r.getMark(),l+=k(r,t.pageNumber);g+=b.replace("{{pageNumber}}",t.pageNumber).replace("{{conversationList}}",l);l.length&&(a.innerHTML="<h1>Comments</h1><hr>{{pageSections}}".replace("{{pageSections}}",
g),c.appendChild(a))}if("documentEnd"===d.includeReasons){g="";b='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(f in d.pagedReasons)if(d.pagedReasons.hasOwnProperty(f)){y||(y=document.createElement("div"),y.className+="reasonPage",y.id="printpage_reason","none"===d.margins&&(y.className+=" nomargins"));a="";for(var D in d.pagedReasons[f])d.pagedReasons[f].hasOwnProperty(D)&&
(a+=w(D,d.pagedReasons[f][D]));g+=b.replace("{{pageNumber}}",f).replace("{{reasonList}}",a).replace("{{date}}",m()).replace("{{count}}",d.pagedRedactionCount[f])}g.length&&(y.innerHTML="<h1>Redaction Reasons</h1><hr>{{pageSections}}".replace("{{pageSections}}",g),c.appendChild(y))}e("done")})}var y=[];d.includeAnnotations="false"!==d.includeAnnotations;d.includeRedactions="false"!==d.includeRedactions;c.className=c.className+" "+d.orientation;window.destroy=function(){var a;IPCC.bg.forEach(y,function(c){(a=
c.get_artPage())&&a.removeAllMarks();c.dispose();a=b})};(function(){window.extra=function(a,b){d.encryption=!!a;d.pagedConversations=b.Lj;d.pagedReasons=b.yE;d.pagedRedactionCount=b.Fi;t();window.extra=function(){}};e("extra")})()}})(PCCViewer);
(function(a){function b(a){this.top=a.top;this.bottom=a.bottom;this.left=a.left;this.right=a.right;this.width=a.width||a.right-a.left;this.height=a.height||a.bottom-a.top}function d(a,b){this.x=a;this.y=b;this.getDistance=function(a){var b=a.x-this.x;a=a.y-this.y;return Math.sqrt(b*b+a*a)};this.equals=function(a){return this===a||a&&this.x===a.x&&this.y===a.y||!1};this.close=function(a){return 4>this.getDistance(a)};this.clone=function(){return new d(this.x,this.y)}}function c(a){return a&&1===a.nodeType}
function e(a,b){var c=b&&IPCC.bg.DZ?"m":"M",d=b&&IPCC.bg.DZ?"l":"L";return IPCC.bg.map(a,function(a,b){return 0===b?c+a.x+","+a.y:d+a.x+","+a.y}).join("")}function f(a,b,c){return function(f){if(IPCC.bg.FZ&&f.type.match("mouse"))return f.preventDefault(),f.stopPropagation(),!1;f.preventDefault?f.preventDefault():f.returnValue=!1;var g;if(f.changedTouches){var k=f.changedTouches[0];if("touchstart"===f.type)b=f.target.getBoundingClientRect();else if("touchend"===f.type){c&&c();return}g=k.clientX-b.left;
f=k.clientY-b.top}else g=f.clientX-b.left,f=f.clientY-b.top;g=new d(g,f);a.gy.push(g);g=e(a.gy);IPCC.bg.DZ?a.ce.path=g.toLowerCase():a.ce.setAttribute("d",g);c&&c()}}function g(a){var b="",c,d=3>a.length?a:IPCC.bg.filter(a,function(a){if(c&&c.close(a))return!1;c=a;return!0});3>d.length&&(d=[a[0],a[a.length-1]]);c=void 0;3>d.length?b+=e(d):(b="M"+IPCC.bg.bspline(d),b=b.replace(/\d*\.?\d*/g,function(a){var b=a.indexOf(".");return a.length&&0<b?a.substr(0,b+3):a}));return b}function k(a){function d(a){var b=
IPCC.bg.yF.Path(void 0,{width:2E3,height:2E3,color:"black",thickness:4});e.ei.appendChild(b);var c={gy:[],ce:b,gp:function(){e.Is.push(c.gy);IPCC.bg.removeEvent(e.al,"mousemove",g);IPCC.bg.removeEvent(e.al,"mouseup",k);IPCC.bg.FZ&&(IPCC.bg.removeEvent(e.al,IPCC.bg.pa.move,g),IPCC.bg.removeEvent(e.al,IPCC.bg.pa.up,k));IPCC.bg.HA&&(IPCC.bg.removeEvent(e.al,"touchmove",g),IPCC.bg.removeEvent(e.al,"touchend",k))}},g=f(c,e.qp),k=f(c,e.qp,c.gp);g(a);IPCC.bg.addEvent(e.al,"mousemove",g);IPCC.bg.addEvent(e.al,
"mouseup",k);IPCC.bg.FZ&&(IPCC.bg.addEvent(e.al,IPCC.bg.pa.move,g),IPCC.bg.addEvent(e.al,IPCC.bg.pa.up,k));IPCC.bg.HA&&(IPCC.bg.addEvent(e.al,"touchmove",g),IPCC.bg.addEvent(e.al,"touchend",k))}var e=this;if("string"===typeof a){if(this.al=document.querySelector(a),!c(this.al))throw Error('The query selector "'+a+'" did not match any DOM element.');}else if(c(a))this.al=a;else throw Error("The SignatureControl target is not a valid DOM element.");this.Is=[];this.qp=new b(this.al.getBoundingClientRect());
this.ei=IPCC.bg.yF.SVG([0,0,this.qp.width,this.qp.height].join(" "));this.al.appendChild(this.ei);IPCC.bg.addEvent(e.al,"mousedown",d);IPCC.bg.FZ&&(this.al.style["-ms-touch-action"]="none",this.al.style["touch-action"]="none",IPCC.bg.addEvent(e.al,IPCC.bg.pa.down,d));IPCC.bg.HA&&IPCC.bg.addEvent(e.al,"touchstart",d);this.Uf=function(){e.qp=new b(e.al.getBoundingClientRect());e.ei.setAttribute("viewBox",[0,0,e.qp.width,e.qp.height].join(" "))};IPCC.bg.addEvent(window,"resize",this.Uf);this.ahq=function(){IPCC.bg.removeEvent(window,
"resize",e.Uf);IPCC.bg.removeEvent(e.al,"mousedown",d);IPCC.bg.FZ&&IPCC.bg.removeEvent(e.al,IPCC.bg.pa.down,d);for(IPCC.bg.HA&&IPCC.bg.removeEvent(e.al,"touchstart",d);e.al.firstChild;)e.al.removeChild(e.al.firstChild)}}k.prototype.done=function(){var a,b,c,e,f="M0,0";IPCC.bg.forEach(this.Is,function(d){IPCC.bg.forEach(d,function(d){if(void 0===a||a>d.x)a=d.x;if(void 0===b||b>d.y)b=d.y;if(void 0===c||c<d.x)c=d.x;if(void 0===e||e<d.y)e=d.y})});IPCC.bg.forEach(this.Is,function(c){c=IPCC.bg.map(c,function(c){return new d(c.x-
a,c.y-b)});f+=g(c)});this.ahq();return{type:"path",path:f,width:c-a||0,height:e-b||0}};k.prototype.resize=function(){this.Uf();return this};k.prototype.clear=function(){for(var a=this.ei;a&&a.firstChild;)a.removeChild(a.firstChild);this.Is=[];return this};k.prototype.undo=function(){this.ei.lastChild&&this.ei.removeChild(this.ei.lastChild);this.Is.pop();return this};k.prototype.cancel=function(){this.ahq();return this};a.SignatureControl=function(a){return new k(a)};a.Signatures=new a.ObservableCollection;
a.SignatureDisplay=function(a,b){function d(){if(!b.path||b.path.match(/[^MLC0-9.,\s]/))throw Error("A valid path is required in the signature object.");var c=IPCC.bg.Wb(b.path),e=IPCC.bg.yF.SVG([0,0,c.width,c.height].join(" ")),f=IPCC.bg.yF.Path(b.path,{width:c.width,height:c.height,color:"black",thickness:4});if(IPCC.bg.DZ){var g=c.height/c.width*100;e.style.width=f.style.width="100%";e.style.height=f.style.height="0px";e.style.paddingBottom=f.style.paddingBottom=g+"%"}else e.style.width="100%",
e.style.maxHeight="100%",e.setAttribute("preserveAspectRatio","xMinYMin meet");e.appendChild(f);a.appendChild(e);return{width:c.width,height:c.height,clear:function(){a.removeChild(e)}}}function e(){if(!b.text||"string"!==typeof b.text)throw Error("The signature text is not a valid string.");var c=document.createElement("div"),d=document.createTextNode(b.text),f="string"===typeof b.fontName?b.fontName:"serif";c.appendChild(d);c.style.textAlign="center";c.style.fontFamily='"'+f+'", cursive';c.style.fontSize=
"2.5em";c.style.overflow="hidden";a.appendChild(c);d=IPCC.bg.wy(b.text,f);return{width:d.width,height:d.height,clear:function(){a.removeChild(c)}}}if(c(a)){if(b){if(b.path)return d();if(b.text)return e();throw Error("The signature provided does not have a known type.");}throw Error("The `signature` parameter is required.");}throw Error("The `domElement` parameter is not a valid HTMLElement.");}})(PCCViewer||{});
(function(a){a.Comment=function(b,d){if(!(b instanceof IPCC.Web.UI.Comment)&&"string"!==typeof b)throw Error(b+" is not a string.");if(!(d instanceof a.Conversation))throw Error(d+" is not a PCCViewer.Conversation object.");this.getConversation=function(){return d};this.ow="string"===typeof b?new IPCC.Web.UI.Comment(b):b;this.ow.HH=this;this.cR=this.ow.get_data();a.Data.extend(this);this.EI=new IPCC.Web.UI.Data;a.SessionData.extend(this)};a.Comment.prototype.getMarkupLayer=function(){return this.iy};
a.Comment.prototype.getText=function(){return this.ow.get_text()};a.Comment.prototype.setText=function(a){if("string"!==typeof a)throw Error(a+" is not a string.");this.ow.set_text(a);return this};a.Comment.prototype.getCreationTime=function(){var a=IPCC.bg.IR(this.ow.get_creationTime());return new Date(a)};a.Comment.prototype.setCreationTime=function(a){function d(){throw Error(a+" is not a valid string or Date object.");}if("string"===typeof a){var c=IPCC.bg.IR(a);c instanceof Error&&d();a=new Date(c)}a instanceof
Date||d();this.ow.set_creationTime(IPCC.bg.yk(a));return this};Object.defineProperties&&Object.defineProperties(a.Comment.prototype,{text:{enumerable:!0,get:function(){return this.getText()},set:function(a){return this.setText(a)}},creationTime:{enumerable:!0,get:function(){return this.getCreationTime()},set:function(a){return this.setCreationTime(a)}}});a.Conversation=function(b){if(!(b instanceof a.Mark))throw Error(b+" is not a PCCViewer.Mark object.");this.getMark=function(){return b};this.lu=
new a.ObservableCollection;"undefined"!==typeof b.H?(this.yo=b.H.get_conversation(),this.yo.forEach(function(b){b=new a.Comment(b,this);this.lu.add(b)},this)):this.yo=new IPCC.Web.UI.Conversation;this.cR=this.yo.get_data();a.Data.extend(this);this.EI=new IPCC.Web.UI.Data;a.SessionData.extend(this)};a.Conversation.prototype.addComment=function(b){b=new a.Comment(b,this);this.lu.add(b);this.yo.addComment(b.ow);return b};a.Conversation.prototype.deleteComments=function(b){function d(a,b){throw Error(a+
(void 0!==b?" (Array index "+b+")":"")+" is not a PCCViewer.Comment object.");}function c(a,b){throw Error((void 0!==b?" (Array index "+b+")":"")+" is not part of this Conversation object.");}var e=this,f=this.lu.toArray(),g=function(a){for(var b=0,c=f.length;b<c;b++)if(f[b]===a)return!0;return!1};b instanceof a.Comment?(g(b)||c(b),e.lu.remove(b),e.yo.removeCommentInstance(b.ow)):b instanceof Array?(IPCC.bg.forEach(b,function(b,e){b instanceof a.Comment||d(b,e);g(b)||c(b,e)}),IPCC.bg.forEach(b,function(a){e.lu.remove(a);
e.yo.removeCommentInstance(a.ow)})):d(b);return this};a.Conversation.prototype.getComments=function(){return this.lu.toArray().sort(function(a,d){return a.getCreationTime().getTime()-d.getCreationTime().getTime()})};a.Conversation.rW=function(b,d){if("function"!==typeof b.getComments||"function"!==typeof d.addComment)throw Error("Arguments `_source` and `_destination` must be Conversation objects.");a.Data.ql(b,d);b=b.getComments();var c,e=b.length;for(c=0;c<e;c++){var f=b[c],g=d.addComment(f.getText());
a.Data.ql(f,g)}}})(PCCViewer||{});
(function(a){a.ImageStamps=function(b){this.aI=a.Ci.tU({},b)};a.ImageStamps.prototype.requestImageStampList=function(){var b=a.Deferred(),d=b.getPromise();try{var c=this.aI.imageHandlerUrl+"/ImageStampList",e;e=new XMLHttpRequest;null===e&&b.reject(new a.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));e.open("GET",c,!0);e.onreadystatechange=function(){var c;if("unknown"!==typeof e.responseText&&0<e.responseText.length){try{c=JSON.parse(e.responseText)}catch(d){}4===e.readyState&&(200===
e.status?b.resolve(c):b.reject(new a.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server.")))}};e.send()}catch(f){b.reject(new a.Error("Error",f.message))}return d};a.ImageStamps.prototype.reqestImageSourceBase64=function(b){if(!b)throw Error("Parameter imageStampId is not valid.");if("string"!==typeof b)throw Error("Parameter imageStampId should be of type string.");var d=a.Deferred(),c=d.getPromise();try{var e=this.aI.imageHandlerUrl+"/ImageStamp/"+b+"/q?format=Base64",f;
f=new XMLHttpRequest;null===f&&d.reject(new a.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));f.open("GET",e,!0);f.onreadystatechange=function(){var b;if("unknown"!==typeof f.responseText&&0<f.responseText.length){try{b=JSON.parse(f.responseText)}catch(c){}4===f.readyState&&(200===f.status?d.resolve(b):d.reject(new a.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server.")))}};f.send()}catch(g){d.reject(new a.Error("Error",g.message))}return c};a.ImageStamps.prototype.getImageSourceURL=
function(a){if(!a)throw Error("Parameter imageStampId is not valid.");if("string"!==typeof a)throw Error("Parameter imageStampId should be of type string.");return this.aI.imageHandlerUrl+"/ImageStamp/"+a+"/q?format=Image"}})(PCCViewer||{});
(function(a){PCCViewer.DocumentHyperlink=function(a){this.zY=a.zY;this.ag=a.ag};PCCViewer.DocumentHyperlink.prototype.getHref=function(){return this.zY.ael()};PCCViewer.DocumentHyperlink.prototype.getPageNumber=function(){return this.ag};PCCViewer.DocumentHyperlink.prototype.getRectangle=function(){return this.zY.fz()};Object.defineProperties&&Object.defineProperties(PCCViewer.DocumentHyperlink.prototype,{href:{enumerable:!0,get:function(){return this.getHref()}},pageNumber:{enumerable:!0,get:function(){return this.getPageNumber()}},
rectangle:{enumerable:!0,get:function(){return this.getRectangle()}}});PCCViewer.ViewerControl.prototype.requestDocumentHyperlinks=function(a){var d,c=PCCViewer.Deferred(),e=c.getPromise(),f=this;try{if("number"===typeof a)d=a;else{if(isNaN(+a))throw"The parameter pageNumber is not a number.";d=parseInt(a,10)}if(1>d||d>this.getPageCount()||!isFinite(a))throw"The specified page is out of range.";var g=this.KS[d-1];g||(g=this.KS[d-1]=new PCCViewer.Deferred,this.Gn.then(function(){f.dz.getPage(d-1).Bi()}));
c.resolve(g.getPromise())}catch(k){c.reject(new PCCViewer.Error("Error",k))}return e};PCCViewer.ViewerControl.prototype.arq=function(a){var d,c,e;for(c=0;c<this.Yd.length;c++)if(e=this.Yd[c])for(d=0;d<e.length;d++)if(e[d].zY.Nh()===a)return e[d];return null}})();PCCViewer=window.PCCViewer||{};
PCCViewer.Search=function(){this.Ue=[];this.cV={};this.ek=[];this.db=0;this.tS="";this.fW={};this.Gw=[];this.Mn=0;this.eU={};this.Xd=0;this.hb=!1;var a=this;this.apQ=function(b,c){var e=0,f=function(b,d){if(-1===d.error)a.aAu();else try{!1===a.hb&&a.ayo(d.textPagesReceived,d.error,c)}catch(e){a.cV.bZ=e.message,a.cV.lx="1010",a.cV.AQ=!0,setTimeout(function(){a.cV.trigger("SearchFailed",{errorMessage:e.message})},10),setTimeout(function(){a.cV.trigger("SearchCompleted",{completedSearchResults:a.ek})},
10),a.hb=!0}};try{!1===b&&c.add_textPagesReceived(f);a.eU=this.buildSearchObject();for(e;e<c.ef;e++)a.Ue[e]=!1;b&&this.ayE(c)}catch(g){a.cV.bZ=g.message,a.cV.lx="1010",a.cV.AQ=!0,setTimeout(function(){a.cV.trigger("SearchFailed",{errorMessage:g.message})},10),setTimeout(function(){a.cV.trigger("SearchCompleted",{completedSearchResults:a.ek})},10)}};this.aAu=function(){a.cV.bZ="Unable to communicate with server, please retry loading the document.";a.cV.lx="1011";a.cV.AQ=!0;setTimeout(function(){a.cV.trigger("SearchFailed",
{errorMessage:"Unable to communicate with server, please retry loading the document."})},10);setTimeout(function(){a.cV.trigger("SearchCompleted",{completedSearchResults:a.ek})},10);a.hb=!0};this.ayE=function(b){for(var c=0,c=0;c<b.ef;c++){var e=this.afg(b,c);if(e||null===e){if(this.ajB(e,c,b),a.cV.qv)break}else a.Gw[a.Mn]=c,a.Mn++}a.cV.gY=a.ek;a.cV.AQ=!0;a.cV.Sp=a.Gw;setTimeout(function(){a.cV.trigger("SearchResultsAvailable",{completedSearchResults:a.ek})},10);setTimeout(function(){a.cV.trigger("SearchCompleted",
{completedSearchResults:a.ek})},10)};this.ayo=function(b,c,e){for(c=c=0;c<b.length;c++)if(!1===a.Ue[b[c]]){a.Ue[b[c]]=!0;var f=this.afg(e,b[c]);if(f||null===f){if(this.ajB(f,b[c],e),a.cV.qv)break}else a.Gw[a.Mn]=b[c],a.Mn++}e.ef-1!==b[c-1]&&!a.cV.qv||a.cV.AQ||(a.cV.gY=a.ek,a.cV.Sp=a.Gw,a.cV.AQ=!0,setTimeout(function(){a.cV.trigger("SearchResultsAvailable",{completedSearchResults:a.ek})},10),setTimeout(function(){a.cV.trigger("SearchCompleted",{completedSearchResults:a.ek})},10))};this.buildSearchObject=
function(){for(var b=[],c=0,e=0;e<a.fW.searchTerms.length;e++){var f;if(!1===a.fW.searchTerms[e].matchingOptions.exactPhrase&&!1===a.fW.searchTerms[e].searchTermIsRegex)for(var g=a.fW.searchTerms[e].searchTerm.split(" "),k=0;k<g.length;k++)f={},0>g[k].length||(f.searchText=g[k],f.Mq=a.fW.searchTerms[e],f.searchTerm=a.fW.searchTerms[e].matchingOptions.matchWholeWord?this.ami(this.Dg(g[k]),a.fW.searchTerms[e].matchingOptions):!0===a.fW.searchTerms[e].matchingOptions.wildcard?this.ahR(this.Dg(g[k]),
a.fW.searchTerms[e].matchingOptions):!0===a.fW.searchTerms[e].matchingOptions.beginsWith||!0===a.fW.searchTerms[e].matchingOptions.endsWith?this.ajx(this.Dg(g[k]),a.fW.searchTerms[e].matchingOptions):this.adz(g[k],a.fW.searchTerms[e].matchingOptions,!1),f.highlightColor=this.ahs(a.fW.searchTerms[e].highlightColor),b[c]=f,c++);else f={},f.searchText=a.fW.searchTerms[e].searchTerm,f.Mq=a.fW.searchTerms[e],f.searchTerm=a.fW.searchTerms[e].matchingOptions.matchWholeWord?this.ami(this.Dg(a.fW.searchTerms[e].searchTerm),
a.fW.searchTerms[e].matchingOptions):!0===a.fW.searchTerms[e].matchingOptions.wildcard?this.ahR(this.Dg(a.fW.searchTerms[e].searchTerm),a.fW.searchTerms[e].matchingOptions):!0===a.fW.searchTerms[e].matchingOptions.beginsWith||!0===a.fW.searchTerms[e].matchingOptions.endsWith?this.ajx(this.Dg(a.fW.searchTerms[e].searchTerm),a.fW.searchTerms[e].matchingOptions):this.adz(a.fW.searchTerms[e].searchTerm,a.fW.searchTerms[e].matchingOptions,a.fW.searchTerms[e].searchTermIsRegex),f.highlightColor=this.ahs(a.fW.searchTerms[e].highlightColor),
b[c]=f,c++}return b};this.ajB=function(b,c,e){for(var f=!1,g=[],k=0,m=(new Date).getTime(),q=e.ca.kL(c).cA().eO(),n=0;n<a.eU.length;n++)for(var u=a.eU[n].searchTerm,r=u.exec(b),l=a.eU[n].Mq.contextPadding;null!==r;){f=this.ago(b,r,l);a.ek[a.db]=new PCCViewer.SearchResult;a.ek[a.db].cK=a.db;a.ek[a.db].ag=c+1;a.ek[a.db].dj=f.acG;a.ek[a.db].bz=r[0];a.ek[a.db].Bj=f.aV;a.ek[a.db].uz=a.eU[n].highlightColor;a.ek[a.db].Sm=r.index;a.ek[a.db].tS=a.eU[n].Mq;a.ek[a.db].NB=e.get_documentIdentifier();a.ek[a.db].BU=
m;for(var f=Number.MAX_VALUE,C=0,E=Number.MAX_VALUE,w=0,t=r.index+r[0].length,r=r.index;r<t-1;r++){var y=q.le(r);y.ax.x<f&&(f=y.ax.x);y.ax.x+y.ax.width>C&&(C=y.ax.x+y.ax.width);y.ax.y<E&&(E=y.ax.y);y.ax.y+y.ax.height>w&&(w=y.ax.y+y.ax.height)}a.ek[a.db].rj={width:C-f,height:w-E,x:f,y:E};g[k]=a.ek[a.db];a.cV.gY=a.ek;r=u.exec(b);a.db++;k++;f=!0}f&&setTimeout(function(){a.cV.trigger("PartialSearchResultsAvailable",{partialSearchResults:g,pagesWithoutText:a.Gw})},10)};this.ago=function(a,b,e){e=e||0;
var f=Math.max(b.index-e,0);return{aV:0===f?b.index:e,acG:a.substring(f,Math.min(b.index+b[0].length+e,a.length))}};this.afg=function(a,b){return a.ca.kL(b).cA().FU()};this.ami=function(a,b){return new RegExp("\\b"+a+"\\b",this.wS(b.matchCase))};this.ajx=function(a,b){if(b.beginsWith)return new RegExp("\\b"+a+"(\\w+)",this.wS(b.matchCase));if(b.endsWith)return a=a.replace("*",""),new RegExp("(\\w+)"+a+"\\b",this.wS(b.matchCase))};this.Dg=function(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")};
this.ahR=function(a,b){a=a.replace(/[*]{2,}/g,"*").replace(/(\\\*){2,}/g,"\\*");if("\\*"===a)throw b=Error("The search term must contain one or more non-wildcard characters."),b.aCF=!0,b;a=a.replace(/\\\?/g,".");var e=this.RQ(a),f,g;a.substring(0,1);for(var k=0;k<e.length;++k)0<k&&(f=e.substring(k-1,k)),a=e.substring(k,k+1),k<e.length&&(g=e.substring(k+1,k+2)),0===k&&("*"===a&&" "===g||"*"===a&&"*"===g)&&(e=e.substring(2,e.length)),k+1===e.length&&("*"===a&&" "===f||"*"===a&&"*"===f)&&(e=e.substring(0,
e.length-2));e=e.replace(/^\s+|\s+$/g,"");f=e.indexOf("*");e=1===f?e.replace(/\\\*/g,"\\S*")+"\\S*":f===e.length-1?"\\S*"+e.replace(/\\\*/g,"\\S*"):!1===b.exactPhrase?e.replace(/\\\*/g,".*?"):e.replace(/\\\*/g,"\\S*");f=new RegExp(e,this.wS(b.matchCase));"*"!==e.substring(0,1)&&(f=new RegExp("\\b"+e+"\\b",this.wS(b.matchCase)));"*"===e.substring(0,1)&&(f=new RegExp(e+"\\b",this.wS(b.matchCase)));e.substring(0,1);return f};this.RQ=function(a){return a.replace(/\ /g,"\\s+")};this.adz=function(a,b,e){!0===
e?a=this.RQ(a):!0===b.wildcard?(a=a.replace(/[-[\]{}()+,^$|#]/g,"\\$&"),a=this.RQ(a)):b.exactPhrase?(a=a.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),a=this.RQ(a)):a=a.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");return new RegExp(a,this.wS(b.matchCase))};this.wS=function(a){return a?"gm":"igm"};this.aGu=function(b){return new RegExp("\\b"+b+"\\b",a.wS())};var b="#1c86ee #ff8c00 #9932cc #FFBA00 #00c5cd #ee3a8c #4169e1 #00cd00 #6959cd #ff4500".split(" ");this.ahs=function(d){return d?d:b[a.Xd++%b.length]};
this.arf=function(b){try{this.avH(b)}catch(c){a.cV.bZ=c.message,a.cV.lx="1010"}};this.avH=function(b){for(var c=(new Date).getTime(),e=0;e<a.eU.length;e++)for(var f=a.eU[e].searchTerm,g=f.exec(b),k=a.eU[e].Mq.contextPadding;null!==g;){var m=this.ago(b,g,k);a.ek[a.db]=new PCCViewer.SearchTaskResult;a.ek[a.db].cK=a.db;a.ek[a.db].dj=m.acG;a.ek[a.db].bz=g[0];a.ek[a.db].Bj=m.aV;a.ek[a.db].uz=a.eU[e].highlightColor;a.ek[a.db].Tf=g.index;a.ek[a.db].tS=a.eU[e].Mq;a.ek[a.db].BU=c;a.cV.gY=a.ek;g=f.exec(b);
a.db++}};this.ahM=function(a){var b;if("string"===typeof a)return a={searchTerms:[{searchTerm:a,highlightColor:void 0,contextPadding:25,searchTermIsRegex:!1,matchingOptions:{exactPhrase:!0,matchCase:!1,matchWholeWord:!1,beginsWith:!1,endsWith:!1,wildcard:!1}}]};for(var e=0;e<a.searchTerms.length;e++)if(b=a.searchTerms[e],"undefined"===typeof b.contextPadding&&(b.contextPadding=25),"undefined"===typeof b.searchTermIsRegex&&(b.searchTermIsRegex=!1),"undefined"===typeof b.matchingOptions&&(b.matchingOptions=
{}),b.matchingOptions.hasOwnProperty("matchCase")||(b.matchingOptions.matchCase=!1),b.matchingOptions.hasOwnProperty("exactPhrase")||(b.matchingOptions.exactPhrase=!0),b.matchingOptions.hasOwnProperty("matchWholeWord")||(b.matchingOptions.matchWholeWord=!1),b.matchingOptions.hasOwnProperty("beginsWith")||(b.matchingOptions.beginsWith=!1),b.matchingOptions.hasOwnProperty("endsWith")||(b.matchingOptions.endsWith=!1),b.matchingOptions.hasOwnProperty("wildcard")||(b.matchingOptions.wildcard=!1),"undefined"!==
typeof b.highlightColor)try{IPCC.aJ.fk(b.highlightColor,"selectText")}catch(f){b.highlightColor=void 0}return a}};PCCViewer.Search.prototype._search=function(a,b,d){this.eU={};this.cV=new PCCViewer.SearchRequest;this.fW=a;this.ek.length=0;this.cV.hJ=a;this.db=this.Mn=this.Gw.length=0;this.tS=a;this.Xd=0;this.apQ(b,d);return this.cV};PCCViewer.Search.prototype.aAL=function(a){this.eU={};this.cV=new PCCViewer.SearchRequest;this.fW=a;this.ek.length=0;this.cV.hJ=a;this.db=0;this.tS=a;this.Xd=0;return this.cV};
PCCViewer.SearchTask=function(a){this.alK(a);var b=new PCCViewer.Search;a=b.ahM(a);this.cV=b.aAL(a);try{b.eU=b.buildSearchObject()}catch(d){throw Error(d.message);}this.search=function(a){b.ek=[];b.db=0;b.arf(a);return b.ek}};
PCCViewer.SearchTask.prototype.alK=function(a){if("string"!==typeof a){if(a&&a.searchTerms&&"[object Array]"===Object.prototype.toString.call(a.searchTerms))a=a.searchTerms;else throw Error("The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.");IPCC.bg.forEach(a,function(a,d){if("string"!==typeof a.searchTerm)throw Error("Search term index "+d+" does not have a valid `searchTerm` string property.");})}};PCCViewer=window.PCCViewer||{};
PCCViewer.SearchResult=function(){this.aV=this.ag=this.cK=0;this.uz=this.bz="";this.Sm=0;this.dj="";this.Bj=0;this.NB=this.tS="";this.rj=null};PCCViewer.SearchResult.prototype.getId=function(){return this.cK};PCCViewer.SearchResult.prototype.getPageNumber=function(){return this.ag};PCCViewer.SearchResult.prototype.getText=function(){return this.bz};PCCViewer.SearchResult.prototype.getHighlightColor=function(){return this.uz};PCCViewer.SearchResult.prototype.getStartIndexInPage=function(){return this.Sm};
PCCViewer.SearchResult.prototype.getContext=function(){return this.dj};PCCViewer.SearchResult.prototype.getStartIndexInContext=function(){return this.Bj};PCCViewer.SearchResult.prototype.getSearchTerm=function(){return this.tS};PCCViewer.SearchResult.prototype.getBoundingRectangle=function(){return this.rj};
Object.defineProperties&&Object.defineProperties(PCCViewer.SearchResult.prototype,{pageNumber:{enumerable:!0,get:function(){return this.ag}},id:{enumerable:!0,get:function(){return this.cK}},text:{enumerable:!0,get:function(){return this.bz}},highlightColor:{enumerable:!0,get:function(){return this.uz}},startIndexInPage:{enumerable:!0,get:function(){return this.Sm}},context:{enumerable:!0,get:function(){return this.dj}},startIndexInContext:{enumerable:!0,get:function(){return this.Bj}},searchTerm:{enumerable:!0,
get:function(){return this.tS}},boundingRectangle:{enumerable:!0,get:function(){return this.getBoundingRectangle()}}});PCCViewer.SearchTaskResult=function(){this.aV=this.cK=0;this.uz=this.bz="";this.Tf=0;this.dj="";this.Bj=0;this.tS=""};PCCViewer.SearchTaskResult.prototype.getId=function(){return this.cK};PCCViewer.SearchTaskResult.prototype.getText=function(){return this.bz};PCCViewer.SearchTaskResult.prototype.getHighlightColor=function(){return this.uz};
PCCViewer.SearchTaskResult.prototype.getStartIndexInInput=function(){return this.Tf};PCCViewer.SearchTaskResult.prototype.getContext=function(){return this.dj};PCCViewer.SearchTaskResult.prototype.getStartIndexInContext=function(){return this.Bj};PCCViewer.SearchTaskResult.prototype.getSearchTerm=function(){return this.tS};
Object.defineProperties&&Object.defineProperties(PCCViewer.SearchTaskResult.prototype,{id:{enumerable:!0,get:function(){return this.cK}},text:{enumerable:!0,get:function(){return this.bz}},highlightColor:{enumerable:!0,get:function(){return this.uz}},startIndexInInput:{enumerable:!0,get:function(){return this.Tf}},context:{enumerable:!0,get:function(){return this.dj}},startIndexInContext:{enumerable:!0,get:function(){return this.Bj}},searchTerm:{enumerable:!0,get:function(){return this.tS}}});
PCCViewer=window.PCCViewer||{};PCCViewer.SearchRequest=function(){this.ku={};this.hJ={};this.gY=[];this.AQ=!1;this.bZ=this.lx=null;this.Sp=[];PCCViewer.EventEmitter.extend(this)};PCCViewer.SearchRequest.prototype.getSearchQuery=function(){return this.hJ};PCCViewer.SearchRequest.prototype.getResults=function(){return this.gY};PCCViewer.SearchRequest.prototype.getIsComplete=function(){return this.AQ};PCCViewer.SearchRequest.prototype.getErrorCode=function(){return this.lx};
PCCViewer.SearchRequest.prototype.getErrorMessage=function(){return this.bZ};PCCViewer.SearchRequest.prototype.getPagesWithoutText=function(){return this.Sp};PCCViewer.SearchRequest.prototype.cancel=function(){this.qv=!0;this.trigger("SearchCancelled")};
Object.defineProperties&&Object.defineProperties(PCCViewer.SearchRequest.prototype,{searchQuery:{enumerable:!0,get:function(){return this.hJ}},results:{enumerable:!0,get:function(){return this.gY}},isComplete:{enumerable:!0,get:function(){return this.AQ}},errorCode:{enumerable:!0,get:function(){return this.lx}},errorMessage:{enumerable:!0,get:function(){return this.bZ}}});
(function(a){a.BurnRequest=function(b){this.eR=this.qh="";this.mY=0;this.lx=this.pS="";this.vh=0;this.gn=!1;this.tu=0;this.ZZ="";this.qv=!1;this.aS=a.Deferred();this.co=this.aS.getPromise();this.then=this.co.then;this.aI=b;this.lx=null;this.fX=void 0;this.ur=!1;this.NT=null;a.EventEmitter.extend(this)};a.BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};a.BurnRequest.prototype.cancel=
function(){var b=this;this.qv=!0;this.lx="User Cancelled";setTimeout(function(){b.trigger(a.BurnRequest.EventType.BurnCancelled,{});b.trigger(a.BurnRequest.EventType.BurnFailed,{});b.aS.reject(new a.Error("UserCancelled","User Cancelled"))},0);return this};a.BurnRequest.prototype.getProgress=function(){return this.mY};a.BurnRequest.prototype.getWorkerID=function(){return this.qh};a.BurnRequest.prototype.getOptions=function(){return this.aI};a.BurnRequest.prototype.getErrorCode=function(){return this.lx};
a.BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.NT};a.BurnRequest.prototype.aod=function(a){this.ZZ=a};a.BurnRequest.prototype.abf=function(a){this.fX=a};a.BurnRequest.prototype.abt=function(){var b=this;this.lx="Failure to generate Markup XML";setTimeout(function(){b.trigger(a.BurnRequest.EventType.BurnFailed,{});b.aS.reject(new a.Error("MarkupXMLFail",b.lx))},0);return this};a.BurnRequest.prototype.Im=function(){var b=new XMLHttpRequest;try{if(!this.ZZ)throw Error("XMl Markup data for burn is missing");
if(null===b)throw Error("AJAX (XMLHTTP) not supported.");var d=this,c=function(){var a;a=/^[\x00-\x7F]*$/.test(d.fX.bP.get_documentIdentifier())?d.fX.aI.imageHandlerUrl+"/ViewingSession/u"+encodeURIComponent(d.fX.aI.documentID)+"/MarkupBurner/"+d.qh:d.fX.aI.imageHandlerUrl+"/ViewingSession/e"+d.fX.aI.documentID+"/MarkupBurner/"+d.qh;b.open("GET",a,!0);b.setRequestHeader("Content-Type","application/json");b.onreadystatechange=f;b.send()},e=function(b){if(b)if(!0===d.qv)d.gn=!1;else if(0<=b.percentComplete&&
!0===d.gn)if(100===b.percentComplete&&"complete"===b.state){if(b.processId){d.gn=!1;d.qh=b.processId;d.eR=b.state;d.vh+=1;d.tu=1E3;d.mY=+b.percentComplete;var e;e=/^[\x00-\x7F]*$/.test(d.fX.bP.get_documentIdentifier())?d.fX.aI.imageHandlerUrl+"/ViewingSession/u"+encodeURIComponent(d.fX.aI.documentID)+"/MarkupBurner/"+d.qh+"/Document":d.fX.aI.imageHandlerUrl+"/ViewingSession/e"+d.fX.aI.documentID+"/MarkupBurner/"+d.qh+"/Document";d.aI.filename&&(e+="?ContentDispositionFilename="+d.aI.filename);d.NT=
e;d.ur=!0;var f=+b.percentComplete;setTimeout(function(){d.trigger(a.BurnRequest.EventType.BurnCompleted,{});d.trigger(a.BurnRequest.EventType.BurnProgress,{progress:f});d.aS.resolve(e)},10)}}else if("error"===b.state)d.gn=!1,d.lx=b.errorCode,setTimeout(function(){d.trigger(a.BurnRequest.EventType.BurnFailed,{});d.aS.reject(new a.Error("BurnFailError","BurnProcess failed, errorCode: "+d.lx))},0),d.gn=!1,d.ur=!0;else{if(b.processId){var g=+b.percentComplete;d.mY!==g&&setTimeout(function(){d.trigger(a.BurnRequest.EventType.BurnProgress,
{progress:g})},10);d.qh||(d.qh=b.processId,setTimeout(function(){d.trigger(a.BurnRequest.EventType.BurnWorkerCreated,{})},0),d.eR=b.state,d.vh=1,d.gn=!0,d.tu=1E3,d.mY=+b.percentComplete);100>b.percentComplete&&(1<d.vh&&(d.tu+=1E3),d.vh+=1,d.eR=b.state,d.mY=+b.percentComplete,!0===d.gn&&!1===d.qv&&!1===d.ur&&setTimeout(c,d.tu))}}else if(!1===d.ur){var k=!1;if(!1===d.gn){if("complete"===b.state){if(d.NT){d.ur=!0;setTimeout(function(){d.trigger(a.BurnRequest.EventType.BurnCompleted,{});d.aS.resolve(d.NT)},
10);return}k=!0}"processing"===b.state&&null===b.errorCode&&(0<=b.percentComplete&&100>b.percentComplete?(1<d.vh&&(d.tu+=1E3),d.vh+=1,d.gn=!0,d.eR=b.state,d.mY=+b.percentComplete,!0===d.gn&&!1===d.qv&&setTimeout(c,d.tu)):k=!0);if("error"===b.state||!0===k)d.gn=!1,d.lx=b.errorCode,setTimeout(function(){d.trigger(a.BurnRequest.EventType.BurnFailed,{});d.aS.reject(new a.Error("BurnFailError","BurnProcess failed, errorCode: "+b.errorCode))},0),d.gn=!1,d.ur=!0}}},f=function(){var c,f;if(4===b.readyState)if(200===
b.status)try{(c=b.responseText)?(f="undefined"!==typeof JSON?JSON.parse(c):IPCC.bY.pk(c),setTimeout(function(){e(f)},0)):(setTimeout(function(){d.trigger(a.BurnRequest.EventType.BurnFailed,{});d.aS.reject(new a.Error("ResponseEmpty","Empty/invalid response from the server"))},0),d.ur=!0)}catch(g){setTimeout(function(){d.trigger(a.BurnRequest.EventType.BurnFailed,{});d.aS.reject(new a.Error("BurnFailErrorCode","Burn process failed, error: "+g.message))},0),d.ur=!0}else{d.gn=!1;var k=b.status+" "+b.statusText;
setTimeout(function(){d.trigger(a.BurnRequest.EventType.BurnFailed,{});d.aS.reject(new a.Error("StatusCode","Status Code "+k))},0);d.ur=!0}},g;g=/^[\x00-\x7F]*$/.test(d.fX.bP.get_documentIdentifier())?d.fX.aI.imageHandlerUrl+"/ViewingSession/u"+encodeURIComponent(d.fX.aI.documentID)+"/MarkupBurner":d.fX.aI.imageHandlerUrl+"/ViewingSession/e"+d.fX.aI.documentID+"/MarkupBurner";b.open("POST",g,!0);b.setRequestHeader("Content-Type","application/xml");b.onreadystatechange=f;d.gn=!0;b.send(d.ZZ)}catch(q){this.gn=
!1;var k=this,m=q.message;setTimeout(function(){k.trigger(a.BurnRequest.EventType.BurnFailed,{});k.aS.reject(new a.Error("BurnFailErrorCode","The burn process failed, error: "+m))},0);this.ur=!0}};Object.defineProperties&&Object.defineProperties(a.BurnRequest.prototype,{options:{enumerable:!0,get:function(){return this.getOptions()}},progress:{enumerable:!0,get:function(){return this.getProgress()}},workerID:{enumerable:!0,get:function(){return this.getWorkerID()}},errorCode:{enumerable:!0,get:function(){return this.getErrorCode()}},
burnedDocumentDownloadURL:{enumerable:!0,get:function(){return this.getBurnedDocumentDownloadURL()}}})})(PCCViewer||{});
(function(a){a.ConversionRequest=function(b){this.eR=this.qh="";this.mY=0;this.lx="";this.qv=this.gn=!1;this.aI=b;this.Qz=null;this.fX=void 0;this.aS=a.Deferred();this.co=this.aS.getPromise();this.then=this.co.then;a.EventEmitter.extend(this)};a.ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};a.ConversionRequest.prototype.cancel=
function(){var b=this;this.qv=!0;this.lx="User Cancelled";setTimeout(function(){b.trigger(a.ConversionRequest.EventType.ConversionCancelled,{});b.trigger(a.ConversionRequest.EventType.ConversionFailed,{});b.aS.reject(new a.Error("UserCancelled","User Cancelled"))},0);return this};a.ConversionRequest.prototype.getProgress=function(){return this.mY};a.ConversionRequest.prototype.getWorkerID=function(){return this.qh};a.ConversionRequest.prototype.getOptions=function(){return this.aI};a.ConversionRequest.prototype.getErrorCode=
function(){return this.lx};a.ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.Qz};a.ConversionRequest.prototype.abf=function(a){this.fX=a};a.ConversionRequest.prototype.Im=function(){var b=this;b.gn=!0;b.aCa().then(function(d){b.qh=d.processId;b.mY=d.percentComplete;b.eR=d.state;b.trigger(a.ConversionRequest.EventType.ConversionWorkerCreated,{});b.axw(d).then(function(c){b.gn=!1;b.Qz=b.fX.aI.imageHandlerUrl+"/WorkFile/"+c+"?ContentDispositionFilename="+encodeURIComponent(b.aI.filename);
d.affinityToken&&(b.Qz+="&affinityToken="+encodeURIComponent(d.affinityToken));b.aS.resolve(b.Qz);b.trigger(a.ConversionRequest.EventType.ConversionCompleted,{})},function(c){b.gn=!1;b.aS.reject(c);b.trigger(a.ConversionRequest.EventType.ConversionFailed,{})})},function(d){b.gn=!1;b.aS.reject(d);b.trigger(a.ConversionRequest.EventType.ConversionFailed,{})})};a.ConversionRequest.prototype.aCa=function(){var b=a.Deferred();IPCC.bg.Jc({url:this.fX.aI.imageHandlerUrl+"/contentConverters/",method:"POST",
headers:{"Content-Type":"application/x-www-form-urlencoded"},dataType:"json",body:{viewingSessionId:this.fX.aI.documentID}}).then(function(a){a=JSON.parse(a);b.resolve(a)},function(a){b.reject(a)});return b.getPromise()};a.ConversionRequest.prototype.axw=function(b){var d=this.fX.aI.imageHandlerUrl+"/contentConverters/"+b.processId,c=a.Deferred(),e=this;if(b.affinityToken)var f={"Accusoft-Affinity-Token":b.affinityToken};(function k(){setTimeout(function(){IPCC.bg.Jc({url:d,headers:f}).then(function(b){b=
JSON.parse(b);e.qh=b.processId;e.mY=b.percentComplete;e.eR=b.state;e.trigger(a.ConversionRequest.EventType.ConversionProgress,{progress:e.mY});100===b.percentComplete?c.resolve(b.output.results[0].fileId):k()},function(a){c.reject(a)})},3E3)})();return c.getPromise()};Object.defineProperties&&Object.defineProperties(a.ConversionRequest.prototype,{options:{enumerable:!0,get:function(){return this.getOptions()}},progress:{enumerable:!0,get:function(){return this.getProgress()}},workerID:{enumerable:!0,
get:function(){return this.getWorkerID()}},errorCode:{enumerable:!0,get:function(){return this.getErrorCode()}},convertedDocumentDownloadURL:{enumerable:!0,get:function(){return this.getConvertedDocumentDownloadURL()}}})})(PCCViewer||{});
(function(a){var b=function(){};a.ThumbnailControl=function(b,c){if(!b||!IPCC.bg.vY(b))throw Error('The "domElement" parameter is not a valid HTML Element');if(!(c&&c instanceof a.ViewerControl))throw Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');var e=this;this.iF=0;this.aI=c.aI;this._debug=!!this.aI.debug;this.Nk="Single";this.JQ=[];this.sT={};if(this.dC)throw Error("This instance of thumbnail already is attached to a ViewerControl.");this.dC=c;a.EventEmitter.extend(this);
this.ac=b;c.ra?(e.iF=2,e.TW(c.getPageCount()),e.aba(e.ac)):(e.iF=1,e.TW(1,0),c.on("PageCountReady",function(){e.TW(c.getPageCount(),1);e.aba(e.ac)}));c.on("PageRotated",function(a){IPCC.bg.forEach(e.sT,function(b){b.ba===a.pageNumber-1&&!0===b.AR&&e.abE(b)})});c.on("DocumentRotated",function(a){IPCC.bg.forEach(e.sT,function(a){!0===a.AR&&e.abE(a)})})};a.ThumbnailControl.prototype.getViewerControl=function(){return this.dC};a.ThumbnailControl.prototype.TW=function(a,b){b=b||0;for(var e=this,f=document.createDocumentFragment();b<
a;b++){var g=document.createElement("div");g.className="pccThumbnailWrapper";var k=document.createElement("div");k.className="pccThumbnail";var m=document.createElement("div");m.className="pccThumbnailView";m.id="pcc-thumbnailPage-"+b+"-"+IPCC.Ez();k.appendChild(m);g.appendChild(k);f.appendChild(g);e.sT[b]={TC:g,al:k,sO:m,ba:b,aa:{},AR:!1,kl:0,kp:0,cL:0}}IPCC.bg.forEach(e.sT,function(a){var b=document.createElement("div"),c=document.createElement("span"),d=document.createTextNode(a.ba+1);b.className=
"pccThumbnailLabel";c.appendChild(d);b.appendChild(c);a.al.appendChild(b);a.al.onclick=function(){e.aiQ([a.ba+1])}});e.ac.appendChild(f);this.SP();return this};a.ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};a.ThumbnailControl.prototype.getSelectedPages=function(){return this.iF?[].concat(this.JQ):[]};a.ThumbnailControl.prototype.setSelectedPages=function(a){if(!this.iF)return this;var b=this.dC.getPageCount();if("number"===typeof a)a=[a];else if("[object Array]"!==Object.prototype.toString.call(a))throw Error(a+
" is not a number or an array of numbers");IPCC.bg.forEach(a,function(a,d){if(isNaN(a))throw Error(a+" (array index "+d+") is not a number");if(1>a||a>b)throw Error(a+" (array index "+d+") is out of range");});this.aiQ([].concat(a).sort());return this};Object.defineProperties&&Object.defineProperties(a.ThumbnailControl.prototype,{selectedPages:{enumerable:!0,get:function(){return this.getSelectedPages()},set:function(a){return this.setSelectedPages(a)}},viewerControl:{enumerable:!0,get:function(){return this.getViewerControl()}},
visiblePages:{emunerable:!0,get:function(){return this.getVisiblePages()}}});a.ThumbnailControl.prototype.scrollTo=function(a,b){var e=Number(a);if(e!==(e|0)||1>e||e>this.dC.getPageCount())throw Error(a+" is not a valid page number");var f=!1,g=this,k=b||{};IPCC.bg.forEach(this.sT,function(a){f||a.ba+1!==e||(f=!0,g.Yg(a,void 0,!!k.forceAlignTop))});return this};a.ThumbnailControl.prototype.Yg=function(a,b,e){b=b||IPCC.bg.SS(this.ac.getBoundingClientRect());var f=IPCC.bg.SS(a.TC.getBoundingClientRect());
if(!(f.top>b.top&&f.bottom<b.bottom)){a=window.getComputedStyle?getComputedStyle(a.TC):a.TC.currentStyle;var g;f.top<b.top||e?g=f.top-b.top+this.ac.scrollTop-parseInt(a.marginTop,10):f.bottom>b.bottom&&(g=f.bottom-b.top-b.height+this.ac.scrollTop+parseInt(a.marginBottom,10));void 0!==g&&(this.ac.scrollTop=g);return this}};a.ThumbnailControl.prototype.aiQ=function(b){if(IPCC.bg.avM(this.JQ,b))return this;var c=/pcc-thumbnail-selected/,e=!1,f=[].concat(b),g=f.shift(),k=!1,m=IPCC.bg.SS(this.ac.getBoundingClientRect()),
q=this;IPCC.bg.forEach(this.sT,function(a){a.ba===g-1?(IPCC.bg.acD(a.al,"pcc-thumbnail-selected"),e=!0,g=f.shift()||0,k||(k=!0,q.Yg(a,m))):c.test(a.al.className)&&(IPCC.bg.ahW(a.al,"pcc-thumbnail-selected"),e=!0)});this.JQ=b;e&&this.trigger(a.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.JQ)});return this};a.ThumbnailControl.prototype.asj=function(){var a=this.NV(),b=this,e;IPCC.bg.forEach(a,function(a){!e&&IPCC.bg.inArray(b.JQ,a.ba+1)&&(e=a)});e||(e=a[0]);return e};
a.ThumbnailControl.prototype.reflow=function(){if(!this.iF)return this;var a,b,e,f,g,k,m,q=this.asj();IPCC.bg.forEach(this.sT,function(a){a.AR&&(a.al.style.height=a.sO.style.height="",a.al.style.width=a.sO.style.width="")});IPCC.bg.forEach(this.sT,function(n){if(n.AR){a=n.al.offsetWidth;b=n.al.offsetHeight;m=n.aa.asZ();90===Math.abs(m)||270===Math.abs(m)?(f=n.aa.mw(),e=n.aa.mr()):(e=n.aa.mw(),f=n.aa.mr());g=e/f;k=a/b;var q,r;g<k?(r=b,q=Math.floor(r*e/f)):(q=a,r=Math.floor(q*f/e));n.kl=q;n.kp=r}});
IPCC.bg.forEach(this.sT,function(a){a.AR&&a.aa&&(a.sO.style.height=a.kp+"px",a.sO.style.width=a.kl+"px",a.aa.Vo(IPCC.Web.UI.FitType.FullImage),a.aa.dR())});q&&this.Yg(q);this.SP();return this};a.ThumbnailControl.prototype.destroy=function(){if(!this.iF)return this;this.iF=0;for(IPCC.bg.forEach(this.sT,function(a){a.aa&&a.aa.dispose&&a.aa.dispose()});this.ac.firstChild;)this.ac.removeChild(this.ac.firstChild);this.on=this.off=this.trigger=b;this.ku={}};a.ThumbnailControl.prototype.getVisiblePages=
function(){if(!this.iF)return[];var a=this.NV();return IPCC.bg.map(a,function(a){return a.ba+1})};a.ThumbnailControl.prototype.NV=function(){var a=this.ac.getBoundingClientRect(),b;return IPCC.bg.filter(this.sT,function(e){b=e.al.getBoundingClientRect();return!(b.top>=a.bottom||b.left>=a.right||b.bottom<=a.top||b.right<=a.left)})};a.ThumbnailControl.prototype.SP=function(){var a=this,b=a.NV();IPCC.bg.forEach(b,function(b){b.AR||(b.aa=a.kL(b),b.AR=!0)});return this};a.ThumbnailControl.prototype.aba=
function(a){function b(a,c,d){e[a]&&(clearTimeout(e[a]),e[a]=void 0);e[a]=setTimeout(c,d||0)}var e={},f=this;IPCC.Web.UI.aE.addHandler(a,"scroll",function(a){b("scroll",function(){f.SP()},300)})};a.ThumbnailControl.prototype.kL=function(a,c){var e=this;c=c||b;var f={documentIdentifier:e.aI.documentID,pageNumber:a.ba,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:e.aI.imageHandlerUrl,encryption:e.aI.encryption,handleTouchEvents:!1},g=IPCC.initializePageViewPlugin(a.sO,f);g.set_debug(e._debug);
g.set_mouseTool(IPCC.Web.UI.MouseTool.None);var k=!1;g.add_pageOpened(function(){e.abE(a)});g.add_pageDisplayed(function(){k||c()});g.add_textPageReady(function(){k&&(g.dR(),c())});g.add_pageOpenFailed(function(){});g.add_textExtractionFailed(function(){});f.artPage=e.dC.ai.ho(e.dC.dz.getPage(a.ba));f.artPage.Gy(function(a){608===a.get_type()&&(k=!0)});g.ayn(f);g.set_mouseTool(IPCC.Web.UI.MouseTool.None);return g};a.ThumbnailControl.prototype.abE=function(a){var b=this.dC.ai.Um(a.ba),e=a.cL,f=e;b!==
a.cL&&(f=b-e);var g=a.aa,e=a.sO,k,m;e.style.height="";e.style.width="";90===Math.abs(b)||270===Math.abs(b)?(k=g.mw(),m=g.mr()):(k=g.mr(),m=g.mw());var q=e.offsetWidth,n=e.offsetHeight;a.cL!==b&&(g.rotate(f),a.cL=b);m/k<q/n?(b=n,a=Math.floor(b*m/k)):(a=q,b=Math.floor(a*k/m));e.style.height=b+"px";e.style.width=a+"px"}})(PCCViewer||{});
(function(a){a.eV={copyRectangle:function(a){return{x:a.x,y:a.y,width:a.width,height:a.height}},Common:function(b,d){function c(a){return{x:a.x,y:a.y}}function e(){var c=IPCC.bg.map([].concat(b.mark.H,b.mark.cP),function(b){return null!==k?{pageNumber:b.ba+1,pageData:{width:k,height:g},startIndex:b.get_startIndex(),textLength:b.get_textLength(),lines:IPCC.bg.map(b.bj,function(b){return b.get_rectangle?a.eV.copyRectangle(b.get_rectangle()):a.eV.copyRectangle(b)})}:{pageNumber:b.ba+1,startIndex:b.get_startIndex(),
textLength:b.get_textLength(),lines:IPCC.bg.map(b.bj,function(b){return b.get_rectangle?a.eV.copyRectangle(b.get_rectangle()):a.eV.copyRectangle(b)})}});q.lineGroups=c}function f(){b.mark.getRectangle&&(q.rectangle=a.eV.copyRectangle(b.mark.getRectangle()),null!==k&&(q.pageData={width:k,height:g}));b.mark.getStartPoint&&(q.startPoint=c(b.mark.getStartPoint()),null!==k&&(q.pageData=q.pageData||{width:k,height:g}));b.mark.getEndPoint&&(q.endPoint=c(b.mark.getEndPoint()),null!==k&&(q.pageData=q.pageData||
{width:k,height:g}));if(b.mark.getPoints){var d=b.mark.getPoints();q.points=IPCC.bg.map(d,c);null!==k&&(q.pageData={width:k,height:g})}b.mark.H.bj&&e()}var g,k;b.page?(g=b.page.get_pageHeight(),k=b.page.get_pageWidth()):k=g=null;var m=b.mark.getPageNumber(),q={uid:b.mark.getUid(),interactionMode:b.mark.getInteractionMode(),pageNumber:m,type:b.mark.getType(),creationDateTime:IPCC.bg.yk(b.mark.H.adV()),modificationDateTime:IPCC.bg.yk(b.mark.H.aeO()),data:a.eV.Data(b.mark),conversation:a.eV.Conversation(b.mark.getConversation())};
void 0!==k&&void 0!==g&&0!==k&&0!==g?(f(),d(void 0,q)):b.vc.requestPageAttributes(m).then(function(a){g=a.height;k=a.width;f();d(void 0,q)},function(a){d(a)})},Data:function(a){return IPCC.bg.reduce(a.getDataKeys(),function(d,c){d[c]=a.getData(c);return d},{})},Comment:function(b){return{text:b.getText(),data:a.eV.Data(b),creationDateTime:IPCC.bg.yk(b.getCreationTime())}},Conversation:function(b){return{comments:IPCC.bg.map(b.getComments(),function(b){return a.eV.Comment(b)}),data:a.eV.Data(b)}},
EllipseAnnotation:function(b,d){a.eV.RectangleAnnotation(b,d)},FreehandAnnotation:function(b,d){a.eV.Common(b,function(a,e){a?d(a):(e=IPCC.bg.extend(e,{color:b.mark.getColor(),opacity:b.mark.getOpacity(),path:b.mark.getPath(),thickness:b.mark.getThickness()}),d(void 0,e))})},FreehandSignature:function(b,d){a.eV.Common(b,function(a,e){a?d(a):(e=IPCC.bg.extend(e,{color:b.mark.getColor(),path:b.mark.getPath(),thickness:b.mark.getThickness()}),d(void 0,e))})},HighlightAnnotation:function(b,d){a.eV.Common(b,
function(a,e){a?d(a):(a=b.mark.getPosition(),e=IPCC.bg.extend(e,{fillColor:b.mark.getFillColor(),textLength:a.length,startIndex:a.startIndex,selectedText:b.mark.getText()}),d(void 0,e))})},ImageStampAnnotation:function(b,d){a.eV.Common(b,function(a,e){a?d(a):(a=b.mark.getImage(),e=IPCC.bg.extend(e,{imageDataUrl:a.dataUrl,imageId:a.id}),d(void 0,e))})},ImageStampRedaction:function(b,d){a.eV.ImageStampAnnotation(b,d)},LineAnnotation:function(b,d){a.eV.Common(b,function(a,e){a?d(a):(e=IPCC.bg.extend(e,
{color:b.mark.getColor(),endHeadType:b.mark.getEndHeadType(),opacity:b.mark.getOpacity(),thickness:b.mark.getThickness()}),d(void 0,e))})},PolylineAnnotation:function(b,d){a.eV.Common(b,function(a,e){a?d(a):(e=IPCC.bg.extend(e,{color:b.mark.getColor(),opacity:b.mark.getOpacity(),thickness:b.mark.getThickness()}),d(void 0,e))})},RectangleAnnotation:function(b,d){a.eV.Common(b,function(a,e){a?d(a):(e=IPCC.bg.extend(e,{borderColor:b.mark.getBorderColor(),borderThickness:b.mark.getBorderThickness(),fillColor:b.mark.getFillColor(),
opacity:b.mark.getOpacity()}),d(void 0,e))})},RectangleRedaction:function(b,d){a.eV.Common(b,function(a,e){a?d(a):(e=IPCC.bg.extend(e,{reason:b.mark.getReason(),fillColor:b.mark.getFillColor(),borderColor:b.mark.getBorderColor(),borderThickness:b.mark.getBorderThickness(),fontColor:b.mark.getFontColor()}),d(void 0,e))})},StampAnnotation:function(b,d){a.eV.Common(b,function(a,e){a?d(a):(e=IPCC.bg.extend(e,{label:b.mark.getLabel(),color:b.mark.getColor()}),d(void 0,e))})},StampRedaction:function(b,
d){a.eV.Common(b,function(a,e){a?d(a):(e=IPCC.bg.extend(e,{label:b.mark.getLabel()}),d(void 0,e))})},StrikethroughAnnotation:function(b,d){a.eV.Common(b,function(a,e){a?d(a):(a=b.mark.getPosition(),e=IPCC.bg.extend(e,{color:b.mark.getColor(),thickness:b.mark.getThickness(),textLength:a.length,startIndex:a.startIndex,selectedText:b.mark.getText()}),d(void 0,e))})},TextAnnotation:function(b,d){a.eV.Common(b,function(a,e){a?d(a):(e=IPCC.bg.extend(e,{borderColor:b.mark.getBorderColor(),borderThickness:b.mark.getBorderThickness(),
fillColor:b.mark.getFillColor(),fontColor:b.mark.getFontColor(),fontName:b.mark.getFontName(),fontSize:b.mark.getFontSize(),fontStyle:b.mark.getFontStyle(),horizontalAlignment:b.mark.getHorizontalAlignment(),opacity:b.mark.getOpacity(),text:b.mark.getText()}),d(void 0,e))})},TextHyperlinkAnnotation:function(b,d){a.eV.Common(b,function(a,e){a?d(a):(a=b.mark.getPosition(),e=IPCC.bg.extend(e,{href:b.mark.getHref(),fillColor:b.mark.getFillColor(),textLength:a.length,startIndex:a.startIndex,selectedText:b.mark.getText()}),
d(void 0,e))})},TextInputSignature:function(b,d){a.eV.Common(b,function(a,e){a?d(a):(e=IPCC.bg.extend(e,{fontColor:b.mark.getFontColor(),fontName:b.mark.getFontName(),text:b.mark.getText()}),d(void 0,e))})},TextRedaction:function(b,d){a.eV.Common(b,function(a,e){a?d(a):(e=IPCC.bg.extend(e,{fontColor:b.mark.getFontColor(),fontName:b.mark.getFontName(),fontSize:b.mark.getFontSize(),text:b.mark.getText()}),d(void 0,e))})},TextSelectionRedaction:function(b,d){a.eV.Common(b,function(a,e){a?d(a):(a=b.mark.getPosition(),
e=IPCC.bg.extend(e,{reason:b.mark.getReason(),textLength:a.length,startIndex:a.startIndex,selectedText:b.mark.getText()}),d(void 0,e))})},TextSignature:function(b,d){a.eV.Common(b,function(a,e){a?d(a):(e=IPCC.bg.extend(e,{color:b.mark.getColor(),fontName:b.mark.getFontName(),text:b.mark.getText()}),d(void 0,e))})},TransparentRectangleRedaction:function(b,d){a.eV.Common(b,d)}};a.ViewerControl.prototype.serializeMarks=function(b){function d(a){setTimeout(function(){e.reject(a)},0)}function c(b,c,d){return function(f){a.eV[b.getType()]({mark:b,
page:c,vc:g},function(a,b){a?e.reject(a):(d(b),f())})}}var e=a.Deferred(),f=e.getPromise(),g=this;if("[object Array]"!==Object.prototype.toString.call(b))if(b)b=[b];else return d(new a.Error("InvalidArgument","`marks` is not defined or falsy.")),f;var k;b=IPCC.bg.filter(b,function(b,c){(b=b instanceof a.Mark&&b===g.getMarkById(b.getId())&&!!a.eV[b.getType()])||k||(k=c);return b});if(k)return d(new a.Error("InvalidArgument","Cannot serialize object at index "+k+" because it is not a valid mark or a mark known to ViewerControl")),
f;var m=g.bP.get_pages(),q=IPCC.bg.reduce(b,function(a,b){b=b.getPageNumber();if(a[b])return a;a[b]=m.getPage(b-1);return a},{}),n=[];b=IPCC.bg.map(b,function(a,b){return c(a,q[a.getPageNumber()],function(a){n[b]=a})});IPCC.bg.abk(b,function(){e.resolve(n)});return f}})(PCCViewer||{});
(function(a){a.cU={calculateRectangle:function(a,d){return void 0===a.pageData||a.pageData.width===d.ap&&a.pageData.height===d.ah?a.rectangle:{x:a.rectangle.x*d.ap/a.pageData.width,y:a.rectangle.y*d.ah/a.pageData.height,width:a.rectangle.width*d.ap/a.pageData.width,height:a.rectangle.height*d.ah/a.pageData.height}},setRectangle:function(b,d,c){b.setRectangle(a.cU.calculateRectangle(d,c))},setLines:function(b,d,c){var e,f=d.textLength+d.startIndex-1,g=d.selectedText,k={startIndex:d.startIndex,length:d.textLength};
e=[];var m,q;d=IPCC.bg.reduce(d.lineGroups,function(b,d){m=d.pageNumber-1;b[m]=IPCC.bg.map(d.lines,function(b){return void 0!==d.pageData?(q=a.cU.calculateRectangle({rectangle:b,pageData:d.pageData},c),new IPCC.Web.UI.Rectangle(q.x,q.y,q.width,q.height)):new IPCC.Web.UI.Rectangle(b.x,b.y,b.width,b.height)});e.push({pageIndex:m,endIndex:d.startIndex+d.textLength-1});return b},{});b.Jm(e,f,g,k,d)},postCreate:function(a,d){a.H.act(new Date(IPCC.bg.IR(d.creationDateTime)));a.H.Wo(new Date(IPCC.bg.IR(d.modificationDateTime)));
return a},calculatePoint:function(a,d,c){return void 0===d||d.width===c.ap&&d.height===c.ah?a:{x:a.x*c.ap/d.width,y:a.y*c.ah/d.height}},Data:function(a,d){IPCC.bg.forEach(d,function(c,d){a.setData(d,c)})},Comment:function(b,d){b=b.addComment(d.text);b.setCreationTime(d.creationDateTime);a.cU.Data(b,d.data)},Conversation:function(b,d){var c=b.getConversation();IPCC.bg.forEach(d.comments?d.comments:[],function(b){a.cU.Comment(c,b)});a.cU.Data(c,d.data)},Common:function(b,d){void 0===b.uid&&(b.uid=IPCC.bg.ahn());
var c=this.amN(b.pageNumber,b.type,{uid:b.uid});b.rectangle&&c.setRectangle&&a.cU.setRectangle(c,b,d);b.startPoint&&c.setStartPoint&&c.setStartPoint(a.cU.calculatePoint(b.startPoint,b.pageData,d));b.endPoint&&c.setEndPoint&&c.setEndPoint(a.cU.calculatePoint(b.endPoint,b.pageData,d));b.points&&c.setPoints&&c.setPoints(IPCC.bg.map(b.points,function(c){return a.cU.calculatePoint(c,b.pageData,d)}));b.lineGroups&&c.Jm&&(c.bx=b.uid,a.cU.setLines(c,b,d));b.interactionMode&&c.setInteractionMode(b.interactionMode);
a.cU.Data(c,b.data);a.cU.Conversation(c,b.conversation);return c},EllipseAnnotation:function(b,d){var c=a.cU.Common.apply(this,arguments);b.borderColor&&c.setBorderColor(b.borderColor);b.borderThickness&&c.setBorderThickness(b.borderThickness);b.fillColor&&c.setFillColor(b.fillColor);b.opacity&&c.setOpacity(b.opacity);return a.cU.postCreate(c,b)},FreehandAnnotation:function(b,d){var c=a.cU.Common.apply(this,arguments);b.color&&c.setColor(b.color);b.opacity&&c.setOpacity(b.opacity);b.path&&c.setPath(b.path);
b.thickness&&c.setThickness(b.thickness);return a.cU.postCreate(c,b)},FreehandSignature:function(b,d){var c=a.cU.Common.apply(this,arguments);b.color&&c.setColor(b.color);b.path&&c.setPath(b.path);b.thickness&&c.setThickness(b.thickness);return a.cU.postCreate(c,b)},HighlightAnnotation:function(b,d){var c=a.cU.Common.apply(this,arguments);b.fillColor&&c.setFillColor(b.fillColor);return a.cU.postCreate(c,b)},ImageStampAnnotation:function(b,d){var c=a.cU.Common.apply(this,arguments);b.imageDataUrl&&
b.imageId&&c.setImage({id:b.imageId,dataUrl:b.imageDataUrl});return a.cU.postCreate(c,b)},ImageStampRedaction:function(b,d){return a.cU.ImageStampAnnotation.apply(this,arguments)},LineAnnotation:function(b,d){var c=a.cU.Common.apply(this,arguments);b.color&&c.setColor(b.color);b.endHeadType&&c.setEndHeadType(b.endHeadType);b.opacity&&c.setOpacity(b.opacity);b.thickness&&c.setThickness(b.thickness);return a.cU.postCreate(c,b)},PolylineAnnotation:function(b,d){var c=a.cU.Common.apply(this,arguments);
b.color&&c.setColor(b.color);b.opacity&&c.setOpacity(b.opacity);b.thickness&&c.setThickness(b.thickness);return a.cU.postCreate(c,b)},RectangleAnnotation:function(b,d){var c=a.cU.Common.apply(this,arguments);b.borderColor&&c.setBorderColor(b.borderColor);b.borderThickness&&c.setBorderThickness(b.borderThickness);b.fillColor&&c.setFillColor(b.fillColor);b.opacity&&c.setOpacity(b.opacity);return a.cU.postCreate(c,b)},RectangleRedaction:function(b,d){var c=a.cU.Common.apply(this,arguments);b.reason&&
c.setReason(b.reason);b.fillColor&&c.setFillColor(b.fillColor);b.borderColor&&c.setBorderColor(b.borderColor);b.borderThickness&&c.setBorderThickness(b.borderThickness);b.fontColor&&c.setFontColor(b.fontColor);return a.cU.postCreate(c,b)},StampAnnotation:function(b,d){var c=a.cU.Common.apply(this,arguments);b.label&&c.setLabel(b.label);b.color&&c.setColor(b.color);return a.cU.postCreate(c,b)},StampRedaction:function(b,d){var c=a.cU.Common.apply(this,arguments);b.label&&c.setLabel(b.label);return a.cU.postCreate(c,
b)},StrikethroughAnnotation:function(b,d){var c=a.cU.Common.apply(this,arguments);b.color&&c.setColor(b.color);b.thickness&&c.setThickness(b.thickness);return a.cU.postCreate(c,b)},TextAnnotation:function(b,d){var c=a.cU.Common.apply(this,arguments);b.borderColor&&c.setBorderColor(b.borderColor);b.borderThickness&&c.setBorderThickness(b.borderThickness);b.fillColor&&c.setFillColor(b.fillColor);b.fontColor&&c.setFontColor(b.fontColor);b.fontName&&c.setFontName(b.fontName);b.fontSize&&c.setFontSize(b.fontSize);
b.fontStyle&&c.setFontStyle(b.fontStyle);b.horizontalAlignment&&c.setHorizontalAlignment(b.horizontalAlignment);b.opacity&&c.setOpacity(b.opacity);b.text&&c.setText(b.text);return a.cU.postCreate(c,b)},TextHyperlinkAnnotation:function(b,d){var c=a.cU.Common.apply(this,arguments);b.fillColor&&c.setFillColor(b.fillColor);b.href&&c.setHref(b.href);return a.cU.postCreate(c,b)},TextInputSignature:function(b,d){var c=a.cU.Common.apply(this,arguments);b.fontColor&&c.setFontColor(b.fontColor);b.fontName&&
c.setFontName(b.fontName);b.text&&c.setText(b.text);return a.cU.postCreate(c,b)},TextRedaction:function(b,d){var c=a.cU.Common.apply(this,arguments);b.fontColor&&c.setFontColor(b.fontColor);b.fontName&&c.setFontName(b.fontName);b.fontSize&&c.setFontSize(b.fontSize);b.text&&c.setText(b.text);return a.cU.postCreate(c,b)},TextSelectionRedaction:function(b,d){var c=a.cU.Common.apply(this,arguments);b.reason&&c.setReason(b.reason);return a.cU.postCreate(c,b)},TextSignature:function(b,d){var c=a.cU.Common.apply(this,
arguments);b.color&&c.setColor(b.color);b.fontName&&c.setFontName(b.fontName);b.text&&c.setText(b.text);return a.cU.postCreate(c,b)},TransparentRectangleRedaction:function(b,d){var c=a.cU.Common.apply(this,arguments);return a.cU.postCreate(c,b)}};a.ViewerControl.prototype.deserializeMarks=function(b){function d(a,b){throw Error("Cannot serialize mark (at index "+b+") because of "+a);}if(!1===this.ft)throw Error("The method addMark is not available until 'ViewerReady' state is reached.");var c=this,
e=c.getPageCount(),f;if("string"===typeof b)try{f=JSON.parse(b)}catch(u){throw Error("JSON parse error: "+u.message);}else f=b;f.constructor!==Array&&(f=[f]);var g=IPCC.bg.map(c.getAllMarks(),function(a){return a.getUid()});IPCC.bg.forEach(f,function(b,c){(!b.pageNumber||isNaN(+b.pageNumber)||1>b.pageNumber||b.pageNumber>e)&&d("unknown page number "+b.pageNumber,c);a.Mark.Type[b.type]||d("unknown type "+b.type,c);IPCC.bg.contains(g,b.uid)?d("uid "+b.uid+" is being duplicated or already exists",c):
void 0!==b.uid&&g.push(b.uid)});if(0===f.length)return[];var k=c.bP.get_pages();b=k.kL(0);var m=b.get_pageWidth(),q=b.get_pageHeight(),n=[];k.mf(function(a){n.push(c.ai.ho(a))});return IPCC.bg.map(f,function(b){var d=a.cU[b.type].call(c,b,{ap:m,ah:q});void 0===b.uid&&g.push(d.getUid());k.kL(b.pageNumber-1).Bp=!0;return d})}})(PCCViewer||{});
(function(a){a.LoadMarkupLayersRequest=function(b,d,c){this.Aa=b;this.dC=d;this.lx="";this.qv=this.gn=!1;this.mY=0;this.aS=a.Deferred();this.co=this.aS.getPromise();this.then=this.co.then;this.uO=!0===c.loadAsHidden;a.EventEmitter.extend(this)};a.LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};a.LoadMarkupLayersRequest.prototype.getProgress=
function(){return this.mY};a.LoadMarkupLayersRequest.prototype.cancel=function(){var b=this;this.qv=!0;this.lx="User Cancelled";setTimeout(function(){b.trigger(a.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});b.trigger(a.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});b.aS.reject(new a.Error("UserCancelled","User Cancelled"))},0);return this};a.LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.dC};a.LoadMarkupLayersRequest.prototype.getErrorCode=
function(){return this.lx};a.LoadMarkupLayersRequest.prototype.Im=function(){var b=this,d=1,c,e=[],f=this.uO,g=function(g){var m=c+g;IPCC.bg.Jc({url:m,method:"GET"}).then(function(c){c=JSON.parse(c);var n=b.ayD(c),u,r=[],l,C=[],E={},w=0,t;for(u in n.jA)n.jA.hasOwnProperty(u)&&(C=C.concat(n.jA[u]));u=new a.MarkupLayer(b.dC,C);u.aGp={cr:m};IPCC.bg.forEach(n.tP,function(a){r.push(a);w++;E[a.uid]=!0});c.name&&u.setName(c.name);c.originalXmlName&&u.setOriginalXmlName(c.originalXmlName);if(0<w){t=function(c){E[c.mark.getUid()]&&
w--;w||(b.dC.off(a.EventType.MarkCreated,t),b.dC.uK=!0)};b.dC.on(a.EventType.MarkCreated,t);b.dC.uK=!1;try{l=b.dC.deserializeMarks(r)}catch(D){b.gn=!1;b.dC.off(a.EventType.MarkCreated,t);b.dC.uK=!0;b.aS.reject(new a.Error("Error",D.message));b.trigger(a.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return}f&&IPCC.bg.forEach(l,function(a){a.setVisible(!1)});u.addMarks(l)}u.YE=g;for(var y in c.data)c.data.hasOwnProperty(y)&&u.setData(y,c.data[y]);b.dC.getMarkupLayerCollection().addItem(u);
e.push(u);d--;b.mY=(b.Aa.length-d)/b.Aa.length;b.trigger(a.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:b.mY});1===b.mY&&(b.gn=!1,b.aS.resolve(e),b.trigger(a.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:e}))},function(c){b.gn=!1;b.aS.reject(new a.Error("Error",c));b.trigger(a.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{})})};c=/^[\x00-\x7F]*$/.test(this.dC.bP.get_documentIdentifier())?this.dC.aI.imageHandlerUrl+"/MarkupLayers/u"+encodeURIComponent(this.dC.aI.documentID)+
"/":this.dC.aI.imageHandlerUrl+"/MarkupLayers/e"+this.dC.aI.documentID+"/";this.qv||("[object Array]"===Object.prototype.toString.call(this.Aa)&&0<this.Aa.length?(d=this.Aa.length,this.gn=!0,IPCC.bg.forEach(this.Aa,g,this)):"string"===typeof this.Aa?(this.gn=!0,g(this.Aa)):(this.gn=!1,this.aS.reject(new a.Error("InvalidParameter","layerRecordIds parameter is missing or invalid.")),this.trigger(a.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{})))};a.LoadMarkupLayersRequest.prototype.ayD=
function(a){var d={},c={};IPCC.bg.forEach(a.marks,function(a){a.conversation.comments=[];d[a.uid]=a},this);IPCC.bg.forEach(a.comments,function(a){d[a.markUid]?d[a.markUid].conversation.comments.push(a):c[a.markUid]?c[a.markUid].push(a):c[a.markUid]=[a]},this);return{tP:d,jA:c}};Object.defineProperties&&Object.defineProperties(a.LoadMarkupLayersRequest.prototype,{errorCode:{enumerable:!0,get:function(){return this.getErrorCode()}},progress:{enumerable:!0,get:function(){return this.getProgress()}},
viewerControl:{enumerable:!0,get:function(){return this.getViewerControl()}}})})(PCCViewer||{});
(function(a){a.MarkupLayer=function(b,d){var c=this;if(!b)throw Error("`viewerControl` param is missing.");this.cK=function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"===b?c:c&3|8).toString(16)})}();this.dC=b;this.akQ=this.YE=this.cZ=void 0;this.by=[];this.jA={};this.qU=a.Mark.InteractionMode.Full;if(void 0!==d){switch(Object.prototype.toString.call(d)){case "[object Object]":d=
[d];break;case "[object Array]":break;default:throw Error("`markReferences` param is not an object or an array.");}IPCC.bg.forEach(d,function(a){var b=a.markUid;a.markupLayer=c;c.jA[b]=c.jA[b]?c.jA[b].concat(a):[a]})}b={};a.EventEmitter.extend(b);b.QU=function(a,b){var c=this;return setTimeout(function(){c.trigger(a,b)},0)};a.EventEmitter.extend(this);this.cR=new IPCC.Web.UI.Data;a.Data.extend(this);this.EI=new IPCC.Web.UI.Data;a.SessionData.extend(this);setTimeout(function(){c.trigger(a.MarkupLayer.EventType.MarkupLayerCreated,
{})},0)};a.MarkupLayer.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};a.MarkupLayer.prototype.getViewerControl=function(){return this.dC};a.MarkupLayer.prototype.addMarks=function(b){var d=this,c=function(a){a.iy=d};switch(Object.prototype.toString.call(b)){case "[object Object]":b=
[b];break;case "[object Array]":break;default:throw Error("`marks` param is not an object or an array.");}for(var e=0;e<b.length;e++){if(!(b[e]instanceof a.Mark))throw Error("`marks` param contains an item that is not an instanceof `PCCViewer.Mark`");this.hasMark(b[e].getId())?b.splice(e,1):IPCC.bg.forEach(b[e].getConversation().getComments(),c)}b.length&&(this.by=this.by.concat(b),this.trigger(a.MarkupLayer.EventType.MarksAddedToLayer,{marks:b}));return this};a.MarkupLayer.prototype.removeMarks=
function(b){switch(Object.prototype.toString.call(b)){case "[object Object]":b=[b];break;case "[object Array]":break;default:throw Error("`marks` param is not an object or an array.");}for(var d=0;d<this.by.length;d++)for(var c=0;c<b.length;c++)if(this.by[d].getUid()===b[c].getUid()){this.by.splice(d,1);this.trigger(a.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[b[c]]});break}};a.MarkupLayer.prototype.getMarks=function(){var a=[];IPCC.bg.forEach(this.by,function(d){a.push(d)});return a};a.MarkupLayer.prototype.hasMark=
function(a){if("string"!==typeof a)throw Error("`markId` param is not a string.");var d=0,c=!1,e;for(d;d<this.by.length;d++)if(e=this.by[d],e.getId()===a){c=!0;break}return c};a.MarkupLayer.prototype.getMarkReferences=function(){var a=[],d;for(d in this.jA)this.jA.hasOwnProperty(d)&&(a=a.concat(this.jA[d]));return a};a.MarkupLayer.prototype.hide=function(){this.dC.hideMarks(this.getMarks());this.trigger(a.MarkupLayer.EventType.MarkupLayerHidden,{});return this};a.MarkupLayer.prototype.show=function(){this.dC.showMarks(this.getMarks());
this.trigger(a.MarkupLayer.EventType.MarkupLayerShown,{});return this};a.MarkupLayer.prototype.copyLayers=function(b){var d=this.dC,c=this;b instanceof a.MarkupLayer&&(b=[b]);if(!1===b instanceof Array)throw new a.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");var e=[];IPCC.bg.forEach(b,function(a){d.getMarkupLayerCollection().getItem(a.getId());e=e.concat(a.getMarks())});b=d.copyMarks(e);this.addMarks(b);IPCC.bg.forEach(this.by,function(a){IPCC.bg.forEach(a.getConversation().getComments(),
function(a){a.iy=c})});return this};a.MarkupLayer.prototype.getId=function(){return this.cK};a.MarkupLayer.prototype.getName=function(){return this.cZ};a.MarkupLayer.prototype.setName=function(a){if("string"!==typeof a)throw Error("`name` param is not a string.");this.cZ=a;return this};a.MarkupLayer.prototype.getRecordId=function(){return this.YE};a.MarkupLayer.prototype.destroy=function(){this.dC.getMarkupLayerCollection().removeItem(this.cK);this.trigger(a.MarkupLayer.EventType.MarkupLayerDestroyed,
{})};a.MarkupLayer.prototype.setInteractionMode=function(b){if("string"!==typeof b)throw Error("`interactionMode` param is not a string.");this.qU=b;IPCC.bg.forEach(this.by,function(a){a.setInteractionMode(b)});this.trigger(a.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:b});return this};a.MarkupLayer.prototype.getOriginalXmlName=function(){return this.akQ};a.MarkupLayer.prototype.setOriginalXmlName=function(a){if("string"!==typeof a)throw Error("`name` param is not a string.");
this.akQ=a;return this};Object.defineProperties&&Object.defineProperties(a.MarkupLayer.prototype,{id:{enumerable:!0,get:function(){return this.getId()}},recordId:{enumerable:!0,get:function(){return this.getRecordId()}},name:{enumerable:!0,get:function(){return this.getName()},set:function(a){return this.setName(a)}},viewerControl:{enumerable:!0,get:function(){return this.getViewerControl()}},originalXmlName:{enumerable:!0,get:function(){return this.getOriginalXmlName()},set:function(a){return this.setOriginalXmlName(a)}}})})(PCCViewer||
{});
(function(a){a.MarkupLayerCollection=function(b){if(!b)throw Error("`viewerControl` param is missing.");this.dC=b;this.sD={};this.by={};this.iQ={};this.mH=0;a.EventEmitter.extend(this)};a.MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};a.MarkupLayerCollection.prototype.getViewerControl=function(){return this.dC};a.MarkupLayerCollection.prototype.forEach=function(a,d){if("function"!==typeof a)throw new TypeError("The iterator parameter is not a function");IPCC.bg.forEach(this.sD,
a,d);return this};a.MarkupLayerCollection.prototype.getItem=function(a){if("string"!==typeof a)throw Error("`layerId` param is not a string.");return this.sD[a]};a.MarkupLayerCollection.prototype.getCount=function(){return this.mH};a.MarkupLayerCollection.prototype.getAll=function(){var a=[],d;for(d in this.sD)this.sD.hasOwnProperty(d)&&a.push(this.sD[d]);return a};a.MarkupLayerCollection.prototype.addItem=function(b){var d=this,c,e=b.jA,f=function(a,b){a=a.getConversation().addComment(b.text);a.creationTime=
new Date(b.creationDateTime);a.iy=b.markupLayer;for(var c in b.data)b.data.hasOwnProperty(c)&&a.setData(c,b.data[c])},g=function(a){f(d.by[m],a)},k=function(a){var b=a.getUid();d.by[a.getUid()]=a;d.iQ[b]&&(IPCC.bg.forEach(d.iQ[b],function(b){f(a,b)}),delete d.iQ[b])};if(!(b instanceof a.MarkupLayer))throw Error("`layer` param is not an instance of PCCViewer.MarkupLayer.");this.sD[b.getId()]=b;for(var m in e)e.hasOwnProperty(m)&&(c=e[m],d.by[m]?IPCC.bg.forEach(c,g):d.iQ[m]=d.iQ[m]?d.iQ[m].concat(c):
c);IPCC.bg.forEach(b.getMarks(),function(a){k(a)});this.mH++;this.trigger(a.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:b.getId()});b.on(a.MarkupLayer.EventType.MarksAddedToLayer,function(a){IPCC.bg.forEach(a.marks,function(a){k(a)})});b.on(a.MarkupLayer.EventType.MarksRemovedFromLayer,function(a){var b=a.cb;IPCC.bg.forEach(a.marks,function(a){var c=a.getUid();IPCC.bg.forEach(d.by[c].getConversation().getComments(),function(e){b.id!==e.iy.id&&(e={creationDateTime:IPCC.bg.yk(e.creationTime),
data:e.cR.yc(),markUid:a.getUid(),markupLayer:e.iy,text:e.text},d.iQ[c]=d.iQ[c]?d.iQ[c].concat([e]):[e])});d.wm(a)})});return this};a.MarkupLayerCollection.prototype.wm=function(a){var d;IPCC.bg.forEach(this.sD,function(c){c=c.hasMark(a.getId());d="undefined"!==typeof d?+c^d:+c});0===d&&delete this.by[a.getUid()]};a.MarkupLayerCollection.prototype.removeItem=function(b){var d=this.sD[b],c=this,e=function(a,d){a.markupLayer.getId()===b&&c.iQ[f].splice(d)};if("string"!==typeof b)throw Error("`layerId` param is not a string.");
IPCC.bg.forEach(this.by,function(a){var e=a.getConversation().getComments(),f=d.hasMark(a.getId());IPCC.bg.forEach(e,function(d){if(f&&d.iy.getId()!==b){var e={markUid:a.getUid(),markupLayer:d.iy,text:d.getText(),data:d.cR.cR,creationDateTime:IPCC.bg.yk(d.getCreationTime())};c.iQ[a.getUid()]?c.iQ[a.getUid()].push(e):c.iQ[a.getUid()]=[e];a.getConversation().deleteComments(d)}else f&&d.iy.getId()===b?a.getConversation().deleteComments(d):f||d.iy.getId()!==b||a.getConversation().deleteComments(d)});
f&&c.by[a.getUid()]&&c.wm(a)});for(var f in this.iQ)this.iQ.hasOwnProperty(f)&&IPCC.bg.forEach(this.iQ[f],e);delete this.sD[b];this.mH--;this.trigger(a.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:b});return this};a.MarkupLayerCollection.prototype.removeAll=function(){this.sD={};this.mH=0;return this};Object.defineProperties&&Object.defineProperties(a.MarkupLayerCollection.prototype,{viewerControl:{enumerable:!0,get:function(){return this.getViewerControl()}},count:{enumerable:!0,get:function(){return this.getCount()}}})})(PCCViewer||
{});var browserStorage=browserStorage||{};
browserStorage.utils=function(){var a="PVIntake-13022018:"+document.domain+":"+window.location.port+":"+usernameToSavePreference+":";return{checkBrowserStorageSupport:function(){var a=Modernizr;return a.localstorage&&a.sessionstorage},appUserStorageKey:a,commonStorageKey:"PVIntake-17052018:"+document.domain+":"+window.location.port+":",getFromStorage:function(b){return localStorage.getItem(a+b)},addToStorage:function(b,d){localStorage.setItem(a+b,d)},removeFromStorage:function(b){return localStorage.removeItem(a+b)},
getDataFromStorage:function(a){return localStorage.getItem(a)},setDataToStorage:function(a,d){localStorage.setItem(a,d)}}}();var manageSessionStorage=function(){return{removeItem:function(a){sessionStorage.removeItem(browserStorage.utils.appUserStorageKey+a)},addItem:function(a,b){sessionStorage.setItem(browserStorage.utils.appUserStorageKey+a,b)},getItem:function(a){return sessionStorage.getItem(browserStorage.utils.appUserStorageKey+a)}}}(),PCCViewer=window.PCCViewer||{};
(function(a,b){function d(b){var c,d=function(){c&&clearTimeout(c);c=setTimeout(b,300)};a(window).on("resize",d);f.push(d);return d}function c(c,g){function E(){h.esignContext&&h.esignContext.resize&&h.esignContext.resize()}function w(c,d){var e={},f=h.viewerNodes.$contextMenu,k=a(c.target);c=a(c.currentTarget);var l=!1,m=c.attr("data-pcc-toggle");d&&k.parents().hasClass("pcc-tabs")&&(k.parents(".pcc-tabs").find(".pcc-active").removeClass("pcc-active"),d.find(".pcc-tab-content").removeClass("pcc-open"));
if("dialog-save-annotations"===m){if(!h.annotationIo.onOpenDialog("save"))return}else if("dialog-load-annotations"===m||"dialog-load-annotation-layers"===m){if(!h.annotationIo.onOpenDialog)return;if(g.annotationsMode===h.annotationsModeEnum.LayeredAnnotations)h.annotationIo.onOpenDialog(h.annotationIo.modes.loadMarkupLayers,c.attr("data-pcc-toggle-mode"));else h.annotationIo.onOpenDialog(h.annotationIo.modes.loadClassic)}else if("dialog-annotation-layer-review"===m){d=h.viewerControl.getMarkupLayerCollection().getAll();
var p=h.viewerControl.getActiveMarkupLayer();d=_.filter(d,function(a){return a.getId()!==p.getId()&&"merged"!==a.getSessionData("Accusoft-state")});h.annotationLayerReview.onOpenDialog(p,d)}else if("dialog-annotation-layer-save"===m)if(d=h.viewerControl.getActiveMarkupLayer(),d.getName()===b)h.annotationLayerSave.onOpenDialog(d);else{h.annotationLayerSave.onSave(d);return}e=h.$dom.find('[data-pcc-toggle-id="'+m+'"]');l=k.parents().hasClass("pcc-select-search-patterns");"dialog-annotation-layer-save"!=
m&&a('[data-pcc-toggle="'+m+'"]').toggleClass("pcc-active");"dialog-annotation-layer-save"!=m&&(e.hasClass("pcc-dialog")?t({$elem:e,$target:c,toggleID:m,$contextMenu:f}):l&&e.hasClass("pcc-open")?(k.hasClass("pcc-label")||k.hasClass("pcc-arrow-down"))&&e.removeClass("pcc-open"):c.hasClass("pcc-disabled")||e.toggleClass("pcc-open"));!0===h.isFitTypeActive&&h.viewerControl.fitContent(h.currentFitType)}function t(b){var c=b.$elem,d=b.$contextMenu,e=h.viewerNodes.$thumbnailDialog;b=b.toggleID;var f={},
g=e.hasClass("pcc-open"),k=c.hasClass("pcc-open"),l=/thumbnails/.test(b);h.latestBreakpoint===h.breakpointEnum.mobile?(h.viewerNodes.$dialogs.not(c).removeClass("pcc-open pcc-open-as-secondary"),h.$dom.find('[data-pcc-toggle*="dialog"].pcc-active').not('[data-pcc-toggle="'+b+'"]').removeClass("pcc-active"),c.toggleClass("pcc-open")):l?(c=h.viewerNodes.$dialogs.is(".pcc-open"),g?(e.removeClass("pcc-open pcc-open-as-secondary"),f.secondaryDialog="close"):!g&&c?(e.addClass("pcc-open pcc-open-as-secondary"),
f.secondaryDialog="open"):e.addClass("pcc-open")):(k?(e.removeClass("pcc-open-as-secondary"),c.removeClass("pcc-open"),f.secondaryDialog="close"):(h.viewerNodes.$dialogs.not(e).removeClass("pcc-open"),c.addClass("pcc-open"),g&&(e.addClass("pcc-open-as-secondary"),f.secondaryDialog="open")),h.$dom.find('[data-pcc-toggle*="dialog"].pcc-active').not('[data-pcc-toggle="'+b+'"]').not('[data-pcc-toggle*="thumbnail"]').removeClass("pcc-active"));M(f);l&&h.thumbnailManager.embedOnce();/search/.test(b)&&h.$dom.find(".pcc-dialog.pcc-open").length&&
a(window).width()<=h.tabBreakPoint?d.addClass("pcc-move"):d.removeClass("pcc-move")}function y(b){var c=b.toggleID,d=b.$dialog||h.$dom.find('[data-pcc-toggle-id="'+c+'"]');b=b.$trigger||h.$dom.find('[data-pcc-toggle="'+c+'"]');var e={},f=h.viewerNodes.$contextMenu;if(!d.hasClass("pcc-open")){var g=/thumbnails/.test(c),k=h.viewerNodes.$dialogs.hasClass("pcc-open"),l=h.latestBreakpoint===h.breakpointEnum.mobile;(g&&k||h.viewerNodes.$thumbnailDialog.hasClass("pcc-open"))&&!l?(h.viewerNodes.$thumbnailDialog.addClass("pcc-open-as-secondary"),
e.secondaryDialog="open"):k&&(h.viewerNodes.$dialogs.not(d).removeClass("pcc-open"),h.$dom.find('[data-pcc-toggle*="dialog"].pcc-active').removeClass("pcc-active"));d.addClass("pcc-open");b.addClass("pcc-active");g&&h.thumbnailManager.embedOnce();M(e);/search/.test(c)&&h.$dom.find(".pcc-dialog.pcc-open").length&&a(window).width()<=h.tabBreakPoint?f.addClass("pcc-move"):f.removeClass("pcc-move");!0===h.isFitTypeActive&&h.viewerControl.fitContent(h.currentFitType)}}function D(b){var c=h.$dom.find(".pcc-context-menu"),
d={},e=h.currentMarks[0],d=PCCViewer.Language.data,f=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,k=b.mouseToolType&&b.mouseToolType===PCCViewer.MouseTool.Type.PlaceSignature,l=b.markSelectionChanged&&!h.viewerControl.getSelectedMarks().length&&"AccusoftPanAndEdit"===h.viewerControl.getCurrentMouseTool(),m=b.mouseToolType&&(b.mouseToolType===PCCViewer.MouseTool.Type.EditMarks||b.mouseToolType===PCCViewer.MouseTool.Type.PanAndEdit)&&!h.viewerControl.getSelectedMarks().length,
n=b.mouseToolType&&(b.mouseToolType===PCCViewer.MouseTool.Type.TransparentRectangleRedaction||b.mouseToolType===PCCViewer.MouseTool.Type.SelectText||b.mouseToolType===PCCViewer.MouseTool.Type.Magnifier||b.mouseToolType===PCCViewer.MouseTool.Type.SelectToZoom||"AccusoftPlaceDateSignature"===h.viewerControl.getCurrentMouseTool()),q=1<h.currentMarks.length?!0:!1,r=b.mouseToolType&&-1!==b.mouseToolType.search(/ImageStampAnnotation|ImageStampRedaction$/g),t=e&&!!e.getImage||r;if(l||m||n)b.showContextMenu=
!1;if(!b.showContextMenu)c.removeClass("pcc-open");else if(e&&(h.currentMarks.length||h.viewerControl.getSelectedMarks().length)){var u={collapseLeftSide:!1,showTabArea:!1,showMainTab:!1,activateMainTab:!1,showBorderColorTab:!1,showFontTab:!1,activateFontTab:!1,showLayerTab:!1,activateLayerTab:!1,showESignTab:!1,activateESignTab:!1,showLinkTab:!1,activateLinkTab:!1,showLinkStylesTab:!1,showImageTab:!1,activateImageTab:!1,showTransparentFillColor:!1,showTransparentBorderColor:!1,enableCustomRedactionReason:!1};
u.enableCustomRedactionReason=b.enableCustomRedactionReason?b.enableCustomRedactionReason:!1;q?u.collapseLeftSide=!0:"TextSelectionRedaction"!==e.getType()||h.redactionReasons.enableRedactionReasonSelection||(u.collapseLeftSide=!0);k||-1!==e.getType().search(/^ImageStampAnnotation|ImageStampRedaction$/)?u.showMainTab=!1:"TextSelectionRedaction"===e.getType()?u.showMainTab=!!h.redactionReasons.enableRedactionReasonSelection:"TextHyperlinkAnnotation"===e.getType()?0===e.getPageNumber()?(u.showMainTab=
!0,u.showLinkTab=!1,u.activateLinkTab=!1):(u.showMainTab=!1,u.showLinkTab=!0,u.activateLinkTab=!0,u.linkText=e.getHref(),u.showLinkStylesTab=!0):-1===e.getType().search(/^TransparentRectangleRedaction$|^TextRedaction$/)&&(u.showMainTab=!0);u.showMainTab&&!q&&(-1===e.getType().search(/^TransparentRectangleRedaction$|^TextRedaction$|^TextSelectionRedaction$/)?u.activateMainTab=!0:"TextSelectionRedaction"===e.getType()&&h.redactionReasons.enableRedactionReasonSelection&&(u.activateMainTab=!0));e.getBorderColor&&
e.getBorderThickness&&(u.showBorderColorTab=!0);-1!==e.getType().search(/^TextAnnotation$|^TextRedaction$|^RectangleRedaction$/)&&(u.showFontTab=!0);u.showFontTab&&!q&&-1!==e.getType().search(/^TextRedaction$/)&&(u.activateFontTab=!0);b.showAllEditControls&&"HighlightAnnotation"!==e.getType()&&"TextSelectionRedaction"!==e.getType()&&"StrikethroughAnnotation"!==e.getType()&&"TextHyperlinkAnnotation"!==e.getType()&&(u.showLayerTab=!0);!u.showLayerTab||u.activateFontTab||q||-1===e.getType().search(/^TransparentRectangleRedaction|ImageStampAnnotation|ImageStampRedaction$/)||
(u.activateLayerTab=!0);-1!==e.getType().search(/^EllipseAnnotation|RectangleAnnotation|TextAnnotation$/)&&(u.showTransparentFillColor=!0,u.showTransparentBorderColor=!0);k&&(u.showESignTab=!0);u.showESignTab&&k&&(u.activateESignTab=!0);t&&(u.showImageTab=!0,u.activateImageTab=!0,u.activateLayerTab=!1,u.currentImage=h.imageStamp.getImageUrl(e.getImage()));q||_.forEach(u,function(a,b){!0===a&&b.match(/show[a-zA-Z]+Tab/)&&(u.showTabArea=!0)});e.getReason&&(e.getReason().length&&!pa.isPreloadedRedactionReason(e.getReason())&&
(u.enableCustomRedactionReason=!0,b.enableCustomRedactionReason=!0),b.enableCustomRedactionReason?u.redactionReasonLabel=PCCViewer.Language.data.redactionReasonFreeform:e.getReason().length?u.redactionReasonLabel=e.getReason():u.redactionReasonLabel=PCCViewer.Language.data.redactionReasonSelect);d=_.extend({mark:e,multipleMarksSelected:q,showAllEditControls:b.showAllEditControls,showSignaturePreview:k,paragraphAlignTitle:e.getHorizontalAlignment?d["paragraphAlign"+e.getHorizontalAlignment().charAt(0).toUpperCase()+
e.getHorizontalAlignment().slice(1)]:"",reasons:h.redactionReasonsExtended,menuOptions:u},d);c.addClass("pcc-open").html(_.template(g.template.contextMenu)(d));p();L(c);k&&(k=c.find("[data-pcc-esign-preview]").get(0),(d=h.eSignature.mouseTool.getTemplateMark().getSignature())&&h.eSignature.insertSignatureView(d,k,function(){h.launchESignManage()},!1));u.linkText&&(k=c.find("[data-pcc-link-input]"),k.val(u.linkText),k.on("change",function(c){c=a(this).val();Oa.setHref(e,c);D(b)}).on("keypress",function(c){if(13===
c.which)return c=a(this).val(),Oa.setHref(e,c),D(b),a(this).blur(),!1}));b.enableCustomRedactionReason&&(k=c.find("[data-pcc-redaction-reason-input]"),k.val(e.getReason()),k.on("keypress",function(c){if(13===c.which)return a(this).blur(),D(b),!1;c=a(this).val();if(h.redactionReasons.maxLengthFreeformRedactionReasons&&c.length+1>h.redactionReasons.maxLengthFreeformRedactionReasons)return h.notify({message:PCCViewer.Language.data.redactionReasonFreeforMaxLengthOver}),!1}).on("keyup",function(b){e.setReason(a(this).val())}));
u.currentImage&&c.find("[data-pcc-image-stamp-preview]").click(function(){t&&!r?h.imageStamp.selectMarkImage(function(a){e.setImage(a);D(b)}):h.imageStamp.selectToolImage(function(a){D(b)})});f>h.tabBreakPoint&&(c.find(".pcc-pull-left").addClass("pcc-open"),c.find("[data-pcc-toggle=context-menu-options]").toggleClass("pcc-active"))}}function J(){var a=h.viewerNodes.$navTabs.eq(0).find(".pcc-tab-item"),b=a.next(".pcc-tab-pane");g.uiElements&&g.uiElements.fullScreenOnInit&&(h.$dom.addClass("pcc-full-screen"),
h.viewerNodes.$fullScreen.addClass("pcc-active"));!0===g.lockEditableMarkupLayer&&h.$dom.find("[data-pcc-lock-editable-layer]").remove();g.uiElements&&(L(),h.viewerNodes.$navTabs=h.$dom.find("[data-pcc-nav-tab]"),a=h.viewerNodes.$navTabs.eq(0).find(".pcc-tab-item"),h.viewerNodes.$navTabs.length||h.viewerNodes.$pageList.css("top",h.viewerNodes.$nav.outerHeight()));a.addClass("pcc-active").next(".pcc-tab-pane").addClass("pcc-open");b.hasClass("pcc-tab-vertical")&&(b.hasClass("pcc-right")?h.viewerNodes.$pageList.removeClass("pcc-vertical-offset-left").addClass("pcc-vertical-offset-right"):
h.viewerNodes.$pageList.removeClass("pcc-vertical-offset-right").addClass("pcc-vertical-offset-left"));g.annotationsMode===h.annotationsModeEnum.LayeredAnnotations&&(h.$dom.find('[data-pcc-toggle="dialog-save-annotations"]').attr("data-pcc-toggle","dialog-annotation-layer-save"),h.$dom.find('[data-pcc-toggle="dialog-load-annotations"]').attr("data-pcc-toggle","dialog-load-annotation-layers"));h.$dom.find("[data-pcc-nav-trigger]").html(a.html());!0===h.isFitTypeActive&&h.viewerNodes.$fitContent.addClass("pcc-active")}
function L(b){var c=b?a(b):h.$dom,d=["advancedSearch","fullScreenOnInit"];_.each(g.uiElements,function(a,b){_.contains(d,b)||!1===a&&c.find("[data-pcc-removable-id="+b+"]").remove()})}function F(){_.each(h.viewerNodes.$mouseTools,function(b){var c=a(b).data("pccDefaultFillColor"),d=a(b).data("pccMouseTool");b=a(b).data("pccDefaultLabel");var e;c&&PCCViewer.MouseTools.getMouseTool(d)&&(e=PCCViewer.MouseTools.getMouseTool(d).getTemplateMark(),e.setColor?e.setColor(c):e.setFillColor&&e.setFillColor(c));
b&&PCCViewer.MouseTools.getMouseTool(d)&&(e=PCCViewer.MouseTools.getMouseTool(d).getTemplateMark(),e.setLabel&&e.setLabel(b))})}function p(){h.$dom.find(".pcc-context-menu").find("a, area, button, input, object, select").attr("tabindex","-1")}function H(){"placeholder"in document.createElement("input")||_.each(h.$dom.find("[placeholder]"),function(b){var c=a(b).attr("placeholder");a(b).val(c).addClass("pcc-placeholder").on("focus",function(b){b=a(b.target);b.val()===c&&b.val("").removeClass("pcc-placeholder")}).on("blur",
function(b){b=a(b.target);b.val().length||b.val(c).addClass("pcc-placeholder")})})}function B(a){return a.hasClass("pcc-placeholder")?"":a.val()}function x(a){"#"!==a.substring(0,1)&&(a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),a="#"+("0"+Number(a[1],10).toString(16)).slice(-2)+("0"+Number(a[2],10).toString(16)).slice(-2)+("0"+Number(a[3],10).toString(16)).slice(-2));return a}function K(){var a=h.viewerControl.getCurrentMouseTool();return PCCViewer.MouseTools.getMouseTool(a).getType()}function M(a){a=
a||{};var b=h.$dom.find(".pcc-dialog.pcc-open"),c=h.viewerNodes.$pageList,d,e=function(){c.css("padding-left")&&!d&&c.css("padding-left","")};b.is(h.viewerNodes.$thumbnailDialog)&&h.latestBreakpoint!==h.breakpointEnum.mobile&&(d=h.viewerNodes.$thumbnailDialog.get(0).getBoundingClientRect().right-h.$dom.get(0).getBoundingClientRect().left);h.viewerNodes.$dialogs.hasClass("pcc-open")?c.addClass("pcc-dialog-offset"):(c.removeClass("pcc-dialog-offset"),e());"open"===a.secondaryDialog?c.addClass("pcc-dialog-offset-secondary"):
"close"===a.secondaryDialog&&c.hasClass("pcc-dialog-offset-secondary")&&(c.removeClass("pcc-dialog-offset-secondary"),e());d&&c.css("padding-left",d+"px");h.$events.trigger("pagelistresize")}function Z(a){h.pageCount=a.pageCount;h.viewerNodes.$pageCount.html(a.pageCount)}function A(a){h.pageCount=a.pageCount;h.viewerNodes.$pageCount.html(a.pageCount);1<a.pageCount&&(h.viewerNodes.$firstPage.removeClass("pcc-hide"),h.viewerNodes.$lastPage.removeClass("pcc-hide"),h.viewerNodes.$prevPage.addClass("pcc-show-lg"),
h.viewerNodes.$nextPage.addClass("pcc-show-lg"));h.search.initialSearchHandler();h.search.on("open",function(){y({toggleID:"dialog-search"})})}function Da(a){var b=PCCViewer.Language.data.documentNotFound;if(504===a.statusCode||403===a.statusCode)403===a.statusCode&&(b=PCCViewer.Language.data.sessionExpired),h.notify({sticky:!0,message:b}),h.viewerNodes.$pageList.hide()}function ga(a){h.viewerNodes.$pageSelect.val(a.pageNumber)}function T(a){a.mark.getType()!==PCCViewer.Mark.Type.TextAnnotation&&
a.mark.getType()!==PCCViewer.Mark.Type.TextRedaction&&a.mark.getType()!==PCCViewer.Mark.Type.TextInputSignature&&K()!==PCCViewer.MouseTool.Type.EditMarks&&h.setMouseToolIfUnlocked("AccusoftPanAndEdit",function(){h.viewerNodes.$contextMenu.removeClass("pcc-open")})}function W(a){var b=a.mark.getType();b!==PCCViewer.Mark.Type.TextAnnotation&&b!==PCCViewer.Mark.Type.TextRedaction&&b!==PCCViewer.Mark.Type.TextInputSignature||K()===PCCViewer.MouseTool.Type.EditMarks?b!==PCCViewer.Mark.Type.FreehandSignature&&
b!==PCCViewer.Mark.Type.TextSignature||h.eSignature.updateSignatureSizeOnDocument(a.mark):h.setMouseToolIfUnlocked("AccusoftPanAndEdit")}function ha(){var a=h.viewerControl.getSelectedMarks();h.currentMarks=a;D({showContextMenu:!0,showAllEditControls:!0,markSelectionChanged:!0})}function ja(a){a&&(h.documentHasText=!0,!0!==fb.isInPreviewMode()&&h.viewerNodes.$selectText.removeClass("pcc-disabled"))}function ka(a){h.search.pageTextReadyHandler(a)}function V(a){h.viewerNodes.$zoomLevel.html(Math.round(100*
a.scaleFactor)+"%");a.fitType!==PCCViewer.FitType.FullWidth&&a.fitType!==PCCViewer.FitType.FullHeight&&a.fitType!==PCCViewer.FitType.FullPage&&a.fitType!==PCCViewer.FitType.ActualSize?(h.isFitTypeActive=!1,h.viewerNodes.$fitContent.removeClass("pcc-active")):(h.currentFitType=a.fitType,h.isFitTypeActive=!0,h.viewerNodes.$fitContent.addClass("pcc-active"));h.viewerControl.getAtMaxScale()?h.viewerNodes.$zoomIn.addClass("pcc-disabled"):h.viewerNodes.$zoomIn.hasClass("pcc-disabled")&&h.viewerNodes.$zoomIn.removeClass("pcc-disabled");
h.viewerControl.getAtMinScale()?h.viewerNodes.$zoomOut.addClass("pcc-disabled"):h.viewerNodes.$zoomOut.hasClass("pcc-disabled")&&h.viewerNodes.$zoomOut.removeClass("pcc-disabled")}function ma(){u.preLoad();Ka.init({viewerControl:h.viewerControl,template:g.template.comment,language:PCCViewer.Language.data,commentDateFormat:g.commentDateFormat,button:h.viewerNodes.$commentsPanel,panel:h.$dom.find(".pccPageListComments"),mode:g.commentsPanelMode||"auto",pageList:h.viewerNodes.$pageList});h.$events.on("pagelistresize",
function(a,b){Ka.updatePanel(b)});h.viewerNodes.$zoomLevel.html(Math.round(100*h.viewerControl.getScaleFactor())+"%")}function da(b){if(navigator.userAgent.match("Edge")){var c=a(b).get(0).style.display;setTimeout(function(){a(b).hide().show(0,function(){a(b).css("display",c)})},5)}}if(!c.length)throw Error("Unable to find the "+c.selector+" element.");if(1<c.length)throw Error("There are "+c.length+" "+c.selector+" elements. Please specify only one element per viewer instance.");if("object"===typeof g&&
null!==g){var aa=c.data("PCCViewer.Viewer");aa&&aa.destroy&&aa.destroy()}else a.error("The options argument has an invalid value.");this.redactionReasons=g.redactionReasons&&g.redactionReasons.reasons&&g.redactionReasons.reasons.length?g.redactionReasons:{};this.redactionReasonsExtended=a.extend(!0,{},this.redactionReasons);"undefined"!==typeof this.redactionReasons.reasons&&this.redactionReasons.reasons.length&&(!0===this.redactionReasons.enableFreeformRedactionReasons&&this.redactionReasonsExtended.reasons.unshift({reason:PCCViewer.Language.data.redactionReasonFreeform}),
this.redactionReasonsExtended.reasons.unshift({reason:PCCViewer.Language.data.redactionReasonClear}));this.annotationsModeEnum={LegacyAnnotations:"LegacyAnnotations",LayeredAnnotations:"LayeredAnnotations"};g.annotationsMode===b&&(g.annotationsMode=this.annotationsModeEnum.LegacyAnnotations);var aa=[PCCViewer.Language.data.fileDownloadOriginalDocument,PCCViewer.Language.data.fileDownloadPdfFormat],Na=[PCCViewer.Language.data.fileDownloadAllAnnotations,PCCViewer.Language.data.fileDownloadChosenAnnotations];
a(c).html(_.template(g.template.viewer)(_.extend({reasons:this.redactionReasonsExtended,annotationsMode:g.annotationsMode,downloadFormats:aa,annotationFormats:Na},PCCViewer.Language.data))).addClass("pccv").show();var h=this;this.$dom=a(c);this.viewerID=h.$dom.attr("id");this.$events=a({});this.pageNumber=this.pageCount=0;this.presetSearch=g.predefinedSearch||{};this.printRequest={};this.currentMarks=[];this.uiMouseToolName="";this.fontStyles=[];this.tabBreakPoint=767;this.esignContext={};this.currentFitType=
PCCViewer.FitType.FullWidth;this.isFitTypeActive=!0;this.isPageRedactionCanceled=this.documentHasText=!1;this.fullPageRedactionReason="";this.autoApplyRedactionReason=null;this.stickyTools=_.extend({Magnifier:!1,SelectToZoom:!1,PanAndEdit:!1,SelectText:!0,LineAnnotation:!0,RectangleAnnotation:!0,EllipseAnnotation:!0,TextAnnotation:!0,StampAnnotation:!0,HighlightAnnotation:!0,FreehandAnnotation:!0,RectangleRedaction:!0,TransparentRectangleRedaction:!0,TextRedaction:!0,StampRedaction:!0,TextSelectionRedaction:!0,
PlaceSignature:!0,ImageStampAnnotation:!0,ImageStampRedaction:!0,PolylineAnnotation:!0,TextHyperlinkAnnotation:!0,StrikethroughAnnotation:!0},g.stickyToolsFilter);this.stickyToolsAlwaysOn=!1;"on"===g.stickyTools?this.stickyToolsAlwaysOn=!0:"off"===g.stickyTools&&(this.stickyTools={});this.immediateActionMenuActions=_.extend({comment:!0,select:!0,copy:!0,highlight:!0,redact:!0,hyperlink:!0,strikethrough:!0,cancel:!0},g.immediateActionMenuActionsFilter);g.template.printOverlay=g.template.printOverlay||
g.template.printoverlay;g.template.pageRedactionOverlay=g.template.pageRedactionOverlay||g.template.element;g.template.contextMenu=g.template.contextMenu||g.template.contextmenu;g.resourcePath="/assets";g.imageHandlerUrl=g.imageHandlerUrl||"../pcc.ashx";this.viewerControlOptions=g;this.viewerControl={};this.viewerNodes={$download:h.$dom.find("[data-pcc-download]"),$pageList:h.$dom.find("[data-pcc-pageList]"),$nav:h.$dom.find("[data-pcc-nav]"),$navTabs:h.$dom.find("[data-pcc-nav-tab]"),$tabItems:h.$dom.find(".pcc-tab-item"),
$toggles:h.$dom.find("[data-pcc-toggle]"),$dropdowns:h.$dom.find('[data-pcc-toggle-id*="dropdown"]'),$defaults:h.$dom.find("[data-pcc-default]"),$pageCount:h.$dom.find("[data-pcc-pagecount]"),$pageSelect:h.$dom.find("[data-pcc-pageSelect]"),$contextMenu:h.$dom.find("[data-pcc-context-menu]"),$firstPage:h.$dom.find("[data-pcc-first-page]"),$prevPage:h.$dom.find("[data-pcc-prev-page]"),$nextPage:h.$dom.find("[data-pcc-next-page]"),$lastPage:h.$dom.find("[data-pcc-last-page]"),$mouseTools:h.$dom.find("[data-pcc-mouse-tool]"),
$selectText:h.$dom.find('[data-pcc-mouse-tool*="AccusoftSelectText"]'),$panTool:h.$dom.find('[data-pcc-mouse-tool*="AccusoftPanAndEdit"]'),$fitContent:h.$dom.find("[data-pcc-fit-content]"),$rotatePage:h.$dom.find("[data-pcc-rotate-page]"),$rotateDocument:h.$dom.find("[data-pcc-rotate-document]"),$zoomIn:h.$dom.find("[data-pcc-zoom-in]"),$zoomOut:h.$dom.find("[data-pcc-zoom-out]"),$zoomLevel:h.$dom.find("[data-pcc-zoom-level]"),$scaleDropdown:h.$dom.find(".pcc-scale-dropdown"),$fullScreen:h.$dom.find("[data-pcc-fullscreen]"),
$dialogs:h.$dom.find(".pcc-dialog"),$annotationList:h.$dom.find("[data-pcc-load-annotations=list]"),$endPreview:h.$dom.find("[data-pcc-end-preview]"),$downloadDialog:h.$dom.find("[data-pcc-toggle-id=dialog-download]"),$downloadAsDropdown:h.$dom.find('[data-pcc-toggle="dropdown-download"]'),$downloadAnnotationsFormatDropdown:h.$dom.find('[data-pcc-toggle="dropdown-download-annotations-format"]'),$downloadAnnotationsCheckbox:h.$dom.find("[data-pcc-download-annotations]"),$downloadRedactionsCheckbox:h.$dom.find("[data-pcc-download-redactions]"),
$downloadSignaturesCheckbox:h.$dom.find("[data-pcc-download-esignatures]"),$downloadDocumentPreview:h.$dom.find('[data-pcc-download="preview"]'),$downloadDocument:h.$dom.find('[data-pcc-download="download"]'),$saveDocument:h.$dom.find('[data-pcc-save="save"]'),$annotationLayersLoadDialog:h.$dom.find("[data-pcc-toggle-id=dialog-load-annotation-layers]"),$annotationLayersList:h.$dom.find("[data-pcc-load-annotation-layers=list]"),$annotationLayersBack:h.$dom.find("[data-pcc-load-annotation-layers=back]"),
$annotationLayersDone:h.$dom.find("[data-pcc-load-annotation-layers=done]"),$annotationLayersDropdown:h.$dom.find("[data-pcc-load-annotation-layers=dropdownlist]"),$annotateSaveDialog:h.$dom.find("[data-pcc-toggle-id=dialog-save-annotations]"),$annotateLoadDialog:h.$dom.find("[data-pcc-toggle-id=dialog-load-annotations]"),$annotateLoadDropdown:h.$dom.find("[data-pcc-toggle-id=dropdown-load-annotations]"),$annotationLayerReviewOther:h.$dom.find("[data-pcc-annotation-layer-review-section=other]"),$annotationLayerMergeActions:h.$dom.find("[data-pcc-annotation-layer-review-merge-actions]"),
$annotationLayerMerge:h.$dom.find("[data-pcc-annotation-layer-review=merge]"),$annotationLayerMergeAll:h.$dom.find("[data-pcc-annotation-layer-review=mergeAll]"),$annotationLayerMergeMode:h.$dom.find("[data-pcc-annotation-layer-review=mergeMode]"),$annotationLayerMergeCancel:h.$dom.find("[data-pcc-annotation-layer-review=mergeCancel]"),$annotationLayerShowAll:h.$dom.find("[data-pcc-annotation-layer-review=showAll]"),$annotationLayerHideAll:h.$dom.find("[data-pcc-annotation-layer-review=hideAll]"),
$annotationLayerSaveDialog:h.$dom.find("[data-pcc-toggle-id=dialog-annotation-layer-save]"),$annotationLayerSave:h.$dom.find("[data-pcc-save-layer]"),$overlay:h.$dom.find("[data-pcc-overlay]"),$overlayFade:h.$dom.find(".pcc-overlay-fade"),$esignManage:h.$dom.find("[data-pcc-esign=manage]"),$esignFreehandLaunch:h.$dom.find("[data-pcc-esign=freehandLaunch]"),$esignTextLaunch:h.$dom.find("[data-pcc-esign=textLaunch]"),$esignImageLaunch:h.$dom.find("[data-pcc-esign=imageLaunch]"),$esignOverlay:h.$dom.find("[data-pcc-esign=overlay]"),
$esignPlace:h.$dom.find("[data-pcc-esign=place]"),$esignPlaceDate:h.$dom.find("[data-pcc-esign=placeDate]"),$printLaunch:h.$dom.find("[data-pcc-print=launch]"),$printOverlay:h.$dom.find("[data-pcc-print=overlay]"),$pageRedactionLaunch:h.$dom.find("[data-pcc-page-redaction=launch]"),$pageRedactionOverlay:h.$dom.find("[data-pcc-page-redaction=overlay]"),$redactionViewMode:h.$dom.find("[data-pcc-redactionViewmode]"),$searchDialog:h.$dom.find("[data-pcc-toggle-id=dialog-search]"),$searchInput:h.$dom.find("[data-pcc-search=input]"),
$searchSubmit:h.$dom.find("[data-pcc-search=submit]"),$searchRedact:h.$dom.find("[data-pcc-search-quick-action=redact]"),$searchCancel:h.$dom.find("[data-pcc-search=cancel]"),$searchCloser:h.$dom.find("[data-pcc-search=closer]"),$searchClear:h.$dom.find("[data-pcc-search=clear]"),$searchFilterContainer:h.$dom.find("[data-pcc-search-container=filter]"),$searchQuickActionsToggle:h.$dom.find("[data-pcc-search-container-toggle=quick-actions]"),$searchQuickActionsContainer:h.$dom.find("[data-pcc-search-container=quick-actions]"),
$searchQuickActionsSearchTerms:h.$dom.find("[data-pcc-section=quickActionSearchTerms]"),$searchQuickActionRedact:h.$dom.find("[data-pcc-search-quick-action=redact]"),$searchQuickActions:h.$dom.find("[data-pcc-section=searchQuickActions]"),$searchQuickActionRedactOptions:h.$dom.find("[data-pcc-section=searchQuickActionRedactOptions]"),$searchQuickActionRedactDone:h.$dom.find("[data-pcc-search-quick-action=redactReasonUpdateDone]"),$searchQuickActionRedactionDropdownContainer:h.$dom.find('[data-pcc-qa-toggle="dropdown-quick-action-redaction-reason"]'),
$searchQuickActionRedactionDropdown:h.$dom.find("[data-pcc-qa-toggle-id=dropdown-quick-action-redaction-reason]"),$searchQuickActionRedactionInput:h.$dom.find("[data-pcc-qa-redaction-reason-input]"),$searchQuickActionRedactionDropdownLabel:h.$dom.find("[data-pcc-redaction-reason-dropdown-label]"),$searchResultsContainer:h.$dom.find("[data-pcc-search-container=results]"),$searchPreviousContainer:h.$dom.find("[data-pcc-previous-search]"),$searchPresets:h.$dom.find("[data-pcc-toggle-id=dropdown-search-patterns] label"),
$searchPresetsContainer:h.$dom.find("[data-pcc-predefined-search]"),$searchFixedPresetsContainer:h.$dom.find("[data-pcc-predefined-fixed-search]"),$searchToggleAllPresets:h.$dom.find("[data-pcc-search=toggleAllPresets]"),$searchLoader:h.$dom.find("[data-pcc-search=loader]"),$searchStatus:h.$dom.find("[data-pcc-search=status]"),$searchResults:h.$dom.find("[data-pcc-search=results]"),$searchResultCount:h.$dom.find("[data-pcc-search=resultCount]"),$searchPrevResult:h.$dom.find("[data-pcc-search=prevResult]"),
$searchNextResult:h.$dom.find("[data-pcc-search=nextResult]"),$searchExactPhrase:h.$dom.find("[data-pcc-search=exactWord]"),$searchMatchCase:h.$dom.find("[data-pcc-search=matchCase]"),$searchMatchWholeWord:h.$dom.find("[data-pcc-search=matchWholeWord]"),$searchBeginsWith:h.$dom.find("[data-pcc-search=beginsWith]"),$searchEndsWith:h.$dom.find("[data-pcc-search=endsWith]"),$searchWildcard:h.$dom.find("[data-pcc-search=wildcard]"),$imageStampOverlay:h.$dom.find("[data-pcc-image-stamp=overlay]"),$imageStampSelect:h.$dom.find("[data-pcc-image-stamp=select]"),
$imageStampRedactSelect:h.$dom.find("[data-pcc-image-stamp-redact=select]"),$commentsPanel:h.$dom.find("[data-pcc-comments-panel]"),$thumbnailDialog:h.$dom.find("[data-pcc-toggle-id=dialog-thumbnails]"),$thumbnailList:h.$dom.find("[data-pcc-thumbs]"),$breakpointTrigger:h.$dom.find("[data-pcc-breakpoint-trigger]")};this.breakpointEnum={mobile:"mobile",desktop:"desktop",initial:"initial"};this.getBreakpoint=function(){var a=this.breakpointEnum.initial;if(window.getComputedStyle)var b=window.getComputedStyle(h.viewerNodes.$breakpointTrigger.get(0),
":after").getPropertyValue("content")||"",b=b.replace(/["']/g,""),a=this.breakpointEnum[b]||a;return this.latestBreakpoint=a};this.latestBreakpoint=this.getBreakpoint();d(function(){h.getBreakpoint()});this.$pageListContainerWrapper=this.viewerNodes.$pageList.find(".pccPageListContainerWrapper");this.prevActiveElement=this.activeElement=document.activeElement;this.initializeViewer=function(){var a=0;this.createPageList();this.bindMarkup();var c=this,e=function(){h.viewerControl.off("PageCountReady",
e);c.annotationIo.init();c.annotationLayerReview.init();c.annotationLayerSave.init(c.viewerControl,PCCViewer.Language.data,c.viewerNodes.$annotationLayerSaveDialog,c.notify);c.eSignature.init();c.imageStamp.init({$imageStampSelect:h.viewerNodes.$imageStampSelect,$imageStampRedactSelect:h.viewerNodes.$imageStampRedactSelect,$imageStampOverlay:h.viewerNodes.$imageStampOverlay});var a=h.viewerControlOptions;if(a.annotationsMode===h.annotationsModeEnum.LayeredAnnotations)if(a.autoLoadAllLayers)c.annotationIo.autoLoadAllLayers(function(a){Ka.openIfVisibleMarks()});
else{var d="string"===typeof h.viewerControlOptions.editableMarkupLayerSource&&"xmlname"===h.viewerControlOptions.editableMarkupLayerSource.toLowerCase(),f="string"===typeof h.viewerControlOptions.editableMarkupLayerSource&&"layerrecordid"===h.viewerControlOptions.editableMarkupLayerSource.toLowerCase()&&h.viewerControlOptions.editableMarkupLayerValue!==b;!0===d?c.annotationIo.autoLoadEditableXml(h.viewerControlOptions.editableMarkupLayerValue):!0===f&&c.annotationIo.autoLoadEditableLayer(h.viewerControlOptions.editableMarkupLayerValue)}"string"===
typeof a.editableMarkupLayerSource&&"defaultname"===a.editableMarkupLayerSource.toLowerCase()&&a.editableMarkupLayerValue!==b&&h.viewerControl.getActiveMarkupLayer().setName(a.editableMarkupLayerValue);if(!0===h.redactionReasons.autoApplyDefaultReason){var g=0;_.each(h.redactionReasons.reasons,function(a){"undefined"!==typeof a.defaultReason&&!0===a.defaultReason&&(g++,PCCViewer.MouseTools.getMouseTool("AccusoftRectangleRedaction").getTemplateMark().setReason(a.reason),PCCViewer.MouseTools.getMouseTool("AccusoftTextSelectionRedaction").getTemplateMark().setReason(a.reason),
h.autoApplyRedactionReason=a.reason)});1<g&&h.notify({message:PCCViewer.Language.data.redactionErrorDefault})}"undefined"!==typeof h.redactionReasons.reasons&&h.redactionReasons.reasons.length&&(!1!==h.redactionReasons.enableRedactionReasonSelection&&(h.redactionReasons.enableRedactionReasonSelection=!0),!1===h.redactionReasons.enableRedactionReasonSelection&&(h.redactionReasons.reasons=[]))};h.viewerControl.on("PageCountReady",e);h.viewerControl.on("PageDisplayed",function(b){h.viewerControl.requestPageAttributes(b.pageNumber).then(function(b){0===
a?a=b.width:b.width>a&&(a=b.width,!0===h.isFitTypeActive&&h.viewerControl.fitContent(h.currentFitType))})});J();F();H();p();PCCViewer.MouseTools.createMouseTool("AccusoftPlaceDateSignature",PCCViewer.MouseTool.Type.PlaceSignature);"string"===typeof g.pageLayout&&"horizontal"===g.pageLayout.toLowerCase()&&(h.currentFitType=PCCViewer.FitType.FullHeight);"string"===typeof g.viewMode&&"singlepage"===g.viewMode.toLowerCase()&&(h.currentFitType=PCCViewer.FitType.FullPage);d(function(){M();!0===h.isFitTypeActive&&
h.viewerControl.fitContent(h.currentFitType)});h.$pageListContainerWrapper=h.viewerNodes.$pageList.find(".pccPageListContainerWrapper");this.initKeyBindings()};this.bindMarkup=function(){function c(){h.viewerNodes.$scaleDropdown.removeClass("pcc-show");a(document.body).off("click",c)}function d(){var a=h.viewerNodes.$pageRedactionOverlay.find("[data-pcc-page-redaction=redactAllPages]").hasClass("pcc-checked"),b=h.viewerNodes.$pageRedactionOverlay.find("[data-pcc-page-redaction=redactRange]").hasClass("pcc-checked"),
c=h.viewerNodes.$pageRedactionOverlay.find("[data-pcc-page-redaction-field=excludeRange]"),e=h.viewerNodes.$pageRedactionOverlay.find("[data-pcc-page-redaction-range=include]"),g=h.viewerNodes.$pageRedactionOverlay.find("[data-pcc-page-redaction-range=exclude]");a?c.show():c.hide();f(e,{ignoreErrors:!b});f(g,{ignoreErrors:!a,emptyIsValid:!0})}function f(a,b){b=b||{};var c=b.ignoreErrors||!1,d=b.emptyIsValid||!1;b=B(a);d=d&&0===b.length;c||d||PCCViewer.Util.validatePageRange(b,{upperLimit:h.viewerControl.getPageCount()})?
a.removeClass("pccError"):a.addClass("pccError")}function k(a,b,c){var d;c=c||[];b=b||0;if(!h.isPageRedactionCanceled&&b<a.length)return d=Math.round(b/(a.length+1)*100)+"%",h.$dom.find("[data-pcc-page-redaction=resultCount]").html(PCCViewer.Language.data.pageRedactionOverlay.requestingAttributesOf+" "+a[b]),h.$dom.find("[data-pcc-page-redaction=resultPercent]").html(d),h.$dom.find("[data-pcc-page-redaction=loader]").css("width",d),h.viewerControl.requestPageAttributes(a[b]).then(function(d){c.push(d);
return k(a,b+1,c)});d=PCCViewer.Deferred();d.resolve(c);return d.getPromise()}function l(){h.viewerControl.requestPageAttributes(1).then(function(a){a=a.width>a.height?"landscape":"portrait";h.viewerNodes.$printOverlay.find('[data-pcc-select="orientation"]').val(a)})}function m(){var a=h.$dom.find('[data-pcc-checkbox="printAnnotations"]').hasClass("pcc-checked"),b=h.$dom.find('[data-pcc-checkbox="printRedactions"]').hasClass("pcc-checked");a||b?h.$dom.find('[data-pcc-select="printComments"]').prop("disabled",
!1):h.$dom.find('[data-pcc-select="printComments"]').prop("disabled",!0);b?(h.$dom.find('[data-pcc-select="printReasons"]').prop("disabled",!1),h.$dom.find('[data-pcc-checkbox="printRedactionViewMode"]').removeClass("pcc-disabled")):(h.$dom.find('[data-pcc-select="printReasons"]').prop("disabled",!0),h.$dom.find('[data-pcc-checkbox="printRedactionViewMode"]').addClass("pcc-disabled"))}function p(b){var c=a(b.target).parents().hasClass("pcc-select"),d=a(b.target).parents().hasClass("pcc-select-load-annotations"),
e=a(b.target).parents().hasClass("pcc-select-load-annotation-layers"),f=a(b.target).is("span")?a(b.target).parent().clone():a(b.target).clone();e?a(b.target).parents(".pcc-select").find(".pcc-label").html(a(b.target).html()):c&&!d&&a(b.target).parents(".pcc-select").find(".pcc-label").replaceWith(f.addClass("pcc-label"))}var n;h.viewerNodes.$firstPage.on("click",function(){h.viewerControl.changeToFirstPage()});h.viewerNodes.$prevPage.on("click",function(){h.viewerControl.changeToPrevPage()});h.viewerNodes.$nextPage.on("click",
function(){h.viewerControl.changeToNextPage()});h.viewerNodes.$lastPage.on("click",function(){h.viewerControl.changeToLastPage()});h.viewerNodes.$fitContent.on("click",function(){!1===h.isFitTypeActive?(h.isFitTypeActive=!0,h.viewerNodes.$fitContent.addClass("pcc-active"),"AccusoftSelectToZoom"===h.uiMouseToolName&&h.setMouseTool({mouseToolName:"AccusoftPanAndEdit"}),h.viewerControl.fitContent(h.currentFitType)):(h.isFitTypeActive=!1,h.viewerNodes.$fitContent.removeClass("pcc-active"))});h.viewerNodes.$rotatePage.on("click",
function(){h.viewerControl.rotatePage(90);!0===h.isFitTypeActive&&h.viewerControl.fitContent(h.currentFitType)});h.viewerNodes.$rotateDocument.on("click",function(){h.viewerControl.rotateDocument(90);!0===h.isFitTypeActive&&h.viewerControl.fitContent(h.currentFitType)});h.viewerNodes.$zoomIn.on("click",function(){this.className.match("pcc-disabled")||h.viewerControl.zoomIn(1.25)});h.viewerNodes.$zoomOut.on("click",function(){this.className.match("pcc-disabled")||h.viewerControl.zoomOut(1.25)});h.viewerNodes.$zoomLevel.on("click",
function(){!1===h.viewerNodes.$scaleDropdown.hasClass("pcc-show")&&(h.viewerNodes.$scaleDropdown.addClass("pcc-show"),setTimeout(function(){a(document.body).on("click",c)},0))});h.viewerNodes.$scaleDropdown.on("click",function(b){b=a(b.target).data();b.pccFit?(h.currentFitType=b.pccFit,h.viewerControl.fitContent(b.pccFit)):b.pccScale&&(h.viewerControl.setScaleFactor(b.pccScale/100),h.viewerNodes.$zoomLevel.html(b.pccScale+"%"));h.viewerNodes.$scaleDropdown.removeClass("pcc-show");a(document.body).off("click",
c)});h.viewerNodes.$fullScreen.on("click",function(a){h.$dom.toggleClass("pcc-full-screen");h.viewerNodes.$fullScreen.toggleClass("pcc-active");!0===h.isFitTypeActive&&h.viewerControl.fitContent(h.currentFitType)});h.viewerNodes.$commentsPanel.on("click",function(){var a=h.viewerNodes.$pageList.find(".pccPageListContainerWrapper");!0===h.viewerControl.getIsCommentsPanelOpen()?(h.viewerNodes.$commentsPanel.removeClass("pcc-active"),h.viewerControl.closeCommentsPanel(),!0===h.isFitTypeActive&&h.viewerControl.fitContent(h.currentFitType),
"undefined"!==typeof n&&h.viewerNodes.$pageList.find(".pccPageListContainerWrapper").scrollLeft(n)):(n=a.scrollLeft(),h.viewerNodes.$commentsPanel.addClass("pcc-active"),h.viewerControl.openCommentsPanel(),!0===h.isFitTypeActive&&h.viewerControl.fitContent(h.currentFitType),a.scrollLeft(h.viewerNodes.$pageList.find(".pccPageListContainerWrapper > div:first-child").width()))});h.viewerNodes.$endPreview.on("click",function(){fb.endPreview()});h.viewerNodes.$esignPlace.on("click",function(a){a=PCCViewer.MouseTools.getMouseTool("AccusoftPlaceSignature").getTemplateMark().getSignature()||
b;h.eSignature.changeMouseToolSignature(a,!1,!1)});h.viewerNodes.$esignPlaceDate.on("click",function(a){a=PCCViewer.MouseTools.getMouseTool("AccusoftPlaceDateSignature");var b=new Date,c=g.signatureDateFormat||"MM/DD/YYYY";a.getTemplateMark().setSignature({text:e(b,c.toString()),fontName:"Arial"});h.setMouseTool({mouseToolName:"AccusoftPlaceDateSignature",thisButton:this})});h.viewerNodes.$esignFreehandLaunch.on("click",h.launchESignFreehand);h.viewerNodes.$esignTextLaunch.on("click",h.launchESignText);
h.viewerNodes.$esignManage.on("click",h.launchESignManage);h.viewerNodes.$esignOverlay.on("click",'[data-pcc-esign="cancel"]',function(){h.closeEsignModal();a(window).off("resize",E)}).on("click","[data-pcc-toggle]",function(a){w(a,h.viewerNodes.$esignOverlay)}).on("click",'[data-pcc-esign="clear"]',function(){h.esignContext&&h.esignContext.clear&&h.esignContext.clear()}).on("click",'[data-pcc-esign="download"]',function(){h.viewerControl.downloadSignature(PCCViewer.Signatures.toArray()[0])}).on("click",
"[data-pcc-checkbox]",function(b){(a(b.target).data("pccCheckbox")?a(b.target):a(b.target).parent("[data-pcc-checkbox]")).toggleClass("pcc-checked")}).on("click",'[data-pcc-esign="save"]',function(){var b=h.viewerNodes.$esignOverlay.find("[data-pcc-checkbox]").hasClass("pcc-checked"),c=h.viewerNodes.$esignOverlay.find("[data-pcc-esign-category] .pcc-label").html();if(h.esignContext&&h.esignContext.done){var d=h.esignContext.done();if("M0,0"===d.path||""===d.text){h.closeEsignModal();return}d.category=
c;d.localSave=!!b;h.closeEsignModal();h.viewerNodes.$esignPlace.prop("disabled",!1).removeClass("pcc-disabled");PCCViewer.Signatures.add(d);h.eSignature.changeMouseToolSignature(d,!0);D({showContextMenu:!0,showAllEditControls:!1,mouseToolType:h.eSignature.mouseTool.getType()})}a(window).off("resize",E)}).on("click",'[data-pcc-esign="drawNew"]',h.launchESignFreehand).on("click",'[data-pcc-esign="typeNew"]',h.launchESignText).on("click","button",function(a){a.preventDefault()}).on("click",'[data-pcc-toggle-id*="dropdown"]',
function(a){p(a)});h.viewerNodes.$imageStampOverlay.on("click","[data-pcc-toggle]",function(a){w(a,h.viewerNodes.$imageStampOverlay)}).on("click",'[data-pcc-toggle-id*="dropdown"]',function(a){p(a)});h.viewerNodes.$pageRedactionLaunch.on("click",function(b){h.isPageRedactionCanceled=!1;if(g.template.pageRedactionOverlay)b=_.extend({show:"form",reasons:h.redactionReasonsExtended,enableCustomRedactionReason:!1},PCCViewer.Language.data),h.viewerNodes.$pageRedactionOverlay.html(_.template(g.template.pageRedactionOverlay)(b)).addClass("pcc-open"),
h.viewerNodes.$overlayFade.show(),h.autoApplyRedactionReason&&(h.fullPageRedactionReason=h.autoApplyRedactionReason),h.fullPageRedactionReason&&0<h.fullPageRedactionReason.length&&h.viewerNodes.$pageRedactionOverlay.find("[data-pcc-redaction-reason]").find(".pcc-label").text(h.fullPageRedactionReason),h.viewerNodes.$pageRedactionOverlay.find("[data-pcc-redaction-reason-input]").hide().on("keypress",function(b){b=a(this).val();if(h.redactionReasons.maxLengthFreeformRedactionReasons&&b.length+1>h.redactionReasons.maxLengthFreeformRedactionReasons)return h.notify({message:PCCViewer.Language.data.redactionReasonFreeforMaxLengthOver}),
!1}).on("keyup",function(b){h.fullPageRedactionReason=a(this).val()}),H(),d();else throw Error("The pageRedactionOverlay template is not defined in the viewer's options object.");});h.viewerNodes.$pageRedactionOverlay.on("click",'[data-pcc-page-redaction="cancel"]',function(){h.viewerNodes.$pageRedactionOverlay.removeClass("pcc-open");h.viewerNodes.$overlayFade.hide();h.isPageRedactionCanceled=!0}).on("click","[data-pcc-radio]",function(b){b=a(b.target).data("pccRadio")?a(b.target):a(b.target).parent("[data-pcc-radio]");
b.addClass("pcc-checked");h.viewerNodes.$pageRedactionOverlay.find('[data-pcc-radio="'+b.data("pccRadio")+'"]').not(this).removeClass("pcc-checked");d()}).on("click","[data-pcc-page-redaction=redactRange]",function(b){b=a(b.target).data("pccRadio")?a(b.target):a(b.target).parent("[data-pcc-radio]");b.addClass("pcc-checked");h.$dom.find('[data-pcc-radio="'+b.data("pccRadio")+'"]').not(this).removeClass("pcc-checked");d()}).on("focus","[data-pcc-page-redaction-range=include]",function(){var a=h.viewerNodes.$pageRedactionOverlay.find('[data-pcc-page-redaction="redactRange"]');
h.viewerNodes.$pageRedactionOverlay.find('[data-pcc-radio="'+a.data("pccRadio")+'"]').removeClass("pcc-checked");a.addClass("pcc-checked");d()}).on("keyup","[data-pcc-page-redaction-range=exclude]",function(b){b=a(b.target);f(b,{emptyIsValid:!0})}).on("keyup","[data-pcc-page-redaction-range=include]",function(b){b=a(b.target);f(b)}).on("click","[data-pcc-toggle]",function(a){w(a,h.viewerNodes.$contextMenu)}).on("click",".pcc-dropdown div",function(c){c=a(c.target);var d=c.parents(".pcc-select"),e=
c.text();h.fullPageRedactionReason="";"span"===c[0].nodeName.toLowerCase()&&(e=c.parent().text());d.data().pccRedactionReason!==b&&(e===PCCViewer.Language.data.redactionReasonFreeform?(h.viewerNodes.$pageRedactionOverlay.find("[data-pcc-redaction-reason-input]").show().focus(),d.find(".pcc-label").text(PCCViewer.Language.data.redactionReasonFreeform)):(h.viewerNodes.$pageRedactionOverlay.find("[data-pcc-redaction-reason-input]").hide(),h.fullPageRedactionReason=e,h.fullPageRedactionReason===PCCViewer.Language.data.redactionReasonClear?
(h.fullPageRedactionReason="",d.find(".pcc-label").text(PCCViewer.Language.data.pageRedactionOverlay.selectReason)):d.find(".pcc-label").text(h.fullPageRedactionReason)))}).on("click",'[data-pcc-page-redaction="submit"]',function(){var a=h.$dom.find("[data-pcc-page-redaction=redactCurrentPage]").hasClass("pcc-checked"),b=h.$dom.find("[data-pcc-page-redaction=redactRange]").hasClass("pcc-checked"),c=h.$dom.find("[data-pcc-page-redaction=redactAllPages]").hasClass("pcc-checked"),d=B(h.$dom.find("[data-pcc-page-redaction-range=include]")),
e=B(h.$dom.find("[data-pcc-page-redaction-range=exclude]")),f=h.viewerControl.getPageCount(),l=PCCViewer.Util.validatePageRange(d,{upperLimit:f}),m=0===e.length||PCCViewer.Util.validatePageRange(e,{upperLimit:f}),p,n=_.extend({show:"status"},PCCViewer.Language.data);c?m?p=_.difference(_.range(1,f+1),PCCViewer.Util.convertPageRangeToArray(e,{allowEmpty:!0})):h.notify({message:PCCViewer.Language.data.pageRedactionExcludeRangeError}):b?l?p=PCCViewer.Util.convertPageRangeToArray(d):h.notify({message:PCCViewer.Language.data.pageRedactionIncludeRangeError}):
a&&(p=[h.viewerControl.getPageNumber()]);p&&(h.viewerNodes.$pageRedactionOverlay.html(_.template(g.template.pageRedactionOverlay)(n)).addClass("pcc-open"),h.viewerNodes.$overlayFade.show(),k(p).then(function(a){if(!h.isPageRedactionCanceled){h.$dom.find("[data-pcc-page-redaction=resultCount]").html(PCCViewer.Language.data.pageRedactionOverlay.creatingRedactions);var b=Math.round(p.length/(p.length+1)*100)+"%";h.$dom.find("[data-pcc-page-redaction=resultPercent]").html(b);h.$dom.find("[data-pcc-page-redaction=loader]").css("width",
b);_.each(a,function(a,b){a=h.viewerControl.addMark(p[b],PCCViewer.Mark.Type.RectangleRedaction).setRectangle({x:0,y:0,width:a.width,height:a.height}).setInteractionMode(PCCViewer.Mark.InteractionMode.SelectionDisabled);h.fullPageRedactionReason&&0<h.fullPageRedactionReason.length&&a.setReason(h.fullPageRedactionReason)})}h.viewerNodes.$pageRedactionOverlay.removeClass("pcc-open");h.viewerNodes.$overlayFade.hide()},function(a){h.notify({message:PCCViewer.Language.data.pageRedactionAttributeRequestError});
h.viewerNodes.$pageRedactionOverlay.removeClass("pcc-open");h.viewerNodes.$overlayFade.hide()}))}).on("click","button",function(a){a.preventDefault()});h.viewerNodes.$printLaunch.on("click",function(a){a=_.extend({canPrintMarks:h.viewerControl.canPrintMarks(),show:"form"},PCCViewer.Language.data);h.viewerNodes.$printOverlay.html(_.template(g.template.printOverlay)(a)).addClass("pcc-open");h.viewerNodes.$overlayFade.show();H();l();m()});h.viewerNodes.$printOverlay.on("click",'[data-pcc-print="cancel"]',
function(){h.viewerNodes.$printOverlay.removeClass("pcc-open");h.viewerNodes.$overlayFade.hide();h.printRequest.cancel&&h.printRequest.cancel()}).on("click",'[data-pcc-print="optionsToggle"]',function(){h.viewerNodes.$printOverlay.find(".pcc-print-more-options").is(":visible")?(a(this).find("label").html("More options"),a(this).find("span").removeClass().addClass("pcc-arrow-down")):(a(this).find("label").html("Less options"),a(this).find("span").removeClass().addClass("pcc-arrow-up"));h.viewerNodes.$printOverlay.find(".pcc-print-more-options").slideToggle()}).on("click",
"[data-pcc-radio]",function(b){b=a(b.target).data("pccRadio")?a(b.target):a(b.target).parent("[data-pcc-radio]");b.addClass("pcc-checked");h.$dom.find('[data-pcc-radio="'+b.data("pccRadio")+'"]').not(this).removeClass("pcc-checked")}).on("click","[data-pcc-checkbox]",function(b){b=a(b.target).data("pccCheckbox")?a(b.target):a(b.target).parent("[data-pcc-checkbox]");b.hasClass("pcc-disabled")||(b.toggleClass("pcc-checked"),m())}).on("focus",'[data-pcc-print="range"]',function(){var a=h.$dom.find('[data-pcc-print-page="printRange"]');
h.$dom.find('[data-pcc-radio="'+a.data("pccRadio")+'"]').removeClass("pcc-checked");a.addClass("pcc-checked")}).on("keyup",'[data-pcc-print="range"]',function(b){b=a(b.target);h.viewerControl.validatePrintRange(B(b))?b.removeClass("pccError"):b.addClass("pccError")}).on("click",'[data-pcc-print="submit"]',function(){var a=h.$dom.find('[data-pcc-print-page="printCurrentPage"]').hasClass("pcc-checked"),b=h.$dom.find('[data-pcc-print-page="printRange"]').hasClass("pcc-checked"),c=B(h.$dom.find('[data-pcc-print="range"]')),
d=h.viewerControl.validatePrintRange(c),e=h.$dom.find('[data-pcc-select="orientation"]').val(),f=h.$dom.find('[data-pcc-select="paperSize"]').val(),k=h.$dom.find('[data-pcc-checkbox="printAnnotations"]').hasClass("pcc-checked"),l=h.$dom.find('[data-pcc-checkbox="printRedactions"]').hasClass("pcc-checked"),m=h.$dom.find('[data-pcc-checkbox="printMargins"]').hasClass("pcc-checked")?"default":"none",p=h.$dom.find('[data-pcc-select="printComments"]').val(),n=h.$dom.find('[data-pcc-select="printReasons"]').val(),
a={range:a?h.viewerControl.getPageNumber().toString():b?c:"all",orientation:e,paperSize:f,includeMarks:k,includeAnnotations:k,includeRedactions:l,margins:m,includeComments:p,includeReasons:n,redactionViewMode:h.viewerNodes.$printOverlay.find('[data-pcc-checkbox="printRedactionViewMode"]').hasClass("pcc-checked")?"Draft":"Normal"},q=0,r=function(){h.viewerNodes.$printOverlay.removeClass("pcc-open");h.viewerNodes.$overlayFade.hide()};k||l||(a.includeComments="none");l||(a.includeReasons="none",a.redactionViewMode=
"Normal");if(!b||b&&d)h.printRequest=h.viewerControl.print(a),h.viewerNodes.$printOverlay.html(_.template(g.template.printOverlay)(PCCViewer.Language.data)).addClass("pcc-open"),h.viewerNodes.$overlayFade.show(),h.printRequest.on(PCCViewer.PrintRequest.EventType.PrintPagePrepared,function(){q=Math.round(100*(h.printRequest.getPreparedCount()/h.printRequest.getPageCount()))+"%";h.$dom.find('[data-pcc-print="resultCount"]').html(PCCViewer.Language.data.printPreparingPage+" "+h.printRequest.getPreparedCount()+
" "+PCCViewer.Language.data.printPreparingPageOf+" "+h.printRequest.getPageCount());h.$dom.find('[data-pcc-print="resultPercent"]').html(q);h.$dom.find('[data-pcc-print="loader"]').css("width",q)}).on(PCCViewer.PrintRequest.EventType.PrintCompleted,function(){r()}).on(PCCViewer.PrintRequest.EventType.PrintFailed,function(){r();h.notify({message:PCCViewer.Language.data.printFailedError})});b&&!d&&(h.notify({message:PCCViewer.Language.data.printRangeError}),h.$dom.find('[data-pcc-print="range"]').addClass("pccError"))}).on("click",
"button",function(a){a.preventDefault()});h.viewerNodes.$contextMenu.on("click","[data-pcc-toggle]",function(a){w(a,h.viewerNodes.$contextMenu)}).on("click",".pcc-dropdown div",function(c){var d=a(c.target),e=d.parents(".pcc-select"),f=d.text();c=h.currentMarks[0];var g;"span"===d[0].nodeName.toLowerCase()&&(f=d.parent().text());e.hasClass("pcc-select-color")?d.hasClass("pcc-transparent-effect")?e.find(".pcc-swatch").addClass("pcc-transparent-effect").css("background","none"):e.find(".pcc-swatch").removeClass("pcc-transparent-effect").css("background-color",
d.css("background-color")):e.find(".pcc-label").text(f);c&&(e.data().pccFillColor!==b&&(g=d[0].style.backgroundColor,g=d.data("pccColorKey")?d.data("pccColorKey"):-1<g.indexOf("rgb")?x(g):g,c.setColor?c.setColor(g):c.setFillColor&&c.setFillColor(g)),e.data().pccFillOpacity!==b&&(g=Math.round(2.55*parseInt(f.replace(/\%/g,""),10)),c.setOpacity(g)),e.data().pccBorderColor!==b&&(g=d[0].style.backgroundColor,g=d.data("pccColorKey")?d.data("pccColorKey"):-1<g.indexOf("rgb")?x(g):g,c.setBorderColor(g)),
e.data().pccBorderWidth!==b&&(g=parseInt(f.replace(/^\s+|\s+$/g,""),10),c.setThickness?c.setThickness(g):c.setBorderThickness&&c.setBorderThickness(g)),e.data().pccFontColor!==b&&(d=x(d[0].style.backgroundColor),c.setFontColor(d)),e.data().pccFontName!==b&&c.setFontName(f),e.data().pccFontSize!==b&&c.setFontSize(parseFloat(f)),e.data().pccStampLabel!==b&&c.setLabel(f),e.data().pccRedactionReason!==b&&(e=f===PCCViewer.Language.data.redactionReasonClear?"":f,e===PCCViewer.Language.data.redactionReasonFreeform?
(D({showContextMenu:!0,enableCustomRedactionReason:!0,showAllEditControls:0!==c.getPageNumber()}),h.viewerNodes.$contextMenu.find("[data-pcc-redaction-reason-input]").focus(),c=h.viewerNodes.$contextMenu.find(".pcc-icon-list"),c.hasClass("pcc-active")||c.click()):(c.setReason(e),D({showContextMenu:!0,enableCustomRedactionReason:!1,showAllEditControls:0!==c.getPageNumber()}))))}).on("click","[data-pcc-font-style]",function(b){b=a(b.target);var c=b.data("pccFontStyle"),d=h.currentMarks[0],e=h.fontStyles;
b.toggleClass("pcc-active");-1===_.indexOf(e,c)?e.push(c):e.splice(_.indexOf(e,c),1);d&&d.setFontStyle(e)}).on("click","[data-pcc-font-align]",function(b){b=a(b.target);var c=b.data("counter"),c=c?c+1:1,d=h.currentMarks[0],e=[PCCViewer.Mark.HorizontalAlignment.Left,PCCViewer.Mark.HorizontalAlignment.Center,PCCViewer.Mark.HorizontalAlignment.Right],c=3===c?0:c;b.data("counter",c).attr({"class":"pcc-icon pcc-icon-text-"+e[c].toLowerCase(),title:PCCViewer.Language.data["paragraphAlign"+e[c]]});d&&d.setHorizontalAlignment(e[c])}).on("click",
"[data-pcc-delete-mark]",function(a){h.viewerControl.deleteMarks(h.currentMarks)}).on("click","[data-pcc-add-comment-context-menu]",function(a){h.currentMarks.length&&Ka.addComment(h.currentMarks[0].getConversation())}).on("click","[data-pcc-move-context-menu]",function(a){h.viewerNodes.$contextMenu.toggleClass("pcc-move-bottom")}).on("click","[data-pcc-move-mark]",function(b){h.viewerControl["moveMark"+a(b.target).data("pccMoveMark")](h.currentMarks[0])}).on("click",'[data-pcc-checkbox="includeInBurnedDocument"]',
function(c){c=a(this);var d=c.hasClass("pcc-checked"),e=h.currentMarks[0];c.toggleClass("pcc-checked");e&&e.setData("Accusoft-burnAnnotation",d?b:"1")}).on("click","button",function(a){a.preventDefault()});this.viewerNodes.$mouseTools.on("click",function(b){var c=a(b.target),d=c.data("pccMouseTool"),e=PCCViewer.MouseTools.getMouseTool(d);d&&e.getType()!==PCCViewer.MouseTool.Type.PlaceSignature&&!c.hasClass("pcc-disabled")&&(b.preventDefault(),e.getType()!==PCCViewer.MouseTool.Type.EditMarks&&h.viewerControl.deselectAllMarks(),
h.setMouseTool({mouseToolName:d,thisButton:c,sourceType:b.type}))});h.viewerNodes.$pageSelect.on("keydown",function(a){switch(a.keyCode){case 9:case 13:return a.target.blur(),!1;case 8:case 46:return!0;case 0:return!1}var b;(b=96<=a.keyCode&&105>=a.keyCode)||(a.originalEvent&&a.originalEvent.keyIdentifier?(b=parseInt(a.originalEvent.keyIdentifier.replace(/U\+/,""),10),b=30<=b&&39>=b):b=48<=a.keyCode&&57>=a.keyCode&&!a.shiftKey);return b||37<=a.keyCode&&40>=a.keyCode?!0:!1});h.viewerNodes.$pageSelect.on("change",
function(b){var c=a(b.target).val();0<c.length?c>h.viewerControl.getPageCount()||1>c?(b.target.className+=" pccError",setTimeout(function(){b.target.className=b.target.className.replace("pccError","");a(b.target).val(h.viewerControl.getPageNumber())},1200)):(h.viewerNodes.$pageSelect.val(c),"function"===typeof h.viewerControl.setPageNumber&&h.viewerControl.setPageNumber(+c)):a(b.target).val(h.viewerControl.getPageNumber())});h.viewerNodes.$redactionViewMode.on("click",function(){"Draft"===h.viewerControl.getRedactionViewMode()?
(h.viewerControl.setRedactionViewMode("Normal"),h.viewerNodes.$redactionViewMode.removeClass("pcc-active")):(h.viewerControl.setRedactionViewMode("Draft"),h.viewerNodes.$redactionViewMode.addClass("pcc-active"))});h.viewerNodes.$tabItems.on("click",function(b){b=a(b.currentTarget);var c=h.$dom.find(".pcc-trigger"),d=h.$dom.find(".pcc-tab-item"),e=h.viewerNodes.$dialogs,f=h.$dom.find(".pcc-context-menu"),g=b.parents(".pcc-tab").find(".pcc-tab-pane"),k=c.height(),l=k,m=window.innerWidth||document.documentElement.clientWidth||
document.body.clientWidth;d.removeClass("pcc-active");c.html(b.html());m<=h.tabBreakPoint&&(d.toggleClass("pcc-open"),b.hasClass("pcc-trigger")&&(h.$dom.find(".pcc-tab-item:not(.pcc-trigger)").removeClass("pcc-hide"),h.$dom.find('.pcc-tab-item:not(.pcc-trigger):contains("'+b.text().replace(/^\s+|\s+$/g,"")+'")').addClass("pcc-hide"),_.each(h.$dom.find(".pcc-tabset .pcc-tab-item"),function(b){l=a(b).parent().prev().find(".pcc-tab-item").hasClass("pcc-hide")?0:l;a(b).css("top",a(b).parent().index()*
k+l+"px")})));b.addClass("pcc-active");b.parents(".pcc-tab").siblings().find(".pcc-tab-pane").removeClass("pcc-open");g.addClass("pcc-open");g.hasClass("pcc-tab-vertical pcc-right")?(e.removeClass("pcc-vertical-offset-left").addClass("pcc-vertical-offset-right"),f.removeClass("pcc-vertical-offset-left").addClass("pcc-vertical-offset-right"),h.viewerNodes.$pageList.removeClass("pcc-vertical-offset-left").addClass("pcc-vertical-offset-right")):g.hasClass("pcc-tab-vertical")?(e.removeClass("pcc-vertical-offset-right").addClass("pcc-vertical-offset-left"),
f.removeClass("pcc-vertical-offset-right").addClass("pcc-vertical-offset-left"),h.viewerNodes.$pageList.removeClass("pcc-vertical-offset-right").addClass("pcc-vertical-offset-left")):b.hasClass("pcc-trigger")||(e.removeClass("pcc-vertical-offset-left").removeClass("pcc-vertical-offset-right"),f.removeClass("pcc-vertical-offset-left").removeClass("pcc-vertical-offset-right"),h.viewerNodes.$pageList.removeClass("pcc-vertical-offset-left").removeClass("pcc-vertical-offset-right"));M();!0===h.isFitTypeActive&&
h.viewerControl.fitContent(h.currentFitType)});h.viewerNodes.$toggles.on("click",function(a){w(a)});h.viewerNodes.$searchSubmit.on("click",function(a){a.stopPropagation();h.search.executeSearch()});h.viewerNodes.$searchCancel.on("click",function(a){h.search.cancelSearch()});h.viewerNodes.$searchInput.on("keydown",function(a){if(13===a.keyCode||9===a.keyCode)a.preventDefault(),h.search.executeSearch()});h.viewerNodes.$searchPrevResult.on("click",function(){return h.search.previousResultClickHandler(this)});
h.viewerNodes.$searchNextResult.on("click",function(){return h.search.nextResultClickHandler(this)});h.viewerNodes.$searchClear.on("click",function(a){h.search.clearSearch(a);M()});h.viewerNodes.$searchToggleAllPresets.on("click",function(b){b.stopPropagation();a(this).data("pcc-toggled")?(b=!1,a(this).data("pcc-toggled",!1)):(b=!0,a(this).data("pcc-toggled",!0));h.$dom.find("[data-pcc-predefined-search] input").prop("checked",b)});h.viewerNodes.$searchExactPhrase.on("click",function(a){return h.search.exactPhraseClickHandler(this)});
h.viewerNodes.$searchMatchCase.on("click",function(a){return h.search.matchCaseClickHandler(this)});h.viewerNodes.$searchMatchWholeWord.on("click",function(a){return h.search.matchWholeWordClickHandler(this)});h.viewerNodes.$searchBeginsWith.on("click",function(a){return h.search.beginsWithClickHandler(this)});h.viewerNodes.$searchEndsWith.on("click",function(a){return h.search.endsWithClickHandler(this)});h.viewerNodes.$searchWildcard.on("click",function(a){return h.search.wildcardClickHandler(this)});
h.$dom.find("[data-pcc-nav-tab=search]").on("click",function(){h.viewerNodes.$searchInput.focus()});h.viewerNodes.$dropdowns.on("click",p);a(document).click(function(b){b=a(b.target);var c=b.parents().hasClass("pcc-select"),d="dropdown-search-box"===b.data("pccToggle")||"dropdown-search-fixed-box"===b.data("pccToggle")||"dropdown-search-box"===b.parent().data("pccToggle")||"dropdown-search-fixed-box"===b.parent().data("pccToggle"),e="submit"===b.attr("data-pcc-search");c||d||e||h.$dom.find(".pcc-dropdown").removeClass("pcc-open").parents(".pcc-select").removeClass("pcc-active");
(c||d)&&h.$dom.find(".pcc-dropdown").not(b.parents(".pcc-select, .pcc-tab-pane").find(".pcc-dropdown")).removeClass("pcc-open")});h.$dom.on("click","button",function(a){a.preventDefault()})};this.initKeyBindings=function(){a("body").on("keydown",null,"pageup",function(){return a(h.viewerNodes.$pageList[0]).is(":visible")&&!a(h.viewerNodes.$overlayFade[0]).is(":visible")?(h.viewerControl.changeToPrevPage(),!1):!0});a("body").on("keydown",null,"home",function(){return a(h.viewerNodes.$pageList[0]).is(":visible")&&
!a(h.viewerNodes.$overlayFade[0]).is(":visible")?(h.viewerControl.changeToFirstPage(),!1):!0});a("body").on("keydown",null,"end",function(){return a(h.viewerNodes.$pageList[0]).is(":visible")&&!a(h.viewerNodes.$overlayFade[0]).is(":visible")?(h.viewerControl.changeToLastPage(),!1):!0});a("body").on("keydown",null,"pagedown",function(){a(h.viewerNodes.$pageList[0]).is(":visible")&&(a(h.viewerNodes.$overlayFade[0]).is(":visible")||h.viewerControl.changeToNextPage());return!0});a("body").on("keydown",
null,"Ctrl+g",function(){return a(h.viewerNodes.$pageList[0]).is(":visible")&&!a(h.viewerNodes.$overlayFade[0]).is(":visible")?(h.viewerNodes.$pageSelect.focus().select(),!1):!0});a("body").on("keydown",null,"down up left right",function(){a(h.viewerNodes.$pageList[0]).is(":visible")&&(h.$pageListContainerWrapper[0]||(h.$pageListContainerWrapper=h.viewerNodes.$pageList.find(".pccPageListContainerWrapper")),a(h.viewerNodes.$searchResults[0]).is(":visible")?document.activeElement===h.viewerNodes.$searchResults[0]||
document.activeElement===h.$pageListContainerWrapper[0]?h.prevActiveElement===h.viewerNodes.$searchResults[0]&&document.activeElement===h.$pageListContainerWrapper[0]?h.$pageListContainerWrapper.focus():h.prevActiveElement===h.$pageListContainerWrapper[0]&&document.activeElement===h.viewerNodes.$searchResults[0]&&h.viewerNodes.$searchResults.focus():document.activeElement!==h.$pageListContainerWrapper[0]&&h.$pageListContainerWrapper.focus():document.activeElement!==h.$pageListContainerWrapper[0]&&
h.$pageListContainerWrapper.focus());return!0});a("body").on("keydown",null,"= +",function(){return!a(h.viewerNodes.$pageList[0]).is(":visible")||a(h.viewerNodes.$overlayFade[0]).is(":visible")||h.viewerNodes.$zoomIn[0].className.match("pcc-disabled")?!0:(h.viewerControl.zoomIn(1.25),!1)});a("body").on("keydown",null,"-",function(){return!a(h.viewerNodes.$pageList[0]).is(":visible")||a(h.viewerNodes.$overlayFade[0]).is(":visible")||h.viewerNodes.$zoomOut[0].className.match("pcc-disabled")?!0:(h.viewerControl.zoomOut(1.25),
!1)});a("body").on("keydown",null,"del",function(){return a(h.viewerNodes.$pageList[0]).is(":visible")&&!a(h.viewerNodes.$overlayFade[0]).is(":visible")&&h.viewerControl.getSelectedMarks().length?(h.viewerControl.deleteMarks(h.currentMarks),!1):!0});a("body").on("keydown",null,"esc",function(){var b;if(a(h.viewerNodes.$pageList[0]).is(":visible"))if(a(h.viewerNodes.$overlayFade[0]).is(":visible")){if(a(h.viewerNodes.$esignOverlay[0]).is(":visible"))return b=h.$dom.find('[data-pcc-esign="cancel"]'),
b.click(),!1;if(a(h.viewerNodes.$imageStampOverlay[0]).is(":visible"))return b=h.$dom.find('[data-pcc-image-stamp="closer"]'),b.click(),!1;if(a(h.viewerNodes.$pageRedactionOverlay[0]).is(":visible"))return b=h.$dom.find('[data-pcc-page-redaction="cancel"]'),b.click(),!1;if(a(h.$dom.find("[data-pcc-download-overlay]")[0]).is(":visible"))return h.$dom.find("[data-pcc-download-overlay]").find(".pcc-overlay-closer").click(),!1;b=h.$dom.find('[data-pcc-print="cancel"]');if(a(b[0]).is(":visible"))return b.click(),
!1}else a(".pccPageListAboutModal button").is(":visible")&&a(".pccPageListAboutModal button").click();return!0});a("body").on("keydown",null,"tab",function(){if(h.prevActiveElement===h.viewerNodes.$searchResults[0]||document.activeElement===h.$pageListContainerWrapper[0])h.prevActiveElement=h.activeElement,h.activeElement=document.activeElement;return!0})};this.launchESignModal=function(a){h.viewerNodes.$esignOverlay.html(_.template(g.template.esignOverlay)(_.extend({signatures:PCCViewer.Signatures.toArray(),
activeTab:a,categories:g.signatureCategories?g.signatureCategories.split(","):b},PCCViewer.Language.data))).addClass("pcc-open");h.viewerNodes.$overlayFade.show()};this.launchESignFreehand=function(){h.viewerControl.deselectAllMarks();h.launchESignModal("freehand");h.esignContext=h.eSignature.getFreehandContext(h.viewerNodes.$esignOverlay.find('[data-pcc-esign="draw"]').get(0));a(window).on("resize",E)};this.launchESignText=function(){h.viewerControl.deselectAllMarks();h.launchESignModal("text");
h.esignContext=h.eSignature.getTextContext()};this.launchESignManage=function(){h.launchESignModal("manage");if(PCCViewer.Signatures.toArray().length){var a=h.viewerNodes.$esignOverlay.find("[data-pcc-esign=manageView]");a.html("");h.eSignature.getManageContext(a.get(0))}};this.closeEsignModal=function(){h.viewerNodes.$esignOverlay.removeClass("pcc-open");h.viewerNodes.$overlayFade.hide()};this.setMouseTool=function(c){c=c||{};c.thisButton||(c.thisButton=h.viewerNodes.$mouseTools.filter("[data-pcc-mouse-tool="+
c.mouseToolName+"]"));var d=c.mouseToolName,e=a(c.thisButton),f=h.stickyToolsAlwaysOn,g=e.hasClass("pcc-active");e.hasClass("pcc-locked");var k=!!this.stickyTools[PCCViewer.MouseTools.getMouseTool(d).getType()];if(k||d&&this.uiMouseToolName!==d)e=h.$dom.find("[data-pcc-mouse-tool*="+d+"]"),h.$dom.find("[data-pcc-mouse-tool]").not(e).removeClass("pcc-active pcc-locked"),f&&k?e.addClass("pcc-active pcc-locked"):g&&k&&!c.apiTrigger?e.toggleClass("pcc-locked"):e.addClass("pcc-active"),this.uiMouseToolName=
d,"AccusoftSelectToZoom"===this.uiMouseToolName&&(h.isFitTypeActive=!1,h.viewerNodes.$fitContent.removeClass("pcc-active")),this.viewerControl.setCurrentMouseTool(d),this.currentMarks=(c=PCCViewer.MouseTools.getMouseTool(d))&&c.getTemplateMark?[c.getTemplateMark()]:[],d=0===e.length||e.data("pccContextMenu")===b?!0:!!e.data("pccContextMenu"),D({showContextMenu:d,showAllEditControls:c.getType()===PCCViewer.MouseTool.Type.EditMarks,mouseToolType:c.getType()})};this.setMouseToolIfUnlocked=function(a,
b){a=h.viewerControl.getCurrentMouseTool();a=PCCViewer.MouseTools.getMouseTool(a).getName();a=h.viewerNodes.$mouseTools.filter("[data-pcc-mouse-tool="+a+"]");a.filter(".pcc-active.pcc-locked").length||(h.setMouseTool({mouseToolName:"AccusoftPanAndEdit",thisButton:a.filter(".pcc-active.pcc-locked").get(0)}),"function"===typeof b&&b())};this.notifyTimer=0;this.notify=function(a){var b=h.$dom.find("[data-pcc-notify]");"undefined"!==typeof a.type?b.attr("data-pcc-notify-type",a.type):b.attr("data-pcc-notify-type",
"error");b.addClass("pcc-open").find("p").text(a.message);a.sticky||(clearTimeout(h.notifyTimer),h.notifyTimer=setTimeout(function(){b.removeClass("pcc-open")},3E3))};this.createPageList=function(){try{this.viewerControl=new PCCViewer.ViewerControl(h.viewerNodes.$pageList.get(0),h.viewerControlOptions)}catch(a){h.notify({sticky:!0,message:a.message});h.viewerNodes.$pageList.hide();return}this.viewerControl.on(PCCViewer.EventType.EstimatedPageCountReady,Z);this.viewerControl.on(PCCViewer.EventType.PageCountReady,
A);this.viewerControl.on(PCCViewer.EventType.PageLoadFailed,Da);this.viewerControl.on(PCCViewer.EventType.PageChanged,ga);this.viewerControl.on(PCCViewer.EventType.MarkCreated,T);this.viewerControl.on(PCCViewer.EventType.MarkChanged,W);this.viewerControl.on(PCCViewer.EventType.MarkSelectionChanged,ha);this.viewerControl.on(PCCViewer.EventType.ScaleChanged,V);this.viewerControl.on(PCCViewer.EventType.ViewerReady,ma);this.viewerControl.on(PCCViewer.EventType.PageTextReady,ka);this.viewerControl.documentHasText().then(ja);
g.uiElements&&!1===g.uiElements.download||fb.init(this.viewerControl,g.template.downloadOverlay,PCCViewer.Language.data);g.immediateActionMenuMode&&"off"!==g.immediateActionMenuMode.toLowerCase()&&la.init({viewerControl:this.viewerControl,$overlay:h.viewerNodes.$overlay,$overlayFade:h.viewerNodes.$overlayFade,copyOverlay:g.template.copyOverlay,mode:g.immediateActionMenuMode,actions:this.immediateActionMenuActions,languageOptions:PCCViewer.Language.data,redactionReasons:h.redactionReasonsExtended,
redactionReasonMenuTrigger:pa.triggerMenu});Oa.init(this.viewerControl,PCCViewer.Language.data,g.template.hyperlinkMenu,K);pa.init(this.viewerControl,PCCViewer.Language.data,g.template.redactionReason,h.redactionReasons.reasons,h.redactionReasons.maxLengthFreeformRedactionReasons);h.thumbnailManager.init({viewerControl:this.viewerControl,container:h.viewerNodes.$thumbnailDialog,viewer:h.$dom,dom:h.viewerNodes.$thumbnailList});h.thumbnailManager.on("resize",function(a,b){M();!0===h.isFitTypeActive&&
h.viewerControl.fitContent(h.currentFitType)});h.thumbnailManager.on("reset",function(a){h.viewerNodes.$pageList.css("padding-left","");!0===h.isFitTypeActive&&h.viewerControl.fitContent(h.currentFitType)})};this.destroy=function(){h.viewerControl&&(h.viewerControl.destroy(),delete h.viewerControl);h.$dom.removeClass("pccv pcc-full-screen");h.$dom.removeData("PCCViewer.Viewer");h.$dom.empty();_.each(f,function(b){a(window).off("resize",b)})};this.search=function(){function c(){var a=h.viewerNodes.$searchQuickActionsSearchTerms.find(".pcc-checked");
h.viewerNodes.$searchQuickActions.removeClass("pcc-hide");h.viewerNodes.$searchQuickActionRedactOptions.addClass("pcc-hide");h.viewerNodes.$searchQuickActionsSearchTerms.find(".pcc-section-title").html(PCCViewer.Language.data.searchQuickActions.searchTerms);var b=h.viewerNodes.$searchQuickActionsSearchTerms.find(".pcc-quick-action-search-term");0!==a.length&&e.getIsComplete&&e.getIsComplete()&&f?a.length<b.length?(h.viewerNodes.$searchQuickActionRedact.removeAttr("disabled"),h.viewerNodes.$searchRedact.html(PCCViewer.Language.data.searchQuickActions.redactSelected)):
(h.viewerNodes.$searchQuickActionRedact.removeAttr("disabled"),h.viewerNodes.$searchRedact.html(PCCViewer.Language.data.searchQuickActions.redactAll)):h.viewerNodes.$searchQuickActionRedact.attr("disabled",!0);b.length||h.viewerNodes.$searchQuickActionsContainer.find("[data-pcc-section=quickActionSearchTerms] .pcc-section-content").empty().append(document.createTextNode(PCCViewer.Language.data.searchFilters.noTerms))}function d(){h.viewerNodes.$searchQuickActionsToggle.on("click",function(){a(this).hasClass("pcc-active")&&
c()});h.viewerNodes.$searchQuickActionsContainer.on("click",".pcc-section-title",function(){a(this).parent(".pcc-section").toggleClass("pcc-expand")});h.viewerNodes.$searchQuickActionRedact.on("click",function(){var a,b,c,d=[];a=Q(PCCViewer.Mark.Type.TextSelectionRedaction);b=h.viewerNodes.$searchQuickActionsSearchTerms.find(".pcc-checked");h.viewerNodes.$searchQuickActionsSearchTerms.find(".pcc-quick-action-term:not(.pcc-checked)").hide();h.viewerNodes.$searchQuickActionsSearchTerms.find(".pcc-section-title").html(PCCViewer.Language.data.searchQuickActions.selectionList);
c=_.map(b,function(a){return a.getAttribute("data-pcc-quick-action-term")});_.each(k,function(b){var e;b instanceof PCCViewer.SearchResult&&-1<_.indexOf(c,b.getSearchTerm().searchTerm)&&(e="T"+PCCViewer.Mark.Type.TextSelectionRedaction+"P"+b.getPageNumber()+"I"+b.getStartIndexInPage()+"L"+b.getText().length,"undefined"!==typeof a[e]&&(d=d.concat(a[e])),e=h.viewerControl.addMark(b.getPageNumber(),PCCViewer.Mark.Type.TextSelectionRedaction),e.setPosition({length:b.getText().length,pageNumber:b.getPageNumber(),
startIndex:b.getStartIndexInPage(),text:b.getText()}),wa.push(e))});d.length&&h.viewerControl.deleteMarks(d);Z();h.notify({message:PCCViewer.Language.data.searchQuickActions.redactionCompleted,type:"success"});h.viewerNodes.$searchQuickActionRedactOptions.removeClass("pcc-hide");h.viewerNodes.$searchQuickActionRedactOptions.height(h.viewerNodes.$searchQuickActionRedactOptions.height());h.viewerNodes.$searchQuickActions.addClass("pcc-hide");b.removeClass("pcc-checked")});h.viewerNodes.$searchQuickActionRedactionDropdownContainer.on("click",
function(b){a(b.currentTarget).toggleClass("pcc-active");h.viewerNodes.$searchQuickActionRedactionDropdown.toggleClass("pcc-open");da(h.viewerNodes.$searchQuickActionRedactionDropdown)});h.viewerNodes.$searchQuickActionRedactionDropdown.on("click",function(b){var c=b.target.innerHTML,d=h.viewerNodes.$searchQuickActionRedactionDropdown.find("[data-clear-item]");c===PCCViewer.Language.data.redactionReasonFreeform?(h.viewerNodes.$searchQuickActionRedactionInput.removeClass("pcc-hide"),h.viewerNodes.$searchQuickActionRedactionDropdownLabel.html(a(b.target).html())):
c===PCCViewer.Language.data.redactionReasonClear?(h.viewerNodes.$searchQuickActionRedactionInput.addClass("pcc-hide"),_.each(wa,function(a){a.setReason("")}),d.addClass("pcc-must-hide"),h.viewerNodes.$searchQuickActionRedactionDropdownLabel.html(PCCViewer.Language.data.searchQuickActions.redactionReasonDropdownSelect)):(h.viewerNodes.$searchQuickActionRedactionDropdownLabel.html(a(b.target).html()),h.viewerNodes.$searchQuickActionRedactionInput.addClass("pcc-hide"),_.each(wa,function(a){a.setReason(c)}),
d.removeClass("pcc-must-hide"))});h.viewerNodes.$searchQuickActionRedactDone.on("click",function(a){wa=[];h.viewerNodes.$searchQuickActionRedactionInput.html("").addClass("pcc-hide");h.viewerNodes.$searchQuickActionRedactionDropdownLabel.html(PCCViewer.Language.data.searchQuickActions.redactionReasonDropdownSelect);h.viewerNodes.$searchQuickActions.removeClass("pcc-hide");h.viewerNodes.$searchQuickActionRedactOptions.addClass("pcc-hide");h.viewerNodes.$searchQuickActionsSearchTerms.find(".pcc-quick-action-term:not(.pcc-checked)").show();
h.viewerNodes.$searchQuickActionsToggle.click();h.viewerNodes.$searchQuickActionsSearchTerms.find(".pcc-section-title").html(PCCViewer.Language.data.searchQuickActions.searchTerms)});h.viewerNodes.$searchQuickActionRedactionInput.on("blur keypress",function(b){var c=h.viewerNodes.$searchQuickActionRedactionDropdown.find("[data-clear-item]"),d=a(this).val();if("blur"===b.type||"keypress"===b.type&&13===b.keyCode)_.each(wa,function(a){a.setReason(d)}),d.length?c.removeClass("pcc-must-hide"):c.addClass("pcc-must-hide")})}
var e={},f=0,k=[],l,m,p=[],n=[],q={},r=h.$dom.find("[data-pcc-toggle=advanced-options]"),t=h.$dom.find('[data-pcc-toggle-id="advanced-options"]'),u=h.$dom.find("[data-pcc-search-container-toggle]"),w=h.$dom.find("[data-pcc-search-container]"),v=h.$dom.find("[data-pcc-search-container=filter] [data-pcc-section]"),y=h.$dom.find(".pcc-row-results-header").children(),x={},A={},E={},D={},F={},H=a({}),J,L=[],K=!1,Ha=!1,wa=[],Q=function(a){var b={},c;c=h.viewerControl.getMarksByType(a);_.each(c,function(c){var d;
d=c.getPosition();d="T"+a+"P"+c.getPageNumber()+"I"+d.startIndex+"L"+d.length;"undefined"===typeof b[d]?b[d]=[c]:b[d].push(c)});return b};H.on("selectResult",function(b,c){l=a(c.node);h.viewerNodes.$searchResults.find(".pcc-row.pcc-active").removeClass("pcc-active");l.addClass("pcc-active");h.viewerControl.deselectAllMarks();h.viewerControl.setSelectedSearchResult(null);H.trigger("deselectPreviousResult");cb();b=l.index()+1;h.viewerNodes.$searchResultCount.html("Viewing Result "+b+" of "+f);h.viewerNodes.$searchResultsContainer.addClass("pcc-hide");
h.viewerNodes.$searchDialog.removeClass("pcc-expand").find('[data-pcc-search-container-toggle="results"]').removeClass("pcc-active")});var S={elem:function(a,b){b=b||{};a=document.createElement(a||"div");"string"===typeof b.className&&(a.className=b.className);"undefined"!==typeof b.text&&a.appendChild(document.createTextNode(b.text.toString()));return a},textContext:function(a){var b,c,d;b=S.elem("div",{className:Ha?"pcc-col-8":"pcc-col-10"});c=S.elem("span",{className:"match",text:a.getText()});
c.style.color=a.getHighlightColor();d=a.getContext().substr(0,a.getStartIndexInContext());a=a.getContext().substr(a.getText().length+a.getStartIndexInContext());d&&b.appendChild(document.createTextNode("..."+d));b.appendChild(c);a&&b.appendChild(document.createTextNode(a+"..."));return b},pageNumber:function(a){return S.elem("div",{className:"pcc-col-2 pcc-center",text:a})},typeIcon:function(){return g.uiElements&&g.uiElements.advancedSearch?S.elem("div",{className:"pcc-search-type"}):S.elem("div")},
searchResult:function(b){var c,d,e;c=S.elem("div",{className:"pcc-row"});c.setAttribute("data-pcc-search-result-id",b.getId());d=S.pageNumber(b.getPageNumber());e=S.textContext(b);c.appendChild(d);c.appendChild(e);c.appendChild(S.typeIcon());a(c).on("click",function(a,d){H.trigger("selectResult",{type:"search",result:b,node:c});h.viewerControl.setSelectedSearchResult(b,!d)});m===b.getId()&&(m=null,a(c).trigger("click",!0));return c},mark:function(b){var c=b.source,d=PCCViewer.Language.data.markType[c.getType()],
e=ha(b),f="M"+c.getId();c.getType()===PCCViewer.Mark.Type.LineAnnotation&&c.getEndHeadType()===PCCViewer.Mark.LineHeadType.FilledTriangle&&(d=PCCViewer.Language.data.markType.ArrowAnnotation);"redaction"===e&&c.getReason&&(e=c.getReason()||PCCViewer.Language.data.searchFilters.reasonUndefined,d+=" - "+e);var g=S.elem("div",{className:"pcc-row"}),e=S.pageNumber(c.getPageNumber());g.setAttribute("data-pcc-search-result-id",f);d=b instanceof PCCViewer.SearchTaskResult?S.textContext(b):S.elem("div",{className:Ha?
"pcc-col-8":"pcc-col-10",text:d});g.appendChild(e);g.appendChild(d);g.appendChild(S.typeIcon());a(g).on("click",function(a,d){H.trigger("selectResult",{type:"mark",result:b,node:g});h.viewerControl.getMarkById(c.getId())&&(!0!==d&&(h.viewerControl.selectMarks([c]),h.viewerControl.scrollTo(c)),Ma(c,b));H.one("deselectPreviousResult",function(){h.viewerControl.getMarkById(c.getId())&&Ma(c)})});m===f&&(m=null,a(g).trigger("click",!0));return g},comment:function(b){var c=b.source,d=S.elem("div",{className:"pcc-row"}),
e=S.pageNumber(b.getPageNumber()),f=S.textContext(b),g="C"+b.getId();d.appendChild(e);d.appendChild(f);d.appendChild(S.typeIcon());d.setAttribute("data-pcc-search-result-id",g);a(d).on("click",function(a,e){H.trigger("selectResult",{type:"comment",result:b,node:d});var f=_.filter(k,function(a){return a.source&&a.source===b.source});c.setData("Accusoft-highlight",M(f,b));h.viewerControl.getMarkById(c.getConversation().getMark().getId())&&(h.viewerControl.refreshConversations(c.getConversation()),!0!==
e&&(h.viewerControl.selectMarks([c.getConversation().getMark()]),!1===h.viewerControl.getIsCommentsPanelOpen()&&h.viewerControl.openCommentsPanel(),h.viewerControl.scrollTo(c.getConversation())),H.one("deselectPreviousResult",function(){c.setData("Accusoft-highlight",M(f));h.viewerControl.getMarkById(c.getConversation().getMark().getId())&&h.viewerControl.refreshConversations(c.getConversation())}));Ka&&Ka.expandComment(c.getConversation().getMark().getId())});m===g&&(m=null,a(d).trigger("click",
!0));return d},select:function(a){return a instanceof PCCViewer.SearchResult?S.searchResult(a):a instanceof PCCViewer.SearchTaskResult&&a.source instanceof PCCViewer.Comment?S.comment(a):S.mark(a)}},M=function(a,b){return _.reduce(a,function(a,c){a.push(["startIndex="+c.getStartIndexInInput(),"length="+c.getText().length,"color="+c.getHighlightColor(),"opacity="+(c===b?200:100)].join("&"));return a},[]).join("|")},sa=function(a){a=_.chain(a).filter(function(a){return a.source&&a.source instanceof
PCCViewer.Comment}).reduce(function(a,b){var c=_.find(a,function(a){return a.source===b.source});c?c.selections.push(b):(c={source:b.source,selections:[b]},a.push(c));return a},[]).map(function(a){a.selectionString=M(a.selections);a.source.setData("Accusoft-highlight",a.selectionString);return a.source.getConversation()}).value();a.length&&h.viewerControl.refreshConversations(a)},Ma=function(a,b){if(a&&a.highlightText){var c=_.filter(k,function(b){return b.source&&b.source===a&&b instanceof PCCViewer.SearchTaskResult}),
c=_.map(c,function(c){return{startIndex:c.getStartIndexInInput(),length:c.getText().length,color:c.getHighlightColor(),opacity:K&&a.getType()===PCCViewer.Mark.Type.HighlightAnnotation?c===b?100:0:c===b?200:100}});a.highlightText(c)}},V=function(a){a=_.chain(a).filter(function(a){return a.source&&a.source instanceof PCCViewer.Mark}).map(function(a){return a.source}).unique().value();_.each(a,function(a){Ma(a)})},Ua=function(a){var c=[];_.chain(a).filter(function(a){return a.source&&a.source instanceof
PCCViewer.Comment&&a.source.getData("Accusoft-highlight")}).map(function(a){_.contains(c,a.source.getConversation())||c.push(a.source.getConversation());a.source.setData("Accusoft-highlight",b)});a=_.filter(c,function(a){return!!h.viewerControl.getMarkById(a.getMark().getId())});a.length&&h.viewerControl.refreshConversations(a)},ab=function(a){_.forEach(h.viewerControl.getAllMarks(),function(a){a.clearHighlights&&a.clearHighlights()})},R=function(){var b={},c,d,e=0,f,g;"undefined"!==typeof h.presetSearch.globalOptions&&
(b=h.presetSearch.globalOptions);"undefined"!==typeof h.presetSearch.highlightColor&&(f=h.presetSearch.highlightColor);"undefined"!==typeof h.presetSearch.fixed&&(g=h.presetSearch.fixed);for(e;e<h.presetSearch.terms.length;e++)d={matchingOptions:{}},c=h.presetSearch.terms[e],d.description="undefined"===typeof c.description?c.searchTerm:c.description,"undefined"!==typeof c.userDefinedRegex?(d.searchTermName=c.searchTerm,d.searchTerm=c.userDefinedRegex):"undefined"!==typeof c.searchTerm&&(d.searchTerm=
c.searchTerm),d.searchTermIsRegex="undefined"!==typeof c.searchTermIsRegex?c.searchTermIsRegex:!1,"undefined"===typeof c.options?c.matchingOptions={}:(c.matchingOptions=c.options,delete c.options),"undefined"!==typeof c.matchingOptions.matchCase?d.matchingOptions.matchCase=c.matchingOptions.matchCase:"undefined"===typeof c.matchingOptions.matchCase&&"undefined"!==typeof b.matchCase&&(d.matchingOptions.matchCase=b.matchCase),"undefined"!==typeof c.matchingOptions.endsWith?d.matchingOptions.endsWith=
c.matchingOptions.endsWith:"undefined"===typeof c.matchingOptions.endsWith&&"undefined"!==typeof b.endsWith&&(d.matchingOptions.endsWith=b.endsWith),"undefined"!==typeof c.matchingOptions.beginsWith?d.matchingOptions.beginsWith=c.matchingOptions.beginsWith:"undefined"===typeof c.matchingOptions.beginsWith&&"undefined"!==typeof b.beginsWith&&(d.matchingOptions.beginsWith=b.beginsWith),"undefined"!==typeof c.matchingOptions.matchWholeWord?d.matchingOptions.matchWholeWord=c.matchingOptions.matchWholeWord:
"undefined"===typeof c.matchingOptions.matchWholeWord&&"undefined"!==typeof b.matchWholeWord&&(d.matchingOptions.matchWholeWord=b.matchWholeWord),"undefined"!==typeof c.matchingOptions.exactPhrase?d.matchingOptions.exactPhrase=c.matchingOptions.exactPhrase:"undefined"===typeof c.matchingOptions.exactPhrase&&"undefined"!==typeof b.exactPhrase&&(d.matchingOptions.exactPhrase=b.exactPhrase),"undefined"!==typeof c.highlightColor?d.highlightColor=c.highlightColor:"undefined"===typeof c.highlightColor&&
"undefined"!==typeof f&&(d.highlightColor=f),"undefined"!==typeof c.fixed?d.fixed=c.fixed:"undefined"===typeof c.fixed&&"undefined"!==typeof g&&(d.fixed=g),!0===d.fixed?n.push(d):("undefined"!==typeof c.selected&&(d.selected=c.selected),p.push(d));0<n.length&&(a('[data-pcc-toggle="dropdown-search-fixed-box"]').removeClass("pcc-hide"),a('[data-pcc-search="clear"]').addClass("pcc-offset-right"),a('[data-pcc-section="searchFixedTerms"]').removeClass("pcc-hide"))},T=function(){function b(a,c,d){var e=
document.createElement("label"),f=document.createElement("input");a=document.createTextNode(a);f.type="checkbox";f.setAttribute("data-pcc-search-preset-id",c);d&&f.setAttribute("checked","checked");e.appendChild(f);e.appendChild(a);return e}function c(a){var b=document.createElement("label");document.createElement("input");a=document.createTextNode(a);b.appendChild(a);return b}var d=document.createDocumentFragment(),e=document.createDocumentFragment(),f;a.each(n,function(a,b){e.appendChild(c(b.description))});
a.each(p,function(a,c){f=!0===c.selected?'checked="checked"':"";d.appendChild(b(c.description,a,f))});h.viewerNodes.$searchPresetsContainer.append(d);h.viewerNodes.$searchFixedPresetsContainer.append(e)},Z=function(){La(D,k,a(".pcc-search-filter-container [data-pcc-section=searchTerms] .pcc-section-content"),ka,"filter",E,!0,!1);La(D,k,a(".pcc-search-filter-container [data-pcc-section=searchFixedTerms] .pcc-section-content"),ka,"filter",A,!1,!0);La(D,k,a(".pcc-search-quick-actions-container [data-pcc-section=quickActionSearchTerms] .pcc-section-content"),
pa,"quick-action",x,!0,!0,!0)},aa=function(c,d){var e=B(h.viewerNodes.$searchInput).replace(/^\s+|\s+$/g,"").replace(/\s+/g," "),f,g=[],k=h.viewerNodes.$searchInput.hasClass("pcc-placeholder"),l={exactPhrase:h.viewerNodes.$searchExactPhrase.hasClass("pcc-active")?!0:!1,matchCase:h.viewerNodes.$searchMatchCase.hasClass("pcc-active")?!0:!1,matchWholeWord:h.viewerNodes.$searchMatchWholeWord.hasClass("pcc-active")?!0:!1,beginsWith:h.viewerNodes.$searchBeginsWith.hasClass("pcc-active")?!0:!1,endsWith:h.viewerNodes.$searchEndsWith.hasClass("pcc-active")?
!0:!1,wildcard:h.viewerNodes.$searchWildcard.hasClass("pcc-active")?!0:!1};if(c){var m=_.isEqual(l,F),e=a('[data-pcc-section="searchTerms"]').find(".pcc-checked");d=a('[data-pcc-section="searchFixedTerms"]').find(".pcc-checked");if(0===e.length||0===d.length)if(c=a('[data-pcc-section="searchTerms"]').find(".pcc-filter-term"),k=a('[data-pcc-section="searchFixedTerms"]').find(".pcc-filter-term"),0===c.length||0===k.length)return aa(!1);_.forEach(A,function(a){a.isInUse=!1});_.forEach(E,function(a){a.isInUse=
!1;!m&&a.isUserSearch&&(a.searchOption.matchingOptions=l)});m||(F=_.clone(l));var q=function(a,b){a=a.getAttribute("data-pcc-filter-term");if(b=b[a])return b.isInUse=!0,b.searchOption},e=_.map(e,function(a){return q(a,E)});d=_.map(d,function(a){return q(a,A)});g=_.compact(d.concat(e))}else{if(k)return{searchTerms:[]};F=_.clone(l);l.exactPhrase?e.length&&g.push({searchTerm:e,highlightColor:b,searchTermIsRegex:!1,contextPadding:25,matchingOptions:l}):(c=e.split(" "),c=_.unique(c),_.forEach(c,function(a){a.length&&
g.push({searchTerm:a,highlightColor:b,searchTermIsRegex:!1,contextPadding:25,matchingOptions:l})}));_.forEach(g,function(a){a.isUserSearch=!0});g=n.concat(g.slice(0));d||p.length&&h.$dom.find("input:checked").each(function(b,c){f=a(c).data("pccSearchPresetId");g.push(p[f])});_.forEach(g,function(a){var c=a.searchTerm,d={searchOption:a,prettyName:a.searchTermName||a.searchTerm,prevCount:b,isInUse:!0,isUserSearch:!!a.isUserSearch};x[c]=_.clone(d);x[c].searchOption=_.clone(a);!0===a.fixed?A[c]=d:E[c]=
d});ca({searchTerm:e,matchingOptions:l})}return{searchTerms:g}},ca=function(b){var c=h.viewerNodes.$searchPreviousContainer;if("undefined"===typeof q[b.searchTerm]){q[b.searchTerm]=b;c.find(".pcc-placeholder").addClass("pcc-hide");var d=document.createElement("div"),e=document.createElement("div"),f=document.createElement("div"),g=document.createTextNode(b.searchTerm);e.className="pcc-search-previous-query";e.setAttribute("data-pcc-search-previous-id",b.searchTerm);e.appendChild(g);f.innerHTML="&#215;";
f.setAttribute("data-pcc-search-previous-id",b.searchTerm);f.className="pcc-remove-previous";d.appendChild(e);d.appendChild(f);a(e).on("click",function(){var a;a=this.getAttribute("data-pcc-search-previous-id");a=q[a];h.viewerNodes.$searchInput.val(a.searchTerm);ma(a.matchingOptions);h.viewerNodes.$searchSubmit.click()});a(f).one("click",function(b){b.stopPropagation();b=a(this).parent();var c=a(this).attr("data-pcc-search-previous-id");b.remove();delete q[c];0===_.keys(q).length&&h.viewerNodes.$searchPreviousContainer.find(".pcc-placeholder").removeClass("pcc-hide")});
c.prepend(d)}},ma=function(a){(!0===a.exactPhrase&&!h.viewerNodes.$searchExactPhrase.hasClass("pcc-active")||!1===a.exactPhrase&&h.viewerNodes.$searchExactPhrase.hasClass("pcc-active"))&&h.viewerNodes.$searchExactPhrase.click();(!0===a.matchCase&&!h.viewerNodes.$searchMatchCase.hasClass("pcc-active")||!1===a.matchCase&&h.viewerNodes.$searchMatchCase.hasClass("pcc-active"))&&h.viewerNodes.$searchMatchCase.click();(!0===a.matchWholeWord&&!h.viewerNodes.$searchMatchWholeWord.hasClass("pcc-active")||
!1===a.matchWholeWord&&h.viewerNodes.$searchMatchWholeWord.hasClass("pcc-active"))&&h.viewerNodes.$searchMatchWholeWord.click();(!0===a.beginsWith&&!h.viewerNodes.$searchBeginsWith.hasClass("pcc-active")||!1===a.beginsWith&&h.viewerNodes.$searchBeginsWith.hasClass("pcc-active"))&&h.viewerNodes.$searchBeginsWith.click();(!0===a.endsWith&&!h.viewerNodes.$searchEndsWith.hasClass("pcc-active")||!1===a.endsWith&&h.viewerNodes.$searchEndsWith.hasClass("pcc-active"))&&h.viewerNodes.$searchEndsWith.click();
(!0===a.wildcard&&!h.viewerNodes.$searchWildcard.hasClass("pcc-active")||!1===a.wildcard&&h.viewerNodes.$searchWildcard.hasClass("pcc-active"))&&h.viewerNodes.$searchWildcard.click()},ea=function(){h.$dom.find(".pcc-row-results-status").removeClass("pcc-done");h.viewerNodes.$searchResultCount.html(PCCViewer.Language.data.searching);H.trigger("open");h.viewerNodes.$searchDialog.find("button").prop("disabled",!1)},W=function(a,b,c){a.length&&h.viewerNodes.$searchResultCount.html(a);"boolean"===typeof b&&
!0===b?(h.viewerNodes.$searchResultsContainer.addClass("pcc-loading"),h.viewerNodes.$searchStatus.show()):(h.viewerNodes.$searchResultsContainer.removeClass("pcc-loading"),h.viewerNodes.$searchStatus.hide());"number"===typeof c&&(0>c?c=0:100<c&&(c=100),h.$dom.find(".pcc-row-results-status .pcc-bar").css("width",c+"%"))},ga=function(){var b=[].sort;return function(c,d){c=b.call(a(c).get(),d);if(0!==c.length){var e=c.shift();a(e).insertBefore(e.parentNode.firstChild);a(c).each(function(a,b){b.parentNode.insertBefore(b,
e.nextSibling);e=b})}}}(),ha=function(a){if(a instanceof PCCViewer.SearchResult)return"search";if(a.source&&a.source instanceof PCCViewer.Mark){var b=a.source.getType();if(b.match(/redaction/i))return"redaction";if(b.match(/annotation/i))return"annotation";if(b.match(/signature/i))return"signature"}return a.source&&a.source instanceof PCCViewer.Comment?"comment":"unknown"},Ca=function(){ga(h.viewerNodes.$searchResults.children(),function(b,c){function d(a){return{pccPageNumber:a.attr("data-pcc-page-number"),
pccSortIndex:a.attr("data-pcc-sort-index"),pccRectY:a.attr("data-pcc-rect-y"),pccRectX:a.attr("data-pcc-rect-x"),pccAdtlIndex:a.attr("data-pcc-adtl-index")}}b=d(a(b));c=d(a(c));return b.pccPageNumber!==c.pccPageNumber?b.pccPageNumber-c.pccPageNumber:b.pccSortIndex!==c.pccSortIndex?b.pccSortIndex-c.pccSortIndex:b.pccRectY!==c.pccRectY?b.pccRectY-c.pccRectY:b.pccRectX!==c.pccRectX?b.pccRectX-c.pccRectX:b.pccAdtlIndex!==c.pccAdtlIndex?b.pccAdtlIndex-c.pccAdtlIndex:0});h.viewerNodes.$searchResults.find(".pcc-row:even").removeClass("pcc-odd");
h.viewerNodes.$searchResults.find(".pcc-row:odd").addClass("pcc-odd")},ua,ja=0,xa=function(c){var d=document.createDocumentFragment(),e={},g="",l,m;_.each(c,function(c){l=S.select(c);g="pcc-search-result-"+ha(c);a(l).addClass(g);var k=c.index!==b?c.index:c.getStartIndexInPage();if(-2===k&&-2===c.index){L.push({domElement:l,searchResult:c});var p=c.getPageNumber();Ea[p]=Ea[p]||h.viewerControl.isPageTextReady(p);!0!==Ea[p]&&h.viewerControl.requestPageText(p)}l.setAttribute("data-pcc-page-number",c.getPageNumber());
l.setAttribute("data-pcc-sort-index",k);k=c instanceof PCCViewer.SearchResult?c.getStartIndexInPage():c instanceof PCCViewer.SearchTaskResult?c.getStartIndexInInput():0;l.setAttribute("data-pcc-adtl-index",k);e=c.getBoundingRectangle();l.setAttribute("data-pcc-rect-x",e.x);l.setAttribute("data-pcc-rect-y",e.y);d.appendChild(l);f++;m=1===f?PCCViewer.Language.data.searchResultFound:PCCViewer.Language.data.searchResultsFound;W(f+m,!0,100*(c.getPageNumber()/h.pageCount))});h.viewerNodes.$searchResults.append(d);
50>k.length?Ca():(c=Math.min(200*ja,1E3),ja+=1,ua&&(clearTimeout(ua),ua=b),ua=setTimeout(Ca,c))},ka=function(){a(this).toggleClass("pcc-checked");J=b;J=function(){la(!0)}},pa=function(){a(this).toggleClass("pcc-checked");var b=h.viewerNodes.$searchQuickActionsSearchTerms.find(".pcc-quick-action-search-term"),c=h.viewerNodes.$searchQuickActionsSearchTerms.find(".pcc-checked");0!==c.length&&e.getIsComplete&&e.getIsComplete()&&f?c.length<b.length?(h.viewerNodes.$searchQuickActionRedact.removeAttr("disabled",
!0),h.viewerNodes.$searchRedact.html(PCCViewer.Language.data.searchQuickActions.redactSelected)):(h.viewerNodes.$searchQuickActionRedact.removeAttr("disabled",!0),h.viewerNodes.$searchRedact.html(PCCViewer.Language.data.searchQuickActions.redactAll)):h.viewerNodes.$searchQuickActionRedact.attr("disabled",!0)},sb=function(a){k.push.apply(k,a.partialSearchResults);xa(a.partialSearchResults);a.partialSearchResults&&a.partialSearchResults.length&&Z()},oa=function(a){Y();var b="";W(0===f?PCCViewer.Language.data.nothingFound:
"",!1,100);h.viewerNodes.$searchCancel.addClass("pcc-hide");h.viewerNodes.$searchSubmit.removeClass("pcc-hide");h.viewerNodes.$searchStatus.addClass("pcc-done");k.length&&h.viewerNodes.$searchQuickActionRedact.removeAttr("disabled");f?h.viewerNodes.$searchResultsContainer.addClass("pcc-show-lg"):h.viewerNodes.$searchResultsContainer.removeClass("pcc-show-lg");a=e.getPagesWithoutText?e.getPagesWithoutText().length:0;h.pageCount===a?(b=PCCViewer.Language.data.noSearchableText,h.viewerNodes.$searchInput.attr("disabled",
"disabled"),h.viewerNodes.$searchSubmit.attr("disabled","disabled")):0<a&&(b=h.viewerNodes.$searchResultCount.html(),a=a+" "+PCCViewer.Language.data.cannotSearch,b+='<span class="pcc-icon pcc-icon-alert" data-pcc-search="msg" data-msg="{{MSG}}"></span>'.replace("{{MSG}}",a));b.length&&W(b,!1,100)},ra=function(a){a=PCCViewer.Language.data.searchError+e.getErrorMessage();Y();W(PCCViewer.Language.data.searchCancelled,!1,100);h.viewerNodes.$searchCancel.addClass("pcc-hide");h.viewerNodes.$searchSubmit.removeClass("pcc-hide");
h.notify({message:a})},$a=function(a){Y();W(PCCViewer.Language.data.searchCancelled,!1,100);h.viewerNodes.$searchCancel.addClass("pcc-hide");h.viewerNodes.$searchSubmit.removeClass("pcc-hide")},na=function(){Y();W("",!1,100);1>=f?(h.viewerNodes.$searchNextResult.attr("disabled","disabled"),h.viewerNodes.$searchPrevResult.attr("disabled","disabled")):(h.viewerNodes.$searchNextResult.removeAttr("disabled"),h.viewerNodes.$searchPrevResult.removeAttr("disabled"))},Y=function(){e instanceof PCCViewer.SearchRequest&&
(e.off("PartialSearchResultsAvailable",sb),e.off("SearchCompleted",sb),e.off("SearchFailed",ra),e.off("SearchAborted",$a),e.off("SearchResultsAvailable",na))},La=function(b,c,d,e,f,g,h,k,l){if(0!==_.size(g)){var m=document.createDocumentFragment();d.empty();var p=_.reduce(c,function(a,b){if(b.getSearchTerm){var c=b.getSearchTerm(),d;d=c.searchTerm;if(c.fixed&&!k||!c.fixed&&!h)return a;c=g[d].prettyName;a[d]=a[d]||{count:0,color:b.getHighlightColor(),prettyName:c,originalTerm:d};a[d].count+=1}return a},
{});_.forEach(g,function(b,c){var d=p[c],g="#ffffff",n,q=!0;d?(n=d.count,g=d.color||g):b.isInUse?(n=0,g=b.searchOption.highlightColor||g,q=!1):(n=b.prevCount,g=b.searchOption.highlightColor||g);b.prevCount=n;q&&(b.searchOption.highlightColor=g);if(!l||b.isInUse)if(h||b.searchOption.fixed)if(k||!b.searchOption.fixed){var d=S.elem("div",{className:b.isInUse?"pcc-search-"+f+" pcc-"+f+"-term pcc-checked pcc-row":"pcc-search-"+f+" pcc-"+f+"-term pcc-row"}),q=S.elem("span",{className:"pcc-term-count pcc-col-1",
text:n}),r=S.elem("span",{className:"pcc-checkbox pcc-col-2"}),v=S.elem("span",{className:"pcc-"+f+"-search-term pcc-col-9",text:b.prettyName}),g=PCCViewer.Util.layerColors({color:g,opacity:100},"#ffffff");q.style.backgroundColor=g;d.appendChild(r);d.appendChild(v);d.appendChild(q);d.setAttribute("data-pcc-"+f+"-term",c);d.setAttribute("data-pcc-"+f+"-count",b.prevCount);a(d).on("click",e);n&&m.appendChild(d)}});d.append(m);ga(d.children(),function(b,c){b=a(b).data("pcc-"+f+"-count");return a(c).data("pcc-"+
f+"-count")-b})}},la=function(d,g,p){l&&(m=l.data("pcc-search-result-id"));r.removeClass("pcc-active");t.removeClass("pcc-open");h.viewerNodes.$searchInput.blur();f=0;h.viewerNodes.$searchResults.empty();h.viewerControl.clearSearch();ja=0;e instanceof PCCViewer.SearchRequest&&(e=b,e={});l=J=b;Ua(k);ab();k=[];L=[];d||(x={},E={});var n=_.reduce(a("[data-pcc-search-in].pcc-active"),function(a,b){b=b.getAttribute("data-pcc-search-in");a[b]=!0;a.filterCount+=1;return a},{filterCount:0});K=n.document?!0:
!1;Ha||(n.document=!0,n.filterCount=1);if(n.filterCount){var q=aa(!!d,p);d=h.viewerControl.validateSearch(q);p=[];D=q;Z();if(0===q.searchTerms.length)!0!==g&&ea(),n.markText=!1,Da(q,n),oa();else if(d.errorsExist){if("undefined"!==typeof d.summaryMsg)p.push(d.summaryMsg);else for(g=0;g<d.searchTerms.length;g++)n=d.searchTerms[g],n.isValid||p.push(n.message);h.notify({message:_.uniq(p,!0).join(" ")})}else W(PCCViewer.Language.data.searching,!0,100),h.viewerNodes.$searchSubmit.addClass("pcc-hide"),h.viewerNodes.$searchCancel.removeClass("pcc-hide"),
f=0,l=b,wa=[],h.$dom.find(".pcc-dropdown").removeClass("pcc-open"),!0!==g&&ea(),n.document&&(e=h.viewerControl.search(q),e.on("PartialSearchResultsAvailable",sb),e.on("SearchCompleted",oa),e.on("SearchFailed",ra),e.on("SearchAborted",$a),e.on("SearchResultsAvailable",na)),(n.annotations||n.redactions||n.signatures)&&Da(q,n),n.comments&&Va(q),h.viewerNodes.$searchResultsContainer.addClass("pcc-show-lg"),n.document||oa(),h.viewerNodes.$searchQuickActionRedact.attr("disabled",!0),c()}else oa()},Da=function(b,
c){function d(a,b){k.push.apply(k,_.map(b,function(b){b.source=a;b.index=h.viewerControl.getCharacterIndex(a);b.getPageNumber=function(){return a.getPageNumber()};b.getBoundingRectangle=function(){return a.getBoundingRectangle()};return b}))}c=_.reduce(a("[data-pcc-search-in-marks].pcc-checked"),function(a,b){b=b.getAttribute("data-pcc-search-in-marks");a[b]=!0;a.filterCount+=1;return a},c);0===b.searchTerms.length&&(c.markText=!1);var e=[],f=[],g=[],k=[];_.forEach(h.viewerControl.getAllMarks(),function(a){var b=
a.getType().match(/redaction/i)?"redactions":a.getType().match(/signature/i)?"signatures":"annotations";c[b]&&(a.getReason?g.push(a):a.getText&&c.markText&&"signatures"!==b?e.push(a):c.showAllTypes&&f.push(a))});if(e.length&&c.markText){var l=new PCCViewer.SearchTask(b);_.forEach(e,function(a){var b=l.search(a.getText());d(a,b)})}if(g.length){var m=[];_.chain(c).keys().forEach(function(a){a.match("reason:")&&m.push(a.replace("reason:",""))});_.forEach(g,function(a){var b=a.getReason()||PCCViewer.Language.data.searchFilters.reasonUndefined;
_.contains(m,b)&&d(a,[{}])})}f.length&&_.forEach(f,function(a){d(a,[{}])});sb({partialSearchResults:k});V(k)},Va=function(a){function b(a){_.each(a,function(a){var b=c.search(a.getText()),e=h.viewerControl.getCharacterIndex(a.getConversation().getMark());b.length&&(_.forEach(b,function(b){b.source=a;b.index=e;b.getPageNumber=function(){return a.getConversation().getMark().getPageNumber()};b.getBoundingRectangle=function(){return a.getConversation().getMark().getBoundingRectangle()}}),d=d.concat(b))})}
var c=new PCCViewer.SearchTask(a),d=[];_.chain(h.viewerControl.getAllMarks()).filter(function(a){return a.getConversation().getComments().length}).each(function(a){b(a.getConversation().getComments())});sb({partialSearchResults:d});sa(d)},cb=function(){var a=0<l.next().length,b=0<l.prev().length;a?h.viewerNodes.$searchNextResult.removeAttr("disabled"):h.viewerNodes.$searchNextResult.attr("disabled","disabled");b?h.viewerNodes.$searchPrevResult.removeAttr("disabled"):h.viewerNodes.$searchPrevResult.attr("disabled",
"disabled")};u.on("click",function(b){b=a(this);var c=b.data("pccSearchContainerToggle"),d=b.hasClass("pcc-active");d?(b.removeClass("pcc-active"),h.viewerNodes.$searchDialog.removeClass("pcc-expand")):(u.removeClass("pcc-active"),b.addClass("pcc-active"),h.viewerNodes.$searchDialog.addClass("pcc-expand"));d?(w.filter('[data-pcc-search-container="'+c+'"]').addClass("pcc-hide pcc-hide-lg"),"results"!==c&&(h.viewerNodes.$searchResultsContainer.removeClass("pcc-hide pcc-hide-lg"),h.viewerNodes.$searchDialog.find(".pcc-search-nav").removeClass("pcc-hide")),
"filter"===c&&J&&"function"===typeof J&&J()):(w.addClass("pcc-hide pcc-hide-lg"),w.filter('[data-pcc-search-container="'+c+'"]').removeClass("pcc-hide pcc-hide-lg"),"results"!==c&&h.viewerNodes.$searchDialog.find(".pcc-search-nav").addClass("pcc-hide"),"filter"!==c&&J&&"function"===typeof J&&J())});var Ea=[],Ga=function(a){if(L&&0!==L.length){var b=_.filter(L,function(b){return b.searchResult.getPageNumber()===a.pageNumber});b&&0!==b.length&&(L=_.difference(L,b),_.each(b,function(a){var b;b=a.searchResult.source instanceof
PCCViewer.Comment?h.viewerControl.getCharacterIndex(a.searchResult.source.getConversation().getMark()):h.viewerControl.getCharacterIndex(a.searchResult.source);a.domElement.setAttribute("data-pcc-sort-index",b)}),Ca())}};(function(){h.viewerNodes.$searchStatus.on("click","[data-pcc-search=msg]",function(){h.notify({message:this.getAttribute("data-msg")})});h.viewerControlOptions.uiElements&&!0===h.viewerControlOptions.uiElements.advancedSearch&&(Ha=!0);"undefined"!==typeof h.presetSearch&&null!==
h.presetSearch&&"[object Array]"===Object.prototype.toString.call(h.presetSearch.terms)&&h.presetSearch.terms.length?(R(),T(),h.viewerNodes.$searchPresetsContainer.on("click","label",function(a){a.stopPropagation()})):h.$dom.find("[data-pcc-toggle=dropdown-search-patterns]").hide();Ha?(u.removeClass("pcc-hide"),u.addClass("pcc-show"),y.eq(1).removeClass("pcc-col-10"),y.eq(1).addClass("pcc-col-8"),y.eq(2).removeClass("pcc-hide"),y.eq(2).addClass("pcc-show")):h.viewerNodes.$searchFilterContainer.empty();
h.viewerNodes.$searchCloser.on("click",function(){h.$dom.find('[data-pcc-toggle="dialog-search"]').trigger("click")});if(h.viewerControlOptions&&h.viewerControlOptions.redactionReasons){var b=document.createDocumentFragment(),c=a("[data-pcc-filter-redaction-reasons]"),e=[];"undefined"!==typeof h.viewerControlOptions.redactionReasons.reasons&&h.viewerControlOptions.redactionReasons.reasons.length&&(e=e.concat(h.viewerControlOptions.redactionReasons.reasons));e=e.concat([{reason:PCCViewer.Language.data.searchFilters.reasonUndefined}]);
_.forEach(e,function(a){var c=document.createTextNode(a.reason),d=S.elem("div",{className:"pcc-search-filter pcc-filter-marks pcc-checked"}),e=S.elem("span",{className:"pcc-checkbox"});d.setAttribute("data-pcc-search-in-marks","reason:"+a.reason);d.appendChild(e);d.appendChild(c);b.appendChild(d)});c.empty();c.append(b)}d()})();v.on("click",".pcc-section-title",function(){a(this).parent(".pcc-section").toggleClass("pcc-expand")});a("[data-pcc-search-in]").on("click",function(c){a(this).toggleClass("pcc-active");
J=b;J=function(){la(!0)}});a("[data-pcc-search-in-marks]").on("click",function(c){c=a(this);c.attr("data-pcc-search-in-marks");c.toggleClass("pcc-checked");J=b;J=function(){la(!0)}});return{initialSearchHandler:function(){!0===h.presetSearch.searchOnInit&&(h.presetSearch.searchOnInit=!1,setTimeout(function(){h.viewerNodes.$searchSubmit.click()},1200))},executeSearch:la,wildcardClickHandler:function(b){a(b).toggleClass("pcc-active");a(b).hasClass("pcc-active")?(h.viewerNodes.$searchMatchWholeWord.removeClass("pcc-active").addClass("pcc-disabled"),
h.viewerNodes.$searchBeginsWith.removeClass("pcc-active").addClass("pcc-disabled"),h.viewerNodes.$searchEndsWith.removeClass("pcc-active").addClass("pcc-disabled")):(h.viewerNodes.$searchMatchWholeWord.removeClass("pcc-disabled"),h.viewerNodes.$searchBeginsWith.removeClass("pcc-disabled"),h.viewerNodes.$searchEndsWith.removeClass("pcc-disabled"));return!0},matchWholeWordClickHandler:function(b){if(a(b).hasClass("pcc-disabled"))return!1;a(b).toggleClass("pcc-active");return!0},beginsWithClickHandler:function(b){if(a(b).hasClass("pcc-disabled"))return!1;
a(b).toggleClass("pcc-active");return!0},endsWithClickHandler:function(b){if(a(b).hasClass("pcc-disabled"))return!1;a(b).toggleClass("pcc-active");return!0},exactPhraseClickHandler:function(b){a(b).toggleClass("pcc-active");return!0},matchCaseClickHandler:function(b){a(b).toggleClass("pcc-active");return!0},nextResultClickHandler:function(c){if(0===f||a(c).attr("disabled"))return!1;c=h.viewerNodes.$searchResults;l===b?(l=c.children(":first"),l.click()):(l=l.next(),l.click(),c.scrollTop(c.scrollTop()+
l.position().top-200));cb()},previousResultClickHandler:function(c){if(0===f||a(c).attr("disabled"))return!1;c=h.viewerNodes.$searchResults;l===b?(l=c.children(":last"),l.click()):(l=l.prev(),l.click(),c.scrollTop(c.scrollTop()+l.position().top-200));cb()},clearSearch:function(a){a=h.$dom.find(".pcc-dialog-search");h.viewerNodes.$searchInput.val("");a.find("button[data-pcc-search]").prop("disabled",!0);0<n.length?(h.viewerNodes.$searchFilterContainer.find("[data-pcc-section=searchTerms] .pcc-section-content").empty().append(document.createTextNode(PCCViewer.Language.data.searchFilters.noTerms)),
la(!1,!1,!0)):(L=[],h.viewerNodes.$searchResults.empty(),h.viewerNodes.$searchResultCount.html(PCCViewer.Language.data.searchResultsNone),h.$dom.find(".pcc-row-results-status").addClass("pcc-hide"),h.$dom.find("[data-pcc-toggle-id=dropdown-search-patterns] input").prop("checked",!1),f=0,l=b,wa=[],h.viewerControl.clearSearch(),Ua(k),ab(),h.viewerNodes.$searchFilterContainer.find("[data-pcc-section=searchTerms] .pcc-section-content").empty().append(document.createTextNode(PCCViewer.Language.data.searchFilters.noTerms)),
c());ma({matchCase:!1,endsWith:!1,beginsWith:!1,matchWholeWord:!1,exactPhrase:!1})},cancelSearch:function(){h.viewerNodes.$searchSubmit.removeClass("pcc-hide");h.viewerNodes.$searchCancel.addClass("pcc-hide");e.cancel()},pageTextReadyHandler:function(a){Ga(a)},on:function(a,b){H.on(a,b)},off:function(a,b){H.off(a,b)}}}();this.annotationIo=function(){function c(a){var b=h.viewerControl.getAllMarks(),d=[];_.each(b,function(a){d=d.concat(a.getConversation().getComments())});return d=_.filter(d,function(b){return b.getMarkupLayer()&&
b.getMarkupLayer().getId()===a.getId()})}function d(a){var b=c(a);_.each(b,function(b){"undefined"===typeof b.getData("Accusoft-owner")&&b.setData("Accusoft-owner",a.getName())});h.viewerControl.refreshConversations()}function e(a){a.empty().addClass("pcc-loading-container")}function f(a){a.removeClass("pcc-loading-container")}function k(a){_.forEach(a.getMarks(),function(a){a.setInteractionMode(PCCViewer.Mark.InteractionMode.SelectionDisabled)})}function l(a,b){b="function"===typeof b?b:function(){};
h.viewerControl.loadMarkupLayers(a).then(function(a){x=a[0];h.viewerControl.getActiveMarkupLayer().destroy();h.viewerControl.setActiveMarkupLayer(x);x.setSessionData("Accusoft-savedLayerName",x.getName());b()},function(a){b(a)})}function m(a,b){b="function"===typeof b?b:function(){};var c=!0;h.viewerControl.requestMarkupLayerNames().then(function(e){_.forEach(e,function(b){a===b.originalXmlName&&(h.viewerControl.loadMarkupLayers(b.layerRecordId).then(function(a){x=a[0];h.viewerControl.getActiveMarkupLayer().destroy();
h.viewerControl.setActiveMarkupLayer(x);x.setSessionData("Accusoft-savedLayerName",x.getName())}),c=!1)});if(!1===c)return b();h.viewerControl.loadMarkup(a).then(function(){var c=h.viewerControl.getActiveMarkupLayer();c.setName(a);c.setOriginalXmlName(a);x=c;x.setSessionData("Accusoft-savedLayerName",x.getName());d(c);b()},function(a){b(a)})},function(a){b(a)})}var n=!1,p,q,r,t,u={},w={},v={},x,A,B=0,E=function(a,b){h.viewerNodes.$annotationLayersDone.html(PCCViewer.Language.data.annotationLayerLoading);
h.viewerNodes.$annotationLayersDone.prop("disabled",!0);h.viewerNodes.$annotationLayersBack.prop("disabled",!0);var c=h.viewerControl.getMarkupLayerCollection(),e=new PCCViewer.MarkupLayer(h.viewerControl);c.addItem(e);e.setName(a);e.setOriginalXmlName(a);h.viewerControl.loadMarkup(a,{retainExistingMarks:!0,markupLayer:e}).then(function(){v[a]=e;e.setInteractionMode(PCCViewer.Mark.InteractionMode.SelectionDisabled);d(e);b(a,"loadReviewXmlRecord",!0)},function(c){e.destroy();h.notify({message:PCCViewer.Language.data.annotationLayerLoadFailed});
b(a,"loadReviewXmlRecord",!1)})},D=function(a,b){h.viewerNodes.$annotationLayersDone.html(PCCViewer.Language.data.annotationLayerLoading);h.viewerNodes.$annotationLayersDone.prop("disabled",!0);h.viewerNodes.$annotationLayersBack.prop("disabled",!0);h.viewerControl.loadMarkupLayers(a).then(function(c){w[c[0].getRecordId()]=c[0];c[0].setInteractionMode(PCCViewer.Mark.InteractionMode.SelectionDisabled);Ka.openIfVisibleMarks();b(a,"loadReviewLayerRecord",!0)},function(c){h.viewerNodes.$annotationLayersDone.html(PCCViewer.Language.data.doneButton);
h.notify({message:PCCViewer.Language.data.annotationLayerLoadFailed});b(a,"loadReviewLayerRecord",!1)})},F=function(a){h.viewerNodes.$annotationLayersDone.html(PCCViewer.Language.data.annotationLayerLoading);h.viewerNodes.$annotationLayersDone.prop("disabled",!0);h.viewerNodes.$annotationLayersBack.prop("disabled",!0);var b=h.viewerControl.getMarkupLayerCollection(),c=new PCCViewer.MarkupLayer(h.viewerControl);b.addItem(c);var e=h.viewerControl.getActiveMarkupLayer();h.viewerControl.setActiveMarkupLayer(c);
c.setName(a);c.setOriginalXmlName(a);h.viewerControl.loadMarkup(a,{retainExistingMarks:!0}).then(function(){h.viewerNodes.$annotationLayersDone.html(PCCViewer.Language.data.doneButton);h.viewerNodes.$annotationLayersDone.prop("disabled",!1);h.viewerNodes.$annotationLayersBack.prop("disabled",!1);h.viewerNodes.$annotationLayersDone.click();x=c;x.setSessionData("Accusoft-savedLayerName",x.getName());d(c)},function(a){h.viewerControl.setActiveMarkupLayer(e);c.destroy();h.viewerNodes.$annotationLayersDone.html(PCCViewer.Language.data.doneButton);
h.notify({message:PCCViewer.Language.data.annotationLayerLoadFailed})})},H=function(a){h.viewerNodes.$annotationLayersDone.html(PCCViewer.Language.data.annotationLayerLoading);h.viewerNodes.$annotationLayersDone.prop("disabled",!0);h.viewerNodes.$annotationLayersBack.prop("disabled",!0);var b=h.viewerControl.getMarkupLayerCollection(),c=h.viewerControl.getActiveMarkupLayer(),d=function(a){a=b.getItem(a.layerId);h.viewerControl.setActiveMarkupLayer(a)};b.on(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,
d);h.viewerControl.loadMarkupLayers(a).then(function(a){b.off(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,d);h.viewerNodes.$annotationLayersDone.html(PCCViewer.Language.data.doneButton);h.viewerNodes.$annotationLayersDone.prop("disabled",!1);h.viewerNodes.$annotationLayersBack.prop("disabled",!1);h.viewerNodes.$annotationLayersDone.click();x=a[0];x.setSessionData("Accusoft-savedLayerName",x.getName());Ka.openIfVisibleMarks()},function(a){h.viewerControl.setActiveMarkupLayer(c);b.off(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,
d);h.viewerNodes.$annotationLayersDone.html(PCCViewer.Language.data.doneButton);h.notify({message:PCCViewer.Language.data.annotationLayerLoadFailed})})},J=function(a,c){var d;a===b?(d=h.viewerControl.getActiveMarkupLayer(),h.viewerControl.deleteMarks(d.getMarks()),delete v[d.getName()],d.destroy(),c(a,"unloadLayerRecord",!0)):(w[a]?d=w[a]:a===h.viewerControl.getActiveMarkupLayer().getRecordId()&&(d=h.viewerControl.getActiveMarkupLayer()),d&&(h.viewerControl.deleteMarks(d.getMarks()),delete w[a],d.destroy(),
c(a,"unloadLayerRecord",!0)))},L=function(){var a=0,b="MarkCreated MarkRemoved MarkChanged MarkReordered CommentCreated CommentChanged CommentRemoved".split(" "),c=function(){n=!0;Ma()&&(sa(),ca())};for(a;a<b.length;a++)h.viewerControl.on(b[a],c)},K=function(a){a=a.replace(/^\s+|\s+$/g,"");30<a.length?h.notify({message:PCCViewer.Language.data.annotations.save.filenameMax}):a.length?a===p?Ha(a):(sa(PCCViewer.Language.data.annotations.save.waiting),aa(),h.viewerControl.getSavedMarkupNames().then(function(b){var c=
!1,d=0;for(d;d<b.length;d++)if(a===b[d].name){c=!0;break}c?S():Ha(a)},function(a){h.notify({message:PCCViewer.Language.data.annotations.save.failure})})):h.notify({message:PCCViewer.Language.data.annotations.save.filenameEmpty})},Ha=function(a){h.viewerControl.saveMarkup(a).then(wa,Q);p=a;aa()},wa=function(a){h.notify({message:PCCViewer.Language.data.annotations.save.success+a,type:"success"});Ma()&&T();Z();n=!1},Q=function(a){sa(PCCViewer.Language.data.annotations.save.current);ca();h.notify({message:PCCViewer.Language.data.annotations.save.failure+
PCCViewer.Language.getValue("error."+a.code)})},S=function(){"undefined"===typeof q&&(h.$dom.append(_.template(g.template.overwriteOverlay)(PCCViewer.Language.data.annotations.save.overwriteOverlay)),q=h.$dom.find(".pcc-annotation-overwrite-dlg"),t=h.$dom.find(".pcc-overlay-fade"),q.find(".pcc-overlay-closer").on("click",function(){q.close();T()}),q.close=function(){q.hide();t.hide()},q.mask=function(a){"undefined"===typeof a?q.find(".pcc-overlay-mask").show():q.find(".pcc-overlay-mask").html(a).show()},
q.unmask=function(a){q.find(".pcc-overlay-mask").hide()},q.on("click","li",function(b){switch(a(this).attr("data-action")){case "save":q.mask();Ha(h.viewerNodes.$annotateSaveDialog.find("input").val());break;case "saveAs":ca();q.close();b=h.viewerNodes.$annotateSaveDialog.find("input");b[0].selectionStart=0;b[0].selectionEnd=b.val().length;b.focus();sa(PCCViewer.Language.data.annotations.save.as);break;case "noSave":T()}}));q.show();t.show()},M=function(){"undefined"===typeof r&&(h.$dom.append(_.template(g.template.unsavedChangesOverlay)(PCCViewer.Language.data.annotations.save.unsavedOverlay)),
r=h.$dom.find(".pcc-annotation-unsaved-dlg"),t=h.$dom.find(".pcc-overlay-fade"),r.find(".pcc-overlay-closer").on("click",function(){r.close();T()}),r.close=function(){r.hide();t.hide()},r.mask=function(a){"undefined"===typeof a?r.find(".pcc-overlay-mask").show():r.find(".pcc-overlay-mask").html(a).show()},r.unmask=function(a){r.find(".pcc-overlay-mask").hide()},r.on("click","li",function(b){b=a(this).attr("data-action");"undefined"===typeof p&&"save"===b&&(b="saveAs");switch(b){case "save":r.mask();
Ha(p);r.trigger("saveSelected");break;case "saveAs":Ma()||h.$dom.find(".pcc-icon-save").first().trigger("click");setTimeout(V,0);r.close();b=h.viewerNodes.$annotateSaveDialog.find("input");b[0].selectionStart=0;b[0].selectionEnd=b.val().length;b.focus();sa(PCCViewer.Language.data.annotations.save.as);r.trigger("saveAsSelected");break;case "noSave":r.trigger("noSaveSelected")}}));r.show();t.show()},sa=function(a){"undefined"===typeof a&&(n?(h.viewerNodes.$annotateSaveDialog.find("input").val(p),a=
p?PCCViewer.Language.data.annotations.save.current:PCCViewer.Language.data.annotations.save.as):a=PCCViewer.Language.data.annotations.save.nomods);h.viewerNodes.$annotateSaveDialog.find(".pcc-annotation-save-msg").html(a).show()},Ma=function(){return h.$dom.find(".pcc-icon-save").hasClass("pcc-active")},V=function(){n?(setTimeout(function(){h.viewerNodes.$annotateSaveDialog.find("input").focus()},100),ca()):h.notify({message:PCCViewer.Language.data.annotations.save.nomods});sa()},T=function(){h.viewerNodes.$annotateSaveDialog.find("input").val("");
Ma()&&h.$dom.find(".pcc-icon-save.pcc-active").first().trigger("click");Z()},ab=function(a){h.viewerNodes.$annotateLoadDialog.find(".pcc-annotation-load-msg").html(a).show()},R=function(a){h.viewerNodes.$annotateLoadDialog.find(".pcc-annotation-load-status-msg").html(a).show()},W=function(){return h.$dom.find(".pcc-icon-load").hasClass("pcc-active")},Z=function(){"undefined"!==typeof q&&q.is(":visible")&&(q.unmask(),q.close());"undefined"!==typeof r&&r.is(":visible")&&(r.unmask(),r.close())},aa=function(){h.viewerNodes.$annotateSaveDialog.find("input, textarea, button, select").attr("disabled",
"disabled")},ca=function(){h.viewerNodes.$annotateSaveDialog.find("input, textarea, button, select").removeAttr("disabled")},ma=function(){W()&&h.$dom.find(".pcc-icon-load.pcc-active").first().trigger("click")},ea=function(b){da(h.viewerNodes.$annotateLoadDropdown);"undefined"===typeof b&&(b=PCCViewer.Language.data.annotations.load.waiting);var c=a(h.viewerNodes.$annotateLoadDropdown).parent(),d=document.createElement("div");d.innerHTML=b||"";d.className="pcc-overlay-mask";c.append(d);a(d).show()},
da=function(b){a(b).parent().find(".pcc-overlay-mask").remove()},ga=function(b){"review"===b?(h.viewerNodes.$annotationLayersDropdown.closest(".pcc-annotation-layer-load-section").addClass("pcc-hide"),h.viewerNodes.$annotationLayersList.closest(".pcc-annotation-layer-load-section").removeClass("pcc-hide"),h.viewerNodes.$annotationLayersDone.removeClass("pcc-hide"),e(h.viewerNodes.$annotationLayersList)):(h.viewerNodes.$annotationLayersDropdown.closest(".pcc-annotation-layer-load-section").removeClass("pcc-hide"),
h.viewerNodes.$annotationLayersList.closest(".pcc-annotation-layer-load-section").addClass("pcc-hide"),h.viewerNodes.$annotationLayersDone.addClass("pcc-hide"),e(h.viewerNodes.$annotationLayersDropdown),x&&a(".pcc-select-load-annotation-layers .pcc-label").text(x.getName()));h.viewerControl.getSavedMarkupNames().then(function(a){ja(b,a)},function(a){"review"===b?f(h.viewerNodes.$annotationLayersList):f(h.viewerNodes.$annotationLayersDropdown);h.notify({message:PCCViewer.Language.data.annotations.load.listFailure})})},
ha=function(){ab(PCCViewer.Language.data.annotations.load.waiting);ea("");h.viewerNodes.$annotationList.empty();h.viewerControl.getSavedMarkupNames().then(function(a){var b,c=[],d=0;for(d;d<a.length;d++)b=a[d],u[b.name]=b,b='<div class="pcc-row" data-pcc-markup-record-id="{{ID}}">{{NAME}}</div>'.replace("{{ID}}",b.name).replace("{{NAME}}",b.name),c.push(b);c.length?(h.viewerNodes.$annotationList.append(c.join("\n")).find(".pcc-row:odd").addClass("pcc-odd"),ab(PCCViewer.Language.data.annotations.load.instructions),
da(h.viewerNodes.$annotateLoadDropdown)):(h.notify({message:PCCViewer.Language.data.annotations.load.emptyList}),ab(PCCViewer.Language.data.annotations.load.emptyList),ea(""))},function(a){ma();h.notify({message:PCCViewer.Language.data.annotations.load.listFailure})})},ja=function(a,b){h.viewerControl.requestMarkupLayerNames().then(function(c){var d=h.viewerNodes.$annotationLayersLoadDialog.find(".pcc-annotation-layers-load-msg");c.length||b.length?d.html(""):(h.notify({message:PCCViewer.Language.data.annotationLayersEmptyList}),
d.html(PCCViewer.Language.data.annotationLayersEmptyList));"review"===a?(f(h.viewerNodes.$annotationLayersList),ua(c,h.viewerNodes.$annotationLayersList,b)):(f(h.viewerNodes.$annotationLayersDropdown),la(c,h.viewerNodes.$annotationLayersDropdown,b))},function(b){"review"===a?f(h.viewerNodes.$annotationLayersList):f(h.viewerNodes.$annotationLayersDropdown);h.notify({message:PCCViewer.Language.data.annotationLayersListLoadFailed})})},ua=function(c,d,e){var f=document.createDocumentFragment();d.empty();
var g=[];_.forEach(c,function(b,c){e=a.grep(e,function(a){return a.name!==b.originalXmlName});if(!x||x.getRecordId()!==b.layerRecordId){c=xa.elem("div",{className:"pcc-annotation-layer-record pcc-row"});var d=xa.elem("span",{className:"pcc-checkbox pcc-col-2"}),f=xa.elem("span",{className:"pcc-load pcc-hide pcc-col-2"}),h=xa.elem("span",{className:"pcc-annotation-layer-name pcc-col-10",text:b.name});a(c).attr("data-pcc-annotation-layer-record-id",b.layerRecordId);c.appendChild(d);c.appendChild(f);
c.appendChild(h);w[b.layerRecordId]&&"merged"!==w[b.layerRecordId].getSessionData("Accusoft-state")&&a(c).addClass("pcc-checked");g.push({name:b.name,div:c})}});_.forEach(e,function(b,c){if(!x||x.getOriginalXmlName()!==b.name){c=xa.elem("div",{className:"pcc-annotation-layer-record pcc-row"});var d=xa.elem("span",{className:"pcc-checkbox pcc-col-2"}),e=xa.elem("span",{className:"pcc-load pcc-hide pcc-col-2"}),f=xa.elem("span",{className:"pcc-annotation-layer-name pcc-col-10",text:b.name});a(c).attr("data-pcc-annotation-xml-record-id",
b.name);c.appendChild(d);c.appendChild(e);c.appendChild(f);v[b.name]&&"merged"!==v[b.name].getSessionData("Accusoft-state")&&a(c).addClass("pcc-checked");g.push({name:b.name,div:c})}});g=g.sort(function(a,b){a=a.name.toLowerCase();b=b.name.toLowerCase();return a===b?0:a>b?1:-1});_.forEach(g,function(a,b){f.appendChild(a.div)});g.length&&(A=Ga("pcc-toggle-all pcc-row",function(c){if("true"!==a(A).data("pcc-loading")){var e;d.find(".pcc-annotation-layer-record").each(function(d,f){e=a(f);"checked"!==
c||e.hasClass("pcc-checked")?"unchecked"===c&&e.hasClass("pcc-checked")&&e.click():(a(A).data("pcc-loading","true"),d=a(A).find(".pcc-load"),d.length||(d=document.createElement("span"),d.className="pcc-load pcc-col-2",d=a(A).prepend(d)),a(A).find(".pcc-checkbox").hide(),d.show(),e.click());e=b})}}),d.append(A));d.append(f)},la=function(b,c,d){var e=document.createDocumentFragment(),f=[];c.empty();_.forEach(b,function(b,c){d=a.grep(d,function(a){return a.name!==b.originalXmlName});if("undefined"===
typeof w[b.layerRecordId]){c=xa.elem("div",{className:"pcc-annotation-layer-record pcc-row"});var e=xa.elem("span",{className:"pcc-annotation-layer-name pcc-row",text:b.name});c.appendChild(e);a(c).attr("data-pcc-annotation-layer-record-id",b.layerRecordId).find(".pcc-row:odd").addClass("pcc-odd");f.push({name:b.name,div:c})}});_.forEach(d,function(b,c){if("undefined"===typeof v[b.name]){c=xa.elem("div",{className:"pcc-annotation-layer-record pcc-row"});var d=xa.elem("span",{className:"pcc-annotation-layer-name pcc-row",
text:b.name});c.appendChild(d);a(c).attr("data-pcc-annotation-xml-record-id",b.name).find(".pcc-row:odd").addClass("pcc-odd");f.push({name:b.name,div:c})}});f=f.sort(function(a,b){a=a.name.toLowerCase();b=b.name.toLowerCase();return a===b?0:a>b?1:-1});_.forEach(f,function(a,b){e.appendChild(a.div)});c.append(e)},xa={elem:function(a,b){b=b||{};a=document.createElement(a||"div");"string"===typeof b.className&&(a.className=b.className);"undefined"!==typeof b.text&&a.appendChild(document.createTextNode(b.text.toString()));
return a}},ka=function(a){ab(PCCViewer.Language.data.annotations.load.waiting);ea("");h.viewerControl.loadMarkup(a.name).then(function(a){ma();h.setMouseTool({mouseToolName:"AccusoftPanAndEdit"});p=a;n=!1;!0===h.isFitTypeActive&&h.viewerControl.fitContent(h.currentFitType);"undefined"===typeof a.getData("Accusoft-owner")&&a.setData("Accusoft-owner",a.getName())},function(a){ma();h.notify({message:PCCViewer.Language.data.annotations.load.recordFailure})})},pa=function(a){var b=u[a.getAttribute("data-pcc-markup-record-id")];
if(n){M();r.one("noSaveSelected",function(){ka(b)});if(p)r.one("saveSelected",function(){ma()});return!1}ka(b)};return{init:function(){x=h.viewerControl.getActiveMarkupLayer();var c=function(b,c,d){var e=!1,f=h.viewerNodes.$annotationLayersList.find('[data-pcc-annotation-layer-record-id="'+b+'"]');f.length||(f=h.viewerNodes.$annotationLayersList.find('[data-pcc-annotation-xml-record-id="'+b+'"]'));"loadReviewXmlRecord"!==c&&"loadReviewLayerRecord"!==c||!d?"loadReviewXmlRecord"!==c&&"loadReviewLayerRecord"!==
c||d?f.removeClass("pcc-checked"):(f.removeClass("pcc-checked"),B--):(f.addClass("pcc-checked"),B--);f.data("pcc-loading","false");f.find(".pcc-load").hide();f.find(".pcc-checkbox").show();0===B&&(a(A).find(".pcc-load").hide(),a(A).find(".pcc-checkbox").show(),a(A).data("pcc-loading","false"),a.isEmptyObject(w)&&a.isEmptyObject(v)&&!x&&(e=!0),h.viewerNodes.$annotationLayersDone.html(PCCViewer.Language.data.doneButton),h.viewerNodes.$annotationLayersDone.prop("disabled",e),h.viewerNodes.$annotationLayersBack.prop("disabled",
!1))};L();h.viewerNodes.$annotateSaveDialog.find("input").on("keydown",function(a){a:{var b=a.keyCode?a.keyCode:a.which,c=!0;if(!0!==a.shiftKey||189!==b&&188!==b&&190!==b)if(13===b||9===b)h.viewerNodes.$annotateSaveDialog.find("button").focus().trigger("click");else{b=/[\-a-zA-Z0-9 ]+$/;c=String.fromCharCode(a.charCode?a.charCode:a.which);a=/[0-9]+$/.test(c)&&a.shiftKey?!1:b.test(c)||8===a.keyCode||46===a.keyCode||39===a.keyCode||37===a.keyCode||96<=a.which&&105>=a.which||173===a.keyCode||188===a.keyCode||
189===a.keyCode||109===a.keyCode?!0:!1;break a}else c=!1;a=c}return a});h.viewerNodes.$annotateSaveDialog.find("button").on("click",function(){var a=h.viewerNodes.$annotateSaveDialog.find("input").val();K(a)});h.viewerNodes.$annotationList.on("click",".pcc-row",function(){pa(this)});h.viewerNodes.$annotationLayersDropdown.on("click",".pcc-annotation-layer-record",function(c){c=a(this).attr("data-pcc-annotation-layer-record-id");c===b?v[h.viewerControl.getActiveMarkupLayer().getOriginalXmlName()]?
h.notify({message:PCCViewer.Language.data.annotationLayerAlreadyLoaded}):(h.viewerControl.getActiveMarkupLayer()&&J(h.viewerControl.getActiveMarkupLayer().getRecordId(),function(){}),F(a(this).attr("data-pcc-annotation-xml-record-id"))):w[c]?h.notify({message:PCCViewer.Language.data.annotationLayerAlreadyLoaded}):(h.viewerControl.getActiveMarkupLayer()&&J(h.viewerControl.getActiveMarkupLayer().getRecordId(),function(){}),H(c))});h.viewerNodes.$annotationLayersList.on("click",".pcc-annotation-layer-record",
function(d){if("true"!==a(this).data("pcc-loading"))if(a(this).data("pcc-loading","true"),a(this).find(".pcc-checkbox").hide(),a(this).find(".pcc-load").show(),d=a(this).attr("data-pcc-annotation-layer-record-id"),d===b)if(d=a(this).attr("data-pcc-annotation-xml-record-id"),h.viewerControl.getActiveMarkupLayer()&&d===h.viewerControl.getActiveMarkupLayer().getOriginalXmlName())h.notify({message:PCCViewer.Language.data.annotationLayerAlreadyLoaded});else if(a(this).hasClass("pcc-checked")){var e=v[d];
h.viewerControl.deleteMarks(e.getMarks());delete v[d];e.destroy();c(d,"unloadXmlLayer",!0)}else B++,E(d,c);else h.viewerControl.getActiveMarkupLayer()&&d===h.viewerControl.getActiveMarkupLayer().getRecordId()?h.notify({message:PCCViewer.Language.data.annotationLayerAlreadyLoaded}):a(this).hasClass("pcc-checked")?J(d,c):(B++,D(d,c))});g.annotationsMode===h.annotationsModeEnum.LegacyAnnotations&&!0===g.autoLoadAnnotation&&"string"===typeof g.annotationID&&(ka({name:g.annotationID}),h.viewerControl.setPageNumber(1));
h.viewerNodes.$annotationLayersDone.on("click",function(b){b=a.map(a.extend({},w,v),function(a){if("merged"!==a.getSessionData("Accusoft-state"))return a});var c=h.viewerControl.getActiveMarkupLayer();h.annotationLayerReview.onOpenDialog(c,b);y({toggleID:"dialog-annotation-layer-review"})})},onOpenDialog:function(a,b){Z();a!==this.modes.saveClassic||Ma()?a!==this.modes.loadClassic||W()?a!==this.modes.loadMarkupLayers||W()||ga(b):(ha(),p?R(PCCViewer.Language.data.annotations.load.status+p):R("")):
setTimeout(V,0);return!0},modes:{loadClassic:"load",saveClassic:"save",loadMarkupLayers:"loadMarkupLayers",saveMarkupLayers:"saveMarkupLayers"},autoLoadAllLayers:function(a){function b(){e&&h.notify({message:PCCViewer.Language.data.annotationLayerAutoLoadError})}var c=h.viewerControl,e=!1;PCCViewer.Promise.all([c.requestMarkupLayerNames(),c.getSavedMarkupNames()]).then(function(f){var g=f[0];f=f[1];var p=!1,n=[],q=_.map(g,function(a){return a.layerRecordId});q.length&&(q=c.loadMarkupLayers(q,{loadAsHidden:!0}),
n.push(q),q.then(function(a){_.forEach(a,function(a){var b="string"===typeof h.viewerControlOptions.editableMarkupLayerSource&&"xmlname"===h.viewerControlOptions.editableMarkupLayerSource.toLowerCase()&&"string"===typeof h.viewerControlOptions.editableMarkupLayerValue&&h.viewerControlOptions.editableMarkupLayerValue===a.getOriginalXmlName(),d="string"===typeof h.viewerControlOptions.editableMarkupLayerSource&&"layerrecordid"===h.viewerControlOptions.editableMarkupLayerSource.toLowerCase();!0===b||
!0===d&&a.getRecordId()===h.viewerControlOptions.editableMarkupLayerValue?(p=!0,x=a,c.getActiveMarkupLayer().destroy(),c.setActiveMarkupLayer(a),a.show(),x.setSessionData("Accusoft-savedLayerName",x.getName())):(w[a.getRecordId()]=a,a.hide(),a.setSessionData("Accusoft-visibility","hidden"),k(a))})},function(a){e=!0}));f=_.chain(f).map(function(a){return a.name}).filter(function(a){return!_.find(g,function(b){return b.originalXmlName===a})}).value();_.forEach(f,function(a){var b=new PCCViewer.MarkupLayer(c);
c.getMarkupLayerCollection().addItem(b);b.setName(a);b.setOriginalXmlName(a);var f=PCCViewer.Deferred(),g=f.getPromise();c.loadMarkup(a,{retainExistingMarks:!0,markupLayer:b,loadAsHidden:!0}).then(function(){!0!==("string"===typeof h.viewerControlOptions.editableMarkupLayerSource&&"xmlname"===h.viewerControlOptions.editableMarkupLayerSource.toLowerCase())||b.getName()!==h.viewerControlOptions.editableMarkupLayerValue?(v[a]=b,b.hide(),b.setSessionData("Accusoft-visibility","hidden"),k(b)):(p=!0,x=
b,c.getActiveMarkupLayer().destroy(),c.setActiveMarkupLayer(b),b.show(),x.setSessionData("Accusoft-savedLayerName",x.getName()));d(b);f.resolve()},function(){e=!0;c.getMarkupLayerCollection().removeItem(b.getId());f.resolve()});n.push(g)});PCCViewer.Promise.all(n).then(function(){function c(d){b();a(d)}var d=h.viewerControlOptions.editableMarkupLayerSource.toString().toLowerCase(),e=h.viewerControlOptions.editableMarkupLayerValue;d&&e&&!p?"layerrecordid"===d?l(e,c):"xmlname"===d?m(e,c):c():c()},function(c){e=
!0;b();a(c)})},function(c){e=!0;b();a(c)})},autoLoadEditableLayer:l,autoLoadEditableXml:m}}();this.annotationLayerReview=function(){var b,c=function(b){var c=a("[data-pcc-annotation-layer-review-section=other] .pcc-annotation-layer-review-section-content .pcc-row");c.removeClass("pcc-checked");h.viewerNodes.$annotationLayerMerge.attr("disabled",!0);0===c.length?(h.viewerNodes.$annotationLayerShowAll.attr("disabled",!0),h.viewerNodes.$annotationLayerHideAll.attr("disabled",!0),h.viewerNodes.$annotationLayerMergeAll.attr("disabled",
!0),h.viewerNodes.$annotationLayerMergeMode.attr("disabled",!0)):(h.viewerNodes.$annotationLayerShowAll.attr("disabled",!1),h.viewerNodes.$annotationLayerHideAll.attr("disabled",!1),h.viewerNodes.$annotationLayerMergeAll.attr("disabled",!1),h.viewerNodes.$annotationLayerMergeMode.attr("disabled",!1));"off"===b||0===c.length?(c.filter(".pcc-toggle-all").addClass("pcc-hide"),c.not(".pcc-toggle-all").find(".pcc-checkbox").addClass("pcc-hide"),h.viewerNodes.$annotationLayerMergeActions.addClass("pcc-hide")):
"on"===b?(c.filter(".pcc-toggle-all").removeClass("pcc-hide"),c.not(".pcc-toggle-all").find(".pcc-checkbox").removeClass("pcc-hide"),h.viewerNodes.$annotationLayerMergeActions.removeClass("pcc-hide")):(c.filter(".pcc-toggle-all").toggleClass("pcc-hide"),c.not(".pcc-toggle-all").find(".pcc-checkbox").toggleClass("pcc-hide"),h.viewerNodes.$annotationLayerMergeActions.toggleClass("pcc-hide"));da(h.viewerNodes.$annotationLayerMergeActions)},d=function(){function d(e){var f=a(".pcc-annotation-layer-review-other");
c("off");b.copyLayers(e);_.forEach(b.getMarks(),function(a){a.setInteractionMode(PCCViewer.Mark.InteractionMode.Full)});_.forEach(e,function(a){f.filter('[data-pcc-other-layer="'+a.getId()+'"]').remove();h.viewerControl.deleteMarks(a.getMarks());a.destroy();a.setSessionData("Accusoft-state","merged")});f=a(".pcc-annotation-layer-review-other");0===f.length&&(e=l("div","pcc-annotation-layer-review-other"),e.appendChild(document.createTextNode(PCCViewer.Language.data.annotationLayerReview.noAnnotationsForReview)),
a("[data-pcc-annotation-layer-review-section=other] .pcc-annotation-layer-review-section-content").append(e),h.viewerNodes.$annotationLayerShowAll.attr("disabled",!0),h.viewerNodes.$annotationLayerHideAll.attr("disabled",!0),h.viewerNodes.$annotationLayerMergeMode.attr("disabled",!0),h.viewerNodes.$annotationLayerMergeAll.attr("disabled",!0))}h.viewerNodes.$annotationLayerMergeMode.on("click",function(){c()});h.viewerNodes.$annotationLayerMergeCancel.on("click",function(){c("off")});h.viewerNodes.$annotationLayerMerge.on("click",
function(){var b=a(".pcc-annotation-layer-review-other.pcc-checked"),b=_.map(b,function(a){a=a.getAttribute("data-pcc-other-layer");return h.viewerControl.getMarkupLayerCollection().getItem(a)});d(b);h.notify({message:PCCViewer.Language.data.annotationLayerReview.mergeLayerSuccess,type:"success"})});h.viewerNodes.$annotationLayerMergeAll.on("click",function(){var b=a(".pcc-annotation-layer-review-other"),b=_.map(b,function(a){a=a.getAttribute("data-pcc-other-layer");return h.viewerControl.getMarkupLayerCollection().getItem(a)});
d(b);h.notify({message:PCCViewer.Language.data.annotationLayerReview.mergeAllLayerSuccess,type:"success"})});h.viewerNodes.$annotationLayerShowAll.on("click",function(){var b=a(".pcc-annotation-layer-review-other");_.forEach(b,function(a){a=a.getAttribute("data-pcc-other-layer");h.viewerControl.getMarkupLayerCollection().getItem(a).show()});h.viewerNodes.$annotationLayerReviewOther.find(".pcc-icon-eye-closed").removeClass("pcc-icon-eye-closed").addClass("pcc-icon-eye")});h.viewerNodes.$annotationLayerHideAll.on("click",
function(){var b=a(".pcc-annotation-layer-review-other");_.forEach(b,function(a){a=a.getAttribute("data-pcc-other-layer");h.viewerControl.getMarkupLayerCollection().getItem(a).hide()});h.viewerNodes.$annotationLayerReviewOther.find(".pcc-icon-eye").removeClass("pcc-icon-eye").addClass("pcc-icon-eye-closed")})},e=function(b){b=b.data.layerId;var c=h.viewerControl.getMarkupLayerCollection().getItem(b);c.show();c.setSessionData("Accusoft-visibility","visible");c=l("span","pcc-icon pcc-icon-eye pcc-pull-right");
c.setAttribute("title",PCCViewer.Language.data.annotationLayerReview.hide);a(this).replaceWith(c);a(c).on("click",{layerId:b},f)},f=function(b){b=b.data.layerId;var c=h.viewerControl.getMarkupLayerCollection().getItem(b);c.hide();c.setSessionData("Accusoft-visibility","hidden");a(this).off("click",f);c=l("span","pcc-icon pcc-icon-eye-closed pcc-pull-right");c.setAttribute("title",PCCViewer.Language.data.annotationLayerReview.show);a(this).replaceWith(c);a(c).on("click",{layerId:b},e)},g=function(b){var c=
b.data.layerId,d=h.viewerControl.getMarkupLayerCollection().getItem(c),c=h.$dom.find(".pcc-current-layer-name"),e;"input"===c[0].nodeName.toLowerCase()?(e=l("span","pcc-current-layer-name pcc-pull-left"),e.appendChild(document.createTextNode(d.getName()||PCCViewer.Language.data.annotationLayerReview.unnamed))):(e=l("input","pcc-current-layer-name pcc-pull-left"),e.setAttribute("value",c.text()),e.setAttribute("placeholder",PCCViewer.Language.data.annotationLayerReview.unnamed),a(e).on("keypress",
function(b){13===b.keyCode&&(b.preventDefault(),a(this).blur())}),a(e).on("blur",function(c){(c=a(this).val())&&d.setName(c);g(b)}));a(e).replaceAll(c).focus().select()},k=function(b,c,d){var g=function(b){a(b).toggleClass("pcc-checked");b=a("[data-pcc-annotation-layer-review-section=other] .pcc-annotation-layer-review-section-content").find(".pcc-checked");h.viewerNodes.$annotationLayerMerge.attr("disabled",0===b.length)},k=document.createDocumentFragment();c.empty();b.sort(function(a,b){a=(a.getName()||
"").toLowerCase();b=(b.getName()||"").toLowerCase();return a===b?0:a>b?1:-1});var m=[];_.forEach(b,function(b){var c,h,p;"hidden"===b.getSessionData("Accusoft-visibility")?(c="pcc-icon-eye-closed",h=PCCViewer.Language.data.annotationLayerReview.show,p=e):(c="pcc-icon-eye",h=PCCViewer.Language.data.annotationLayerReview.hide,p=f);var n=l("div","pcc-annotation-layer-review-"+d+" pcc-"+d+"-layer pcc-row"),q=l("span","pcc-checkbox pcc-hide"),r=l("span");c=l("span","pcc-icon "+c+" pcc-pull-right");c.setAttribute("title",
h);r.appendChild(document.createTextNode(b.getName()||""));n.appendChild(q);n.appendChild(r);n.appendChild(c);n.setAttribute("data-pcc-"+d+"-layer",b.getId());a(q).on("click",function(){g(n)});a(c).on("click",{layerId:b.getId()},p);k.appendChild(n);m.push(n)});b=Ga("pcc-toggle-all pcc-row pcc-hide",function(b){_.forEach(m,function(c){var d=a(c).hasClass("pcc-checked"),e="unchecked"===b&&d;("checked"===b&&!d||e)&&g(c)})});c.append(b).append(k)},l=function(a,b){a=document.createElement(a||"div");"string"===
typeof b&&(a.className=b);return a};return{init:function(){d()},onOpenDialog:function(d,h){d=b=d;var m=a("[data-pcc-annotation-layer-review-section=current] .pcc-annotation-layer-review-section-content");m.empty();var n=l("div","pcc-annotation-layer-review-current pcc-current-layer pcc-checked pcc-row"),p=l("span","pcc-current-layer-name pcc-pull-left");p.appendChild(document.createTextNode(d.getName()||PCCViewer.Language.data.annotationLayerReview.unnamed));n.setAttribute("data-pcc-current-layer",
d.getId());n.appendChild(p);var q,r;"hidden"===d.getSessionData("Accusoft-visibility")?(q="pcc-icon-eye-closed",p=PCCViewer.Language.data.annotationLayerReview.show,r=e):(q="pcc-icon-eye",p=PCCViewer.Language.data.annotationLayerReview.hide,r=f);q=l("span","pcc-icon "+q+" pcc-pull-right");q.setAttribute("title",p);a(q).on("click",{layerId:d.getId()},r);n.appendChild(q);a('[data-pcc-annotation-layer-edit="current"]').off().on("click",{layerId:d.getId()},g);m.append(n);d=a("[data-pcc-annotation-layer-review-section=other] .pcc-annotation-layer-review-section-content");
0===h.length?(d.empty(),h=l("div","pcc-annotation-layer-review-other"),h.appendChild(document.createTextNode(PCCViewer.Language.data.annotationLayerReview.noAnnotationsForReview)),d.append(h)):k(h,d,"other");c("off")}}}();this.annotationLayerSave=function(){function b(a){var c=g.getAllMarks(),d=[];_.each(c,function(a){d=d.concat(a.getConversation().getComments())});return d=_.filter(d,function(b){return b.getMarkupLayer()&&b.getMarkupLayer().getId()===a.getId()})}function c(a){var d=b(a);_.each(d,
function(b){b.getData("Accusoft-owner")===a.getSessionData("Accusoft-savedLayerName")&&b.setData("Accusoft-owner",a.getName())});a.setSessionData("Accusoft-savedLayerName",a.getName())}function d(b){return function(c){a(".pcc-select-load-annotation-layers .pcc-label").text(b.getName());g.refreshConversations();m({message:k.annotations.save.success+b.getName(),type:"success"})}}function e(a){m({message:k.annotations.save.failure+(k.error[a.code]||"")})}function f(b){h.viewerNodes.$annotationLayerSave.on("click",
function(){if(!h.viewerNodes.$annotationLayerSave.hasClass("pcc-disabled")){b.setName(l.find("input[type=text]").val());c(b);g.saveMarkupLayer(b.getId()).then(d(b),e);a('[data-pcc-toggle="dialog-annotation-layer-save"]').toggleClass("pcc-active");var f=h.$dom.find('[data-pcc-toggle-id="dialog-annotation-layer-save"]');t({$elem:f,$target:l,toggleID:"dialog-annotation-layer-save",$contextMenu:h.viewerNodes.$contextMenu})}});l.find("input[type=text]").on("keyup change",function(){""!==this.value?h.viewerNodes.$annotationLayerSave.removeClass("pcc-disabled"):
h.viewerNodes.$annotationLayerSave.addClass("pcc-disabled")})}var g,k,l,m;return{init:function(b,c,d,e){g=b;k=c;l=a(d);m=e},onOpenDialog:function(a){l.find("input[type=text]").val("");l.off();h.viewerNodes.$annotationLayerSave.off();f(a)},onSave:function(a){c(a);g.saveMarkupLayer(a.getId()).then(d(a),e)}}}();var Ga=function(){function b(a){var c=document.createElement("div");c.className=a;a=document.createElement("span");a.className="pcc-checkbox";var d=document.createElement("span");d.appendChild(document.createTextNode(PCCViewer.Language.data.toggleAll));
c.appendChild(a);c.appendChild(d);return c}return function(c,d){d="function"===typeof d?d:function(){};c=b(("string"===typeof c?c:"")||"");var e=a(c);e.click(function(){e.hasClass("pcc-checked")?(e.removeClass("pcc-checked"),d("unchecked")):(e.addClass("pcc-checked"),d("checked"))});return c}}();this.eSignature=function(){function c(a){PCCViewer.Signatures.forEach(function(b){b.lastSelected=b===a})}function d(a){l.getTemplateMark().setRectangle({x:0,y:0,width:a.documentWidth||0,height:a.documentHeight||
0})}function e(a,b,f){var g=l.getTemplateMark();a&&(a.path||a.text)||(a=PCCViewer.Signatures.toArray().shift());g.setSignature(a);d(a);c(a);b||h.setMouseTool({mouseToolName:"AccusoftPlaceSignature",apiTrigger:!!f})}function f(a){a&&h.viewerControl.getCurrentMouseTool()===l.getName()?D({showContextMenu:!0,showAllEditControls:!1,mouseToolType:l.getType()}):a===b&&D({showContextMenu:!1,showAllEditControls:!1,mouseToolType:l.getType()})}function g(c,d,k,n){function p(){var a=document.createTextNode(PCCViewer.Language.data.esignCorruptData);
r.className+=" pccError pcc-text-center";u.appendChild(x);r.appendChild(a);q.appendChild(r);q.appendChild(u);d.appendChild(q)}var q=document.createElement("div"),r=document.createElement("div"),t=document.createElement("div"),u=document.createElement("div"),w=document.createElement("span"),x=document.createElement("button"),z=document.createElement("button"),y=document.createElement("button"),G=document.createElement("span"),A=document.createTextNode(PCCViewer.Language.data.esignUseSignature||"Use signature");
n=!1===n?!1:!0;q.className="pcc-esign-display";r.className="pcc-esign-preview-container"+(c.lastSelected?" pcc-esign-active":"");t.className="pcc-esign-preview";x.className="pcc-icon pcc-icon-delete";x.title=PCCViewer.Language.data.esignDelete||"";z.className="pcc-icon pcc-icon-download";z.title=PCCViewer.Language.data.esignDownload||"";G.className="pcc-icon pcc-icon-place";y.appendChild(G);y.appendChild(A);u.className="pcc-margin-top";c.width&&c.height&&(t.style["max-width"]=c.width+"px",t.style["max-height"]=
c.height+"px");x.onclick=function(){PCCViewer.Signatures.remove(c);if(c.lastSelected){var a=PCCViewer.Signatures.toArray().shift();a?(a.lastSelected=!0,l.getTemplateMark().setSignature(a),h.launchESignManage(),f(a)):h.viewerControl.getCurrentMouseTool()===l.getName()&&h.setMouseTool({mouseToolName:"AccusoftPanAndEdit"})}q.parentElement&&q.parentElement.removeChild(q);0===PCCViewer.Signatures.toArray().length&&h.launchESignManage()};z.onclick=function(){PCCViewer.Util.save("signature.json",JSON.stringify(c,
b,2))};a(y).on("click",function(a){e(c,!1,!0);h.closeEsignModal();f(c)});r.onclick="function"===typeof k?k:function(){m.find(".pcc-esign-preview-container").removeClass("pcc-esign-active");a(this).addClass("pcc-esign-active");e(c,!0);f(c)};c.category&&(k=document.createTextNode(c.category),w.appendChild(k),w.className="pcc-pull-right pcc-icon-height");try{PCCViewer.SignatureDisplay(t,c),u.appendChild(w),u.appendChild(x),u.appendChild(z),u.appendChild(y),r.appendChild(t),q.appendChild(r),n&&q.appendChild(u),
d.appendChild(q)}catch(B){p()}}function k(a,b){var c=function(){var a=document.createElement("div");a.className="pcc-col-6";return a},c=[c(),c()],d=[].concat(c);_.forEach(b,function(a){var b=d.shift();b.appendChild(a);d.push(b)});_.forEach(c,function(b){a.appendChild(b)})}var l=PCCViewer.MouseTools.getMouseTool("AccusoftPlaceSignature"),m,n,p=function(){PCCViewer.Signatures.on("ItemAdded",w);PCCViewer.Signatures.on("ItemRemoved",x);m.on("click",".pcc-icon-delete",function(a){r.clearAll()})},t=function(){0<
PCCViewer.Signatures.toArray().length?(n.removeClass("pcc-disabled"),n.removeAttr("disabled")):(n.addClass("pcc-disabled"),n.attr("disabled",""))},w=function(a){"undefined"===typeof a.item?h.notify({message:PCCViewer.Language.data.noSignatures}):t()},x=function(a){PCCViewer.Signatures.toArray();var c=PCCViewer.MouseTools.getMouseTool("AccusoftPlaceSignature");a.item===c.getTemplateMark().getSignature()&&c.getTemplateMark().setSignature(b);t()};return{init:function(){m=h.viewerNodes.$esignOverlay;
n=h.viewerNodes.$esignPlace;_.forEach(PCCViewer.Signatures.toArray(),function(a){a.lastSelected&&e(a,!0)});p();t()},destroy:function(){PCCViewer.Signatures.off("ItemAdded",w);PCCViewer.Signatures.off("ItemRemoved",x)},mouseTool:l,getFreehandContext:function(a){return PCCViewer.SignatureControl(a)},getTextContext:function(b,c){var d=u.names(),e=[],f="Times New Roman";0<d.length&&(f=d[0]);b=b||h.viewerNodes.$esignOverlay.find("[data-pcc-signature-previews]");c=c||function(){var a=h.viewerNodes.$esignOverlay.find('[data-pcc-esign="textInput"]'),
c="oninput"in a.get(0)?"input":"propertychange";a.on(c,function(c){if(!c.originalEvent.propertyName||"value"===c.originalEvent.propertyName){b.html("");var f=a.val();e=_.map(d,function(a){var b=document.createElement("div");b.className="pcc-button pcc-esign-text-preview";b.style.fontFamily='"'+a+'", cursive';b.setAttribute("data-pcc-font-name",a);a=document.createTextNode(f);b.appendChild(a);return b});k(b.get(0),e)}});return a}();b.on("click",".pcc-esign-text-preview",function(b){_.forEach(e,function(b){a(b).removeClass("pcc-esign-text-active")});
a(this).addClass("pcc-esign-text-active");f=this.getAttribute("data-pcc-font-name")});return{done:function(){return{type:"text",text:c.val(),fontName:f}},clear:function(){c.val("");b.html("");c.focus()}}},getManageContext:function(a){var b=new q;PCCViewer.Signatures.forEach(function(c){b.push(function(){g(c,a)})});b.run()},insertSignatureView:g,changeMouseToolSignature:e,changeMouseToolRectangle:d,updateSignatureSizeOnDocument:function(a){var b,c,d=!1;switch(a.getType()){case PCCViewer.Mark.Type.FreehandSignature:c=
function(b){return b.path===a.getPath()};break;case PCCViewer.Mark.Type.TextSignature:c=function(b){return b.text===a.getText()&&b.fontName===a.getFontName()}}PCCViewer.Signatures.forEach(function(a){c(a)&&(b=a)});if(b){var e=a.getRectangle();b.documentHeight!==e.width&&(b.documentWidth=e.width,d=!0);b.documentHeight!==e.height&&(b.documentHeight=e.height,d=!0);d&&r.setStored(PCCViewer.Signatures.toArray())}}}}();var Oa=function(){function c(b){function e(){p||(p=!0,"edit"===b.mode&&n.val()?k(b.mark,
n.val()):!b.mark.getHref()&&m.getMarkById(b.mark.getId())&&m.deleteMarks([b.mark]),d(),a(document.body).off("mousedown touchstart",g),u.remove(),"edit"===b.mode&&_.contains(m.getSelectedMarks(),b.mark)&&(m.deselectMarks([b.mark]),m.selectMarks([b.mark])))}function g(c){c=c||{};c.target&&a.contains(b.dom,c.target)||(h||"scroll"!==c.type)&&e()}var h=!0,l=!1,n=a(b.dom).find("input").val(b.href).on("input propertychange",function(a){var b=a.originalEvent?a.originalEvent:a;if("propertychange"!==b.type||
"value"===b.propertyName)a.target.value&&a.target.value.length?q.removeAttr("disabled"):q.attr("disabled","disabled")}).on("keypress",function(a){13===a.which&&g()}).on("touchstart click",function(a){a.preventDefault();"touchstart"===a.type&&(l=!0,h=!1);return!1}).on("focus",function(){h=l?!1:h}).on("blur",function(){h=!0}),p=!1,q=a(b.dom).find('[data-pcc-hyperlink="done"]').click(function(){k(b.mark,n.val());e()});a(b.dom).find('[data-pcc-hyperlink="delete"]').click(function(){m.deleteMarks([b.mark]);
e()});a(b.dom).find('[data-pcc-hyperlink="clear"]').click(function(){n.val("").focus();q.attr("disabled","disabled")});a(b.dom).find("[data-pcc-link-navigate]").on("click",function(a){"page"===this.getAttribute("data-href-type")&&(a.preventDefault(),m.setPageNumber(this.getAttribute("href")));e()});a(b.dom).find('[data-pcc-hyperlink="edit"]').click(function(){e();f(b.mark,"edit",b.clientX,b.clientY)});setTimeout(function(){a(document.body).on("mousedown touchstart",g);b.useMoveTrigger="edit"!==b.mode;
u.add(b,g);n.focus();n.val()||q.attr("disabled","disabled")},0);return e}function d(){t&&"function"===typeof t&&(t(),t=b);r&&a.contains(document.body,r)&&(r.parentElement.removeChild(r),r=b)}function e(b){var c=b.clientY+(window.scrollY||document.body.scrollTop||document.documentElement.scrollTop||0),d=b.clientX+(window.scrollX||document.body.scrollLeft||document.documentElement.scrollLeft||0),f=b.dom.getBoundingClientRect(),g=f.width||f.right-f.left,f=f.height||f.bottom-f.top,h=a(window).height(),
k=a(window).width(),l=Math.min(d+10,k-g-10),m={top:Math.min(c+10,h-f-10)+"px",left:l+"px"};b.href&&(l=Math.max(10,d-g/2),m.left=l+"px");c+f+10>h&&(m.bottom=h-c-10+"px",m.top="auto");d+g+10>k&&(m.right="10px",m.left="auto");c=_.map(m,function(a,b){return b+":"+a}).join(";");b.dom.setAttribute("style",c)}function f(b,d,g,h){b={mark:b,mode:d,href:b.getHref(),clientX:g,clientY:h};d=document.createElement("div");g="url";h="textHyperlink";d.className="pcc-hyperlink-menu";b.mark instanceof PCCViewer.DocumentHyperlink&&
(h="documentHyperlink",isNaN(b.href)||(g="page"));a(d).html(_.template(q)({mode:b.mode,link:b.href,language:p,hrefType:g,hyperlinkType:h}));b.dom=d;t=c(b);document.body.appendChild(d);e(b);r=d}function g(a,b){d();a.clientX&&a.clientY&&f(a.mark||a.hyperlink,b,a.clientX,a.clientY)}function k(a,b){b.match(/^([a-zA-Z]+\:)?\/\//)||(b="http://"+b);a.setHref(b)}function l(a){a.mark.getType()===PCCViewer.Mark.Type.TextHyperlinkAnnotation&&a.clientX&&a.clientY&&g(a,"edit")}var m,p,q,r,t,u=n(h.$dom);return{init:function(a,
b,c,d){m=a;p=b;q=c.replace(/>[\s]{1,}</g,"><");m.on(PCCViewer.EventType.Click,function(a){var b=d();if("PanAndEdit"===b||"EditMarks"===b)"mark"===a.targetType&&a.mark&&a.mark.getType&&a.mark.getType()===PCCViewer.Mark.Type.TextHyperlinkAnnotation?(m.getSelectedMarks(),a.originalEvent.shiftKey||a.clientX&&a.clientY&&g(a,"view")):"documentHyperlink"===a.targetType&&g(a,"view")});m.on(PCCViewer.EventType.MarkCreated,l)},setHref:k,triggerMenu:l}}(),pa=function(){function c(b){function d(){p||(p=!0,e(),
a(document.body).off("mousedown touchstart",g),_.contains(f.getSelectedMarks(),b.mark)&&(f.deselectMarks([b.mark]),f.selectMarks([b.mark])))}function g(c){c=c||{};c.target&&a.contains(b.dom,c.target)||(k||"scroll"!==c.type)&&d()}var k=!0,m=!1,n=a(b.dom).find("input").on("input propertychange",function(a){var b=a.originalEvent?a.originalEvent:a;if("propertychange"!==b.type||"value"===b.propertyName)a.target.value&&a.target.value.length?q.removeAttr("disabled"):q.attr("disabled","disabled")}).on("touchstart click",
function(a){a.preventDefault();"touchstart"===a.type&&(m=!0,k=!1);return!1}).on("focus",function(){k=m?!1:k}).on("blur",function(){k=!0}).on("keypress",function(b){if(13===b.which)return g(),!1;b=a(this).val();if(l&&b.length+1>l)return h.notify({message:PCCViewer.Language.data.redactionReasonFreeforMaxLengthOver}),!1}).on("keyup",function(c){b.mark.setReason(a(this).val())}),p=!1,q=a(b.dom).find('[data-pcc-redaction-reason="done"]').click(d);a(b.dom).find('[data-pcc-redaction-reason="clear"]').click(function(){n.val("").focus();
b.mark.setReason("");q.attr("disabled","disabled")});setTimeout(function(){a(document.body).on("mousedown touchstart",g);b.useMoveTrigger="edit"!==b.mode;n.focus();n.val()||q.attr("disabled","disabled")},0);return d}function d(b){var c=b.clientY+(window.scrollY||document.body.scrollTop||document.documentElement.scrollTop||0),e=b.clientX+(window.scrollX||document.body.scrollLeft||document.documentElement.scrollLeft||0),f=b.dom.getBoundingClientRect(),g=f.width||f.right-f.left,f=f.height||f.bottom-
f.top,h=a(window).height(),k=a(window).width(),l={top:Math.min(c+10,h-f-10)+"px",left:Math.min(e+10,k-g-10)+"px"};c+f+10>h&&(l.bottom=h-c-10+"px",l.top="auto");e+g+10>k&&(l.right="10px",l.left="auto");c=_.map(l,function(a,b){return b+":"+a}).join(";");b.dom.setAttribute("style",c)}function e(){p&&"function"===typeof p&&(p(),p=b);n&&a.contains(document.body,n)&&(n.parentElement.removeChild(n),n=b)}var f,g,k,l,m={},n,p;return{init:function(a,b,c,d,e){f=a;g=b;k=c.replace(/>[\s]{1,}</g,"><");l=e;_.forEach(d,
function(a){m[a.reason]=!0})},triggerMenu:function(b,f){e();b.clientX&&b.clientY&&setTimeout(function(){var e={mark:b.mark||b.hyperlink,mode:f,clientX:b.clientX,clientY:b.clientY},h=document.createElement("div");h.className="pcc-redaction-reason-menu";a(h).html(_.template(k)({language:g,mark:e.mark}));e.dom=h;p=c(e);document.body.appendChild(h);d(e);n=h},0)},isPreloadedRedactionReason:function(a){return!0===m[a]}}}(),la=function(){function c(){if(!1!==F.enableRedactionReasonSelection){var a=q.pop();
_.each(F.reasons,function(a){q.push({name:A.redactionReasonApply+a.reason,action:function(b,c){a.reason===A.redactionReasonClear?c.setReason(""):a.reason===PCCViewer.Language.data.redactionReasonFreeform?H(b):c.setReason(a.reason)},valid:function(a,b,c){return("RectangleRedaction"===b||"TextSelectionRedaction"===b)&&a.toLowerCase()!==PCCViewer.EventType.Click.toLowerCase()}})});q.push(a)}}function d(b,c,e){var f=c.getType().toLowerCase();b.className=b.className+" "+r;_.forEach(q,function(d){if(d.valid(f,
e&&e.getType(),b)){var g=document.createElement("li");g.appendChild(document.createTextNode(A[d.languageKey]||d.name));g.className=t;a(g).on("mouseup touchend",function(a){!1!==d.action(c,e)&&(a.preventDefault(),v())});b.appendChild(g)}})}function e(c,d,f,g){if(f===b||g===b)f=c,g=d;var h=g+(window.scrollY||document.body.scrollTop||document.documentElement.scrollTop||0),k=f+(window.scrollX||document.body.scrollLeft||document.documentElement.scrollLeft||0),l=w.getBoundingClientRect(),m=l.width||l.right-
l.left,n=l.height||l.bottom-l.top,p=a(window).height(),q=a(window).width(),r=Math.min(h+10,p-n-10),t=Math.min(k+10,q-m-10),v=l,l=n,v=m,x={top:r+"px",left:t+"px"};D&&(w.className+=" "+u,v=w.getBoundingClientRect(),l=v.height||v.bottom-v.top,v=v.width||v.right-v.left);if(f!==c||g!==d)if(f=d+(window.scrollY||document.body.scrollTop||document.documentElement.scrollTop||0),g=c+(window.scrollX||document.body.scrollLeft||document.documentElement.scrollLeft||0),g>t&&g<t+v&&f>r&&f<r+l){e(c,d);return}h+n+10>
p&&(x.bottom=D&&d+l+10>p?"10px":p-h-10+"px",x.top="auto");k+m+10>q&&(x.right=D&&c+v+10>q?"10px":q-k-10+"px",x.left="auto");c=_.map(x,function(a,b){return b+":"+a}).join(";");w.setAttribute("style",c)}function f(c){if(c.clientX!==b&&c.clientY!==b){var g=document.createElement("ul");if(c.mark)d(g,c,c.mark);else if(c.textSelection)d(g,c);else return;0===g.children.length?v():(a(w).empty().append(g.children).removeAttr("style"),e(c.clientX,c.clientY,c.handleClientX,c.handleClientY))}}function g(a){a.mark&&
a.mark.getInteractionMode()===PCCViewer.Mark.InteractionMode.SelectionDisabled&&k(a)}function k(c){if(c.mark&&c.mark.getType()===PCCViewer.Mark.Type.TextHyperlinkAnnotation)w&&v();else if(c.clientX!==b&&c.clientY!==b){w&&v();w=document.createElement("ul");if(c.mark)d(w,c,c.mark);else if(c.textSelection)d(w,c);else return;if(0!==w.children.length){document.body.appendChild(w);e(c.clientX,c.clientY,c.handleClientX,c.handleClientY);if(D){var f=a(w);f.on(window.navigator.pointerEnabled?"pointerdown":
window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(a){if(/pointer/i.test(a.type)&&"touch"===a.originalEvent.pointerType){if(h.latestBreakpoint!==h.breakpointEnum.mobile&&!f.hasClass("pcc-expanded"))return f.addClass("pcc-expanded"),a.preventDefault(),a.stopPropagation(),!1}else if("li"!==a.target.tagName.toLowerCase())return a.preventDefault(),a.stopPropagation(),!1})}a(document.body).on("mousedown touchstart",v);J.add({clientX:c.clientX,clientY:c.clientY,dom:w},v)}}}function l(a){var b=
{language:A};C.show();B.html(E({options:b})).addClass("pcc-open").on("click",".pcc-overlay-closer",function(a){p(B,C)}).on("click",m);document.createTextNode(a);document.createElement("div");a=a.replace(/\n/g," ").replace(/[\s]{2,}/g," ");B.find(".pcc-copy-textarea").val(a).select();return B}function m(a){B.is(a.target)&&(B.on("click",m),p(),window.getSelection&&window.getSelection().removeAllRanges())}function p(){B.off("click",m);B.removeClass("pcc-open");C.hide()}var q=[{name:"Add Comment",languageKey:"addComment",
action:function(a,b){Ka.addComment(b.getConversation())},valid:function(a,b,c){return!!x.comment&&b&&!!b.match(/(annotation|redaction)/i)}},{name:"Select",languageKey:"select",action:function(a,b){y.deselectAllMarks();y.selectMarks([b])},valid:function(a,b,c){return!!x.select&&b&&!!b.match(/(annotation|redaction)/i)&&a.toLowerCase()!==PCCViewer.EventType.Click.toLowerCase()}},{name:"Copy...",languageKey:"copyMenu",action:function(a){l(a.selectedText)},valid:function(a,b,c){return!!x.copy&&a.toLowerCase()===
PCCViewer.EventType.TextSelected.toLowerCase()}},{name:"Highlight",languageKey:"highlight",action:function(a){var b=y.addMark(a.textSelection.pageNumber,PCCViewer.Mark.Type.HighlightAnnotation);b.setPosition(a.textSelection);y.clearMouseSelectedText(a.textSelection);f({mark:b,clientX:a.clientX,clientY:a.clientY,getType:function(){return"MarkCreated"}});return!1},valid:function(a,b,c){return!!x.highlight&&a.toLowerCase()===PCCViewer.EventType.TextSelected.toLowerCase()}},{name:"Redact",languageKey:"redact",
action:function(a){var b=y.addMark(a.textSelection.pageNumber,PCCViewer.Mark.Type.TextSelectionRedaction);b.setPosition(a.textSelection);y.clearMouseSelectedText(a.textSelection);f({mark:b,clientX:a.clientX,clientY:a.clientY,getType:function(){return"MarkCreated"}});return!1},valid:function(a,b,c){return!!x.redact&&a.toLowerCase()===PCCViewer.EventType.TextSelected.toLowerCase()}},{name:"Hyperlink",languageKey:"hyperlink",action:function(a){var b=y.addMark(a.textSelection.pageNumber,PCCViewer.Mark.Type.TextHyperlinkAnnotation);
b.setPosition(a.textSelection);y.clearMouseSelectedText(a.textSelection);Oa.triggerMenu({mark:b,clientX:a.clientX,clientY:a.clientY})},valid:function(a,b,c){return!!x.hyperlink&&a.toLowerCase()===PCCViewer.EventType.TextSelected.toLowerCase()}},{name:"Strikethrough",languageKey:"strikethrough",action:function(a){var b=y.addMark(a.textSelection.pageNumber,PCCViewer.Mark.Type.StrikethroughAnnotation);b.setPosition(a.textSelection);y.clearMouseSelectedText(a.textSelection);f({mark:b,clientX:a.clientX,
clientY:a.clientY,getType:function(){return"MarkCreated"}});return!1},valid:function(a,b,c){return!!x.strikethrough&&a.toLowerCase()===PCCViewer.EventType.TextSelected.toLowerCase()}},{name:"Cancel",languageKey:"cancelButton",action:function(){},valid:function(a,b,c){return!!x.cancel&&c.children.length}}],r="pcc-immediate-action-menu",t="pcc-immediate-action-menu-item",u="pcc-hover-trigger",w,v=function(c){c=c||{manualDismiss:!0};w&&w.parentElement&&(c.target&&"undefined"!==typeof c.target.className&&
!c.target.className.toString().match(t)||"move"===c.type||"scroll"===c.type||c.manualDismiss)&&(w.parentElement.removeChild(w),a(document.body).off("mousedown touchstart",v),J.remove(),w=b)},x={},y,A={},B,C,E,D=!1,F={},H,J=n(h.$dom);return{init:function(a){x=a.actions;F=a.redactionReasons;H=a.redactionReasonMenuTrigger;y=a.viewerControl;A=PCCViewer.Language.data;D="hover"===a.mode;B=a.$overlay;C=a.$overlayFade;E=_.template(a.copyOverlay.replace(/>[\s]{1,}</g,"><"));y.on(PCCViewer.EventType.MarkCreated,
k);y.on(PCCViewer.EventType.TextSelected,k);y.on(PCCViewer.EventType.Click,g);c()}}}(),Ka=function(){function c(d,e){e.bodyClickDismiss&&"function"===typeof e.bodyClickDismiss&&a(document.body).off("touchstart click",e.bodyClickDismiss);if(e.cancel&&"create"===e.editMode)e.conversation.deleteComments(d);else if(e.cancel&&"edit"===e.editMode)d.setData("Accusoft-isInEditMode",b),t.getMarkById(e.conversation.getMark().getId())&&t.refreshConversations(e.conversation);else if(e.save){var f=a(e.textarea).val(),
g=d.getText();f===g?(e.cancel=!0,e.save=!1,c(d,e)):f!==b&&(d.setData("Accusoft-isInEditMode",b),d.setText(f))}}function d(a){a=a.split("|");a=_.map(a,function(a){var b={};a=a.split("&");for(var c=a.length;c--;){var d=a[c].split("="),e=d.shift(),d=d.join("=");b[e]=+d==d?+d:d}return b});return PCCViewer.Util.calculateNonOverlappingSelections(a,"#ffffff")}function f(c,d){d&&a(d).off().find("*").off();C.store[c+"triggers"]&&(_.forEach(C.store[c+"triggers"],function(a,b){"function"===typeof a&&C.off(b,
a)}),C.store[c+"triggers"]=b)}function g(h,l,m){function n(a,b){b.mark===h.getMark()&&(C.trigger("shrink"),x())}function p(a,b){H.hasClass("pcc-expanded")&&y()}function q(){H.hasClass("pcc-expanded")?y():x()}function x(){H.addClass("pcc-expanded");E.addClass("pcc-icon-x").removeClass("pcc-icon-comment")}function y(){H.removeClass("pcc-expanded");E.removeClass("pcc-icon-x").addClass("pcc-icon-comment")}var z=h.getComments();if(0!==z.length){var A=h.getMark().getId(),B=h.getData("Accusoft-selectedState");
if("in"===B&&m)return a(m).addClass("pcc-conversation-selected"),0<z.length&&0<z[z.length-1].getText().length&&a(m).find(".pcc-comment-reply").removeClass("pcc-comment-hide"),h.setData("Accusoft-selectedState",b),m;if("out"===B&&m)return l=a(m),l.removeClass("pcc-conversation-selected"),l.find(".pcc-conversation-container").removeClass("pcc-expanded"),l.find(".pcc-comment-trigger").removeClass("pcc-icon-x").addClass("pcc-icon-comment"),l.find(".pcc-comment-reply").addClass("pcc-comment-hide"),h.setData("Accusoft-selectedState",
b),m;f(A,m);B&&h.setData("Accusoft-selectedState",b);m=document.createElement("div");var D=a(m);m.className="pcc-conversation";var B=document.createElement("div"),E=a(B);E.addClass("pcc-comment-trigger pcc-icon pcc-icon-comment");var F=document.createElement("div"),H=a(F);H.addClass("pcc-conversation-container");m.appendChild(B);m.appendChild(F);_.forEach(z,function(f,g,k){function l(){C.off("dismissPending",l);a(document.body).off("click",m);y.off();var b=C.store[x+"dismiss"];b&&"function"===typeof b&&
b()}function m(c){var d=a(c.target).hasClass("pcc-comment")?a(c.target):a(c.target).parent(".pcc-comment");c=a(c.target).data();c.pccMoveContextMenu===b&&"context-menu-options"!==c.pccToggle&&(d.length&&y.length&&a.contains(d.get(0),y.get(0))||""===y.val()&&"edit"===p||C.trigger("dismissPending"))}var n=document.createElement("div"),p=f.getData("Accusoft-isInEditMode"),q=f.getData("Accusoft-highlight"),r=e(f.getCreationTime(),v.toString()),x=A.toString()+"c"+g;a(u({comment:f,editMode:p,prevText:f.getText(),
date:r,language:w,first:0===g,last:g===k.length-1,isMine:f.getMarkupLayer()===t.getActiveMarkupLayer(),owner:f.getData("Accusoft-owner")})).appendTo(n);var y=a(n).find("textarea");if(q){g=d(q);k=a(n).find(".pcc-comment-text");var z=document.createDocumentFragment(),B=f.getText(),S="",I;_.forEach(g,function(a,b,c){0===b&&(S=B.substring(0,a.startIndex),z.appendChild(document.createTextNode(S)));I=null;I=document.createElement("span");S=B.substr(a.startIndex,a.length);I.style.background=a.color;I.appendChild(document.createTextNode(S));
z.appendChild(I);c[b+1]&&a.endIndex+1<c[b+1].startIndex&&(S=B.substring(a.endIndex+1,c[b+1].startIndex),z.appendChild(document.createTextNode(S)));b===c.length-1&&(S=B.substr(a.startIndex+a.length),z.appendChild(document.createTextNode(S)))});k.empty();k.append(z)}var J={editMode:p,commentId:x,bodyClickDismiss:m,dismissFunction:l,textarea:y,conversation:h};p&&(C.store[x+"dismiss"]=function(){delete C.store[x+"dismiss"];J.save=!0;c(f,J)},C.one("dismissPending",l),a(document.body).on("click",m));a(n).children().on("click",
'[data-pcc-comment="done"]',function(){J.save=!0;l()}).on("click",'[data-pcc-comment="cancel"]',function(){J.cancel=!0;l()}).on("touchend",".pcc-comment-menu-trigger",function(b){b.preventDefault();a(this).parent("[data-pcc-comment-menu]").toggleClass("pcc-expanded")}).on("click","[data-pcc-comment-delete]",function(a){a.stopPropagation();C.trigger("dismissPending");h.deleteComments(f)}).on("click","[data-pcc-comment-edit]",function(a){a.stopPropagation();C.trigger("dismissPending");f.setData("Accusoft-isInEditMode",
"edit");t.refreshConversations(h)}).appendTo(F);if(y.length){D.addClass("pcc-conversation-selected");H.addClass("pcc-expanded");E.addClass("pcc-icon-x").removeClass("pcc-icon-comment");var Q=D.find('[data-pcc-comment="done"]'),L=function(){"disabled"!==Q.attr("disabled")&&Q.attr("disabled","disabled")};y.on("keyup",function(){""===this.value?L():Q.attr("disabled")&&Q.removeAttr("disabled")}).on("touchstart click",function(a){a.preventDefault();y.focus()});L();_.defer(function(){y.focus()})}});B=document.createElement("div");
z=!0===l.isSelected&&0<z.length&&0<z[z.length-1].getText().length?"pcc-comment-reply":"pcc-comment-reply pcc-comment-hide";B.className=z;z=document.createElement("textarea");z.className="pcc-comment-reply-input";a(z).val(PCCViewer.Language.data.reply);B.appendChild(z);H.append(B);a(B).on("click",function(a){a.stopPropagation();C.trigger("dismissPending");r(h)});D.on("click",function(b){if(t.getSelectedConversation()!==h){t.deselectAllMarks();var c=h.getMark();if(c.getInteractionMode()===PCCViewer.Mark.InteractionMode.Full)t.selectMarks(c);
else{b.stopPropagation();var d=function(b){(a(b.target).hasClass("pcc-comment")?a(b.target):a(b.target).parent(".pcc-comment")).length||(a(document.body).off("click",d),b=t.getSelectedConversation(),b===c.getConversation()&&(b.setData("Accusoft-selectedState","out"),t.setSelectedConversation(null)))};k(c);a(document.body).on("click",d)}}});E.on("click",q);C.store[A+"triggers"]={expand:n,shrink:p,markId:A};_.forEach(C.store[A+"triggers"],function(a,b){if("function"===typeof a)C.on(b,a)});l&&l.isSelected&&
(m.className+=" pcc-conversation-selected");if(m.attachEvent)D.find("[data-pcc-comment-menu]").on("mouseenter",function(b){a(this).parent("[data-pcc-comment-menu]").addClass("pcc-expanded")}).on("mouseleave",function(b){a(this).parent("[data-pcc-comment-menu]").removeClass("pcc-expanded")});return m}}function k(a){a=a.getConversation();if(a.getComments().length){var b=t.getSelectedConversation();b!==a&&(b&&b.setData("Accusoft-selectedState","out"),a.setData("Accusoft-selectedState","in"),t.setSelectedConversation(a))}}
function l(a){a=t.getSelectedMarks();var b=!0,c;0===a.length?b=!1:1<a.length&&_.forEach(a,function(a,d){c&&(b=c===a.id&&b);c=a.id});b&&a[0].getConversation().getComments().length?k(a[0]):(a=t.getSelectedConversation())&&a.getMark().getInteractionMode()!==PCCViewer.Mark.InteractionMode.SelectionDisabled&&(a.setData("Accusoft-selectedState","out"),t.setSelectedConversation(null))}function m(a){"mark"===a.targetType&&a.mark.getInteractionMode()===PCCViewer.Mark.InteractionMode.SelectionDisabled?k(a.mark):
"mark"!==a.targetType&&(a=t.getSelectedConversation())&&(a.setData("Accusoft-selectedState","out"),t.setSelectedConversation(null))}function n(a){"auto"===B&&(a=A.children().first().width(),600>a&&!y.hasClass("pcc-skinny-comments")?y.addClass("pcc-skinny-comments"):600<=a&&y.hasClass("pcc-skinny-comments")&&y.removeClass("pcc-skinny-comments"))}function p(){if(t){var a=!1;_.forEach(t.getAllMarks(),function(c){_.forEach(c.getConversation().getComments(),function(a){a.setData("Accusoft-highlight",b)});
c.getConversation().getComments().length&&c.getVisible()&&(a=!0)});a&&(x.addClass("pcc-active"),t.openCommentsPanel(),!0===h.isFitTypeActive&&h.viewerControl.fitContent(h.currentFitType),h.viewerNodes.$pageList.find(".pccPageListContainerWrapper").scrollLeft(h.viewerNodes.$pageList.find(".pccPageListContainerWrapper > div:first-child").width()))}}function q(a){"auto"===a?n({size:A.width()}):"skinny"===a&&y.addClass("pcc-skinny-comments")}function r(a){C.trigger("dismissPending");t.getIsCommentsPanelOpen()||
(x.addClass("pcc-active"),t.openCommentsPanel(),!0===h.isFitTypeActive&&h.viewerControl.fitContent(h.currentFitType));a=a.addComment("");a.setData("Accusoft-owner",h.viewerControl.getActiveMarkupLayer().getName());a.setData("Accusoft-isInEditMode","create")}var t,u,w,v,x,y,A,B,C=a({});C.store={};return{init:function(b,c){t=b.viewerControl;w=b.language;u=_.template(b.template.replace(/>[\s]{1,}</g,"><"));v=b.commentDateFormat||"MM/DD/YYYY h:mma";x=a(b.button);y=a(b.panel);A=a(b.pageList);B=b.mode||
"auto";q(B);t.setConversationDOMFactory(g);t.on(PCCViewer.EventType.MarkSelectionChanged,l);t.on(PCCViewer.EventType.Click,m);t.on(PCCViewer.EventType.MarkupLoaded,p);t.on(PCCViewer.EventType.MarkRemoved,function(a){f(a.mark.getId())})},addComment:r,expandComment:function(a){return function(b){var c=t.getMarkById(b);c&&C.trigger(a,{id:b,mark:c})}}("expand"),updatePanel:n,openIfVisibleMarks:p}}(),fb=function(){function c(a){H=a.textSelection}function d(a,b,c,e,f){!0!==c?(f.addClass("pcc-disabled"),
f.removeClass("pcc-checked"),e||h.viewerNodes.$downloadAsDropdown.removeClass("pcc-disabled")):f.removeClass("pcc-disabled")}function e(){L&&(clearTimeout(L),L=b);L=setTimeout(function(){var a=M(h.viewerNodes.$downloadDialog),b=p();d(a,b,b.annotation,a.burnRedactions||a.burnSignatures,h.viewerNodes.$downloadAnnotationsCheckbox);d(a,b,b.redaction,a.burnAnnotations||a.burnSignatures,h.viewerNodes.$downloadRedactionsCheckbox);d(a,b,b.signature,a.burnRedactions||a.burnAnnotations,h.viewerNodes.$downloadSignaturesCheckbox)},
100)}function f(a,b,c){t(b,c,{mode:"complete"}).on("click",".pcc-overlay-download",function(){window.open(a);r(b,c)}).on("click",".pcc-overlay-cancel",function(a){r(b,c)})}function k(c,d){c="redactUrl="+c;var e=new XMLHttpRequest;e.open("POST",location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+pvi_urls.save_redact_url+d,!0);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");e.onreadystatechange=function(){if(!_.isEmpty(e.response)){var c=JSON.parse(e.response);
"Ok"==c.status?(document.getElementById("attachmentId")==b&&(c=c.attachmentId,pvi.util.redactChanges(c),c=a(".redactAttachment-"+c).find("span"),c.addClass("ic-redact-active"),(c=attachmentFlow.fetchLaunchAnchor(c.parent("a.redactAttachmentLink")))&&!_.isEmpty(c.attr("data-redact"))&&c.attr("data-redact",!0)),h.notify({message:PCCViewer.Language.data.redactCreationMessage,type:"success"})):h.notify({message:PCCViewer.Language.data.redactCreationMessageError})}};e.send(c)}function l(a,b,c,d){t(b,c,
{mode:"complete"}).on("click",".pcc-overlay-download",function(){k(a,d);r(b,c)}).on("click",".pcc-overlay-cancel",function(a){r(b,c)})}function m(a,b,c,d,e){t(c,d,{mode:"error"}).on("click",".pcc-overlay-retry",function(){e(b,c,d)})}function n(a,c,d,e,g){var h,k=!1;t(c,d,{mode:"pending"}).on("click",".pcc-overlay-cancel",function(a){r(c,d);h&&h.cancel&&!k&&h.cancel()});h=B.burnMarkup(a);h.then(function(a){k=!0;e==b?f(a,c,d):l(a,c,d,g)},function(b){k=!0;"UserCancelled"!==b.code&&m(PCCViewer.Language.getValue("error."+
b.code),a,c,d,n)})}function p(){var a=B.getAllMarks(),b={},c;_.forEach(a,function(a){c=a.getType();c.match(/annotation/i)&&a.getVisible()?b.annotation=!0:c.match(/redaction/i)&&a.getVisible()?b.redaction=!0:c.match(/signature/i)&&a.getVisible()&&(b.signature=!0)});return b}function q(a){var b=[];return b=_.filter(B.getAllMarks(),function(b){if(b.getType().match(/annotation/i))return a.burnAnnotations?a.annotationsFormat===D.fileDownloadChosenAnnotations?"1"===b.getData("Accusoft-burnAnnotation"):
!0:!1;if(b.getType().match(/redaction/i))return a.burnRedactions;if(b.getType().match(/signature/i))return a.burnSignatures})}function r(a,b){a.html("").removeClass("pcc-open");b.hide();a.off()}function t(a,b,c){c=c||{};c.mode=c.mode||"select";c.language=D;b.show();a.html(_.template(A)({options:c})).addClass("pcc-open").on("click",".pcc-overlay-closer",function(c){r(a,b)});return a}function u(){h.viewerNodes.$downloadDialog.on("click",'[data-pcc-toggle-id*="dropdown"]',function(b){a(b.target).parents(".pcc-select").find(".pcc-label").html(a(b.target).html());
!0===F&&(b=M(h.viewerNodes.$downloadDialog),x(b))}).on("click","[data-pcc-checkbox]",function(b){b=a(b.target).data("pccCheckbox")?a(b.target):a(b.target).parent("[data-pcc-checkbox]");b.hasClass("pcc-disabled")||b.toggleClass("pcc-checked");b=M(h.viewerNodes.$downloadDialog);b.burnAnnotations||b.burnRedactions||b.burnSignatures?(h.viewerNodes.$downloadAsDropdown.find(".pcc-label").html(D.fileDownloadPdfFormat),h.viewerNodes.$downloadAsDropdown.addClass("pcc-disabled"),b.downloadFormat=D.fileDownloadPdfFormat):
b.burnRedactions||b.burnSignatures||b.burnAnnotations||h.viewerNodes.$downloadAsDropdown.removeClass("pcc-disabled");b.burnAnnotations?h.viewerNodes.$downloadAnnotationsFormatDropdown.removeClass("pcc-disabled"):h.viewerNodes.$downloadAnnotationsFormatDropdown.addClass("pcc-disabled");!0===F&&x(b)});h.viewerNodes.$downloadDocumentPreview.on("click",function(b){b=a(this);!0===F?w():(F=!F,b.text(D.previewEnd),h.$dom.addClass("pcc-preview-mode"),h.$dom.find(".pcc-tab-pane").hide(),h.$dom.find(".pcc-tab-preview").show(),
h.viewerNodes.$selectText.addClass("pcc-disabled"),b=M(h.viewerNodes.$downloadDialog),J.mouseTool=B.getCurrentMouseTool(),J.marksState=v(b),h.setMouseTool({mouseToolName:"AccusoftPanAndEdit"}),H&&B.clearMouseSelectedText(H),B.clearSearch())});h.viewerNodes.$downloadDocument.on("click",function(a){a=M(h.viewerNodes.$downloadDialog);var b=null!==E.match(/.pdf$/i),c={marks:q(a),filename:K},d=[];_.each(a,function(a,b){a&&("burnAnnotations"===b?d.push("annotated"):"burnRedactions"===b?d.push("redacted"):
"burnSignatures"===b&&d.push("signed"))});if(1===d.length)c.filename=K+"-"+d[0];else if(2===d.length)c.filename=K+"-"+d.join("-and-");else if(2<d.length){var e=d.pop();c.filename=K+"-"+d.join("-")+"-and-"+e}0<d.length?n(c,h.viewerNodes.$overlay,h.viewerNodes.$overlayFade):a.downloadFormat!==D.fileDownloadPdfFormat||b?(a.downloadFormat===D.fileDownloadOriginalDocument||b)&&f(B.getDownloadDocumentURL(),h.viewerNodes.$overlay,h.viewerNodes.$overlayFade):(c.targetExtension="pdf",Q(c,h.viewerNodes.$overlay,
h.viewerNodes.$overlayFade))});h.viewerNodes.$saveDocument.on("click",function(a){a=document.getElementById("attachmentId");a=a==b?pvi.util.fetchAttachmentId(this):a.value;var c={downloadFormat:h.viewerNodes.$downloadAsDropdown.find(".pcc-label").html(),annotationsFormat:h.viewerNodes.$downloadAnnotationsFormatDropdown.find(".pcc-label").html(),burnAnnotations:!h.viewerNodes.$downloadAnnotationsCheckbox.hasClass("pcc-disabled"),burnRedactions:!h.viewerNodes.$downloadRedactionsCheckbox.hasClass("pcc-disabled"),
burnSignatures:!h.viewerNodes.$downloadSignaturesCheckbox.hasClass("pcc-disabled")};E.match(/.pdf$/i);var d={marks:q(c),filename:K},e=[];_.each(c,function(a,b){a&&("burnAnnotations"===b?e.push("annotated"):"burnRedactions"===b?e.push("redacted"):"burnSignatures"===b&&e.push("signed"))});1===e.length?d.filename=K+"-"+e[0]:2===e.length?d.filename=K+"-"+e.join("-and-"):2<e.length&&(c=e.pop(),d.filename=K+"-"+e.join("-")+"-and-"+c);0<e.length?n(d,h.viewerNodes.$overlay,h.viewerNodes.$overlayFade,!0,a):
h.notify({message:PCCViewer.Language.data.annotations.save.nomods})})}function w(){h.viewerNodes.$downloadDialog.removeClass("pcc-download-preview");h.viewerNodes.$pageList.removeClass("pcc-download-preview");y();F=!F;h.viewerNodes.$downloadDocumentPreview.text(D.preview);h.$dom.removeClass("pcc-preview-mode");h.$dom.find(".pcc-tab-preview").hide();h.$dom.find(".pcc-tab-pane").show();h.documentHasText&&h.viewerNodes.$selectText.removeClass("pcc-disabled")}function v(a){var b=!1,c=!1,d=!1,e=!1;h.viewerNodes.$downloadDialog.addClass("pcc-download-preview");
h.viewerNodes.$pageList.addClass("pcc-download-preview");"PDF"===a.downloadFormat&&(b=a.burnRedactions,c=a.burnSignatures,e=(d=a.burnAnnotations)&&a.annotationsFormat===D.fileDownloadChosenAnnotations);var f={};a=B.getAllMarks();_.each(a,function(a){f[a.getId()]={interactionMode:a.getInteractionMode(),visible:a.getVisible()};a.setInteractionMode(PCCViewer.Mark.InteractionMode.SelectionDisabled);switch(a.getType().match(/redaction/i)?"redactions":a.getType().match(/signature/i)?"signatures":"annotations"){case "redactions":!0!==
b&&a.setVisible(!1);break;case "signatures":!0!==c&&a.setVisible(!1);break;case "annotations":!0===d?!0===e&&"1"!==a.getData("Accusoft-burnAnnotation")&&a.setVisible(!1):a.setVisible(!1)}});return f}function x(a){var b=!1,c=!1,d=!1,e=!1;"PDF"===a.downloadFormat&&(b=a.burnRedactions,c=a.burnSignatures,e=(d=a.burnAnnotations)&&a.annotationsFormat===D.fileDownloadChosenAnnotations);var f=J.marksState;a=B.getAllMarks();_.each(a,function(a){switch(a.getType().match(/redaction/i)?"redactions":a.getType().match(/signature/i)?
"signatures":"annotations"){case "redactions":!0!==b?a.setVisible(!1):!0===f[a.getId()].visible&&a.setVisible(!0);break;case "signatures":!0!==c?a.setVisible(!1):!0===f[a.getId()].visible&&a.setVisible(!0);break;case "annotations":!0===d?!0===e?"1"!==a.getData("Accusoft-burnAnnotation")?a.setVisible(!1):!0===f[a.getId()].visible&&a.setVisible(!0):!0===f[a.getId()].visible&&a.setVisible(!0):a.setVisible(!1)}})}function y(){h.setMouseTool({mouseToolName:J.mouseTool});_.each(J.marksState,function(a,
b){b=B.getMarkById(b);b.setInteractionMode(a.interactionMode);b.setVisible(a.visible)});h.search.executeSearch(!0,!0);J={}}var B,A,D,E=g.documentDisplayName||"",F=!1,H,J={},L,K=g.documentDisplayName?g.documentDisplayName.replace(/\..+$/,""):"file",M=function(a){return{downloadFormat:h.viewerNodes.$downloadAsDropdown.find(".pcc-label").html(),annotationsFormat:h.viewerNodes.$downloadAnnotationsFormatDropdown.find(".pcc-label").html(),burnAnnotations:h.viewerNodes.$downloadAnnotationsCheckbox.hasClass("pcc-checked"),
burnRedactions:h.viewerNodes.$downloadRedactionsCheckbox.hasClass("pcc-checked"),burnSignatures:h.viewerNodes.$downloadSignaturesCheckbox.hasClass("pcc-checked")}},Q=function(a,b,c){var d,e=!1;t(b,c,{mode:"pending"}).on("click",".pcc-overlay-cancel",function(a){r(b,c);d&&d.cancel&&!e&&d.cancel()});d=B.convertDocument(a);d.then(function(a){e=!0;f(a,b,c)},function(d){e=!0;"UserCancelled"!==d.code&&m(PCCViewer.Language.getValue("error."+d.code),a,b,c,Q)})};return{init:function(a,b,d){B=a;A=b;D=d;B.on(PCCViewer.EventType.TextSelected,
c);B.on(PCCViewer.EventType.MarkCreated,e);B.on(PCCViewer.EventType.MarkRemoved,e);u()},endPreview:w,isInPreviewMode:function(){return F}}}();this.imageStamp=function(){var c,d,e=0,f=0,k=[PCCViewer.Language.data.imageStampSortByRecentlyUsed,PCCViewer.Language.data.imageStampSortByFileName],l="recentlyUsedTime",m=k[0],n="desc",p,q,r=function(){},t={},u=a({}),w,v,x=function(){K(function(a){var b,c=Number.NEGATIVE_INFINITY,d=_.reduce(H().imageStampList.imageStamps,function(a,b){a[b.id]=b;return a},{});
_.forEach(a.imageStamps,function(a){var e=d[a.id];e&&e.recentlyUsedTime>a.recentlyUsedTime&&(a.recentlyUsedTime=e.recentlyUsedTime);a.recentlyUsedTime>c&&(c=a.recentlyUsedTime,b=a)});b?y(b,function(a,b){a?v.attr("disabled","disabled"):(a={dataUrl:b.dataUrl,id:b.dataHash},p.getTemplateMark().setImage(a),q.getTemplateMark().setImage(a),v.removeAttr("disabled"))}):v.attr("disabled","disabled");F()})},y=function(a,d){d="function"===typeof d?d:r;t[a.id]?d(b,t[a.id].data):c.reqestImageSourceBase64(a.id).then(function(c){t[a.id]=
{data:c,image:a};d(b,c)},function(a){d(PCCViewer.Language.getValue("error."+a.code))})},B=function(){w.on("click",".pcc-image-stamp-list-item",function(a){a.stopPropagation();a.preventDefault();J(this)});w.on("click","[data-pcc-image-stamp=closer]",function(a){a.stopPropagation();a.preventDefault();E()});w.on("click","[data-image-stamp-sort-item]",function(b){b.stopPropagation();b.preventDefault();m=a(this).data("image-stamp-sort-item");switch(m){case PCCViewer.Language.data.imageStampSortByRecentlyUsed:n=
"recentlyUsedTime"===l?"desc"===n?"asc":"desc":"desc";l="recentlyUsedTime";break;case PCCViewer.Language.data.imageStampSortByFileName:"displayName"===l&&(n="desc"===n?"asc":"desc"),l="displayName"}L();D({waiting:!1})})},A=function(){D({waiting:!0});K(function(a){L();D({waiting:!1})});w.addClass("pcc-open");h.viewerNodes.$overlayFade.show()},D=function(a){w.html(_.template(g.template.imageStampOverlay)(_.extend({waiting:a.waiting,imageStampList:d,sortBy:k,sortKey:l,sortName:m,sortOrder:n},PCCViewer.Language.data)))},
E=function(){w.removeClass("pcc-open");u.off("imageSelect");h.viewerNodes.$overlayFade.hide()},F=function(){d&&e&&browserStorage.utils.addToStorage("pccvImageStampList",JSON.stringify({imageStampList:d,imageStampListTimestamp:e}))},H=function(){var a=browserStorage.utils.getFromStorage("pccvImageStampList");return a?(a=JSON.parse(a),_.each(a.imageStampList.imageStamps,function(a){a.recentlyUsedTime>f&&(f=a.recentlyUsedTime)}),a):{imageStampList:{imageStamps:[]},imageStampListTimestamp:0}},J=function(b){var c=
a(b).attr("data-image-stamp-id");b=_.find(d.imageStamps,function(a){return a.id===c});b.recentlyUsedTime=f=Math.round((new Date).getTime()/1E3);F();y(b,function(a,b){a?h.notify({message:PCCViewer.Language.data.imageStampUnableToLoadImage}):u.trigger("imageSelect",{dataUrl:b.dataUrl,id:b.dataHash});E()})},L=function(){"recentlyUsedTime"===l&&0===f||"undefined"===typeof m||"undefined"===typeof n||(l&&(d.imageStamps=_.sortBy(d.imageStamps,l)),"desc"===n&&(d.imageStamps=d.imageStamps.reverse()))},K=function(a){a=
"function"===typeof a?a:r;var b=Math.round((new Date).getTime()/1E3);e+600>b?(a(d),v.removeAttr("disabled")):c.requestImageStampList().then(function(b){d=b;0===d.imageStamps.length?v.attr("disabled","disabled"):(e=Math.round((new Date).getTime()/1E3),_.each(d.imageStamps,function(a,b){d.imageStamps[b].url=c.getImageSourceURL(a.id);d.imageStamps[b].recentlyUsedTime=0}),a(d),v.removeAttr("disabled"))},function(a){h.notify({message:PCCViewer.Language.data.imageStampUnableToLoad});v.attr("disabled","disabled")})};
return{init:function(b){c=new PCCViewer.ImageStamps(g);p=PCCViewer.MouseTools.getMouseTool("AccusoftImageStampAnnotation");q=PCCViewer.MouseTools.getMouseTool("AccusoftImageStampRedaction");v=a('[data-pcc-mouse-tool="AccusoftImageStampAnnotation"], [data-pcc-mouse-tool="AccusoftImageStampRedaction"]');w=b.$imageStampOverlay;B();x()},getImageUrl:function(a){return a.dataUrl},selectToolImage:function(a){a="function"===typeof a?a:r;u.one("imageSelect",function(b,c){p.getTemplateMark().setImage(c);q.getTemplateMark().setImage(c);
a(c)});A()},selectMarkImage:function(a){a="function"===typeof a?a:r;u.one("imageSelect",function(b,c){a(c)});A()}}}();this.thumbnailManager=function(){function c(a){a=a.get(0).getBoundingClientRect();return{left:a.left,right:a.right,top:a.top,bottom:a.bottom,width:a.width||a.right-a.left,height:a.height||a.bottom-a.top}}function e(){var a=x.getVisiblePages(),c=x.getSelectedPages(),d;_.forEach(a,function(a){!d&&_.contains(c,a)&&(d=a)});d||(d=a[0]);return d||b}function f(a){var b=e();a();b&&x.scrollTo(b,
{forceAlignTop:!0})}function g(a){a.pageNumbers&&1===a.pageNumbers.length&&w.setPageNumber(a.pageNumbers[0])}function l(a){var c=a.pageNumber,d=function(){x.setSelectedPages(c)};a.pageNumber&&(E&&(clearTimeout(E),E=b),E=setTimeout(d,300))}function n(){return c(y.children().first()).width+J}function p(a,b){b=!!b;B.get(0).style.width=a+"px";L=a;C.api.resize();b&&K.trigger("resize",{width:L})}function q(){var a,b,d=0,f,g,h=k(v).init().on("start",function(h,k){a=c(B);b=c(A);d=k.clientX;f=e();g=y.prop("scrollHeight")}).on("move",
function(c,e){c=Math.max(a.width+(e.clientX-d),H);var h=y.prop("scrollHeight");e.clientX>b.right&&(c=b.right-a.left);c!==L&&p(c);g!==h&&(x.scrollTo(f,{forceAlignTop:!0}),g=h)}).on("end",function(a,b){x.reflow();K.trigger("resize",{width:L})}).destroy;K.one("reset",function(){h()})}function r(){B.width("");K.trigger("reset")}function t(a,b){y.hasClass(b.value)||f(function(){y.removeClass(V.join(" ")).addClass(b.value);x.reflow();H=n();H>c(B).width&&p(H,!0)})}function u(){x.on(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,
g);w.on(PCCViewer.EventType.PageChanged,l);F=d(function(){D&&x.reflow()});C.api.move(1).on("change",t);q()}var w,x,y,v,B,A,C,D=!1,E,F,H,J=0,L,K=a({}),M=h.latestBreakpoint,V=["pcc-thumbnails-small","pcc-thumbnails-medium","pcc-thumbnails-large"];d(function(){D&&h.latestBreakpoint!==M&&(M=h.latestBreakpoint,r(),h.latestBreakpoint!==h.breakpointEnum.mobile&&(H=n(),q()))});return{init:function(b){w=b.viewerControl;y=a(b.dom);B=a(b.container);A=a(b.viewer);v=B.find("[data-pcc-drag-handle]");C=B.find("[data-pcc-slider=thumb-size]");
C.length&&(C.api=m(C.get(0),{breaks:V}))},embedOnce:function(){D||(D=!0,x=new PCCViewer.ThumbnailControl(y.get(0),w,h.viewerControlOptions),u(),x.setSelectedPages(w.getPageNumber()),H=n(),J=c(B).width-H,H=n())},destroy:function(){D&&(D=!1,x.off(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,g),w.off(PCCViewer.EventType.PageChanged,l),a(window).off("resize",F),C.api.off("change",t),C.api.destroy(),r(),x.destroy())},on:function(a,b){K.on(a,b)},off:function(a,b){K.off(a,b)}}}();h.initializeViewer();
c={viewerControl:h.viewerControl,destroy:function(){h.thumbnailManager.destroy();h.destroy();h.eSignature.destroy()}};this.$dom.data("PCCViewer.Viewer",c);this.$dom.trigger("ViewerReady",c);return c}function e(a,b){function c(a){for(a=a.toString();2>a.length;)a="0"+a;return a}var d=a.getHours(),e=12<=d?"pm":"am",f=12<d?d-12:0===d?12:d,g=a.getFullYear().toString(),k=g.length,k=g.slice(k-2,k);return b.replace(/MM/,c(a.getMonth()+1)).replace(/M/,a.getMonth()+1).replace(/DD/,c(a.getDate())).replace(/D/,
a.getDate()).replace(/YYYY/,g).replace(/YY/,k).replace(/HH/,c(d)).replace(/H/,d).replace(/hh/,c(f)).replace(/h/,f).replace(/mm/,c(a.getMinutes())).replace(/m/,a.getMinutes()).replace(/a/,e).replace(/A/,e.toUpperCase())}var f=[],g=function(){var a={},c,d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,e=function(){c=b;_.forEach(a,function(c,d){c&&"function"===typeof c&&c();a[d]=b})};return{onUpdate:function(b,f){d?(a[b]=f,c||(c=d(e))):f()}}}(),k=function(b){function c(a){if(a.clientX&&
a.clientY)return a;a.originalEvent.changedTouches?(a.clientX=a.originalEvent.changedTouches[0].clientX,a.clientY=a.originalEvent.changedTouches[0].clientY):/pointer/i.test(a.type)&&(a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY);return a}function d(a){a=c(a);a.preventDefault();m.on(r,e);m.on(p,f);n.trigger("start",a)}function e(a){a=c(a);a.preventDefault();g.onUpdate("drag-move",function(){n.trigger("move",a)})}function f(a){a=c(a);a.preventDefault();m.off(r,e);m.off(p,f);g.onUpdate("drag-end",
function(){n.trigger("end",a)})}var k=a(b),m=a(document),n=a({}),q="touchstart",r="touchmove",p="touchend";window.navigator.pointerEnabled?(q+=" pointerdown",r+=" pointermove",p+=" pointerup",k.css("touch-action","none")):window.navigator.msPointerEnabled?(q+=" MSPointerDown",r+=" MSPointerMove",p+=" MSPointerUp",k.css("touch-action","none")):(q+=" mousedown",r+=" mousemove",p+=" mouseup");var u={on:function(a,b){n.on(a,b);return u},off:function(a,b){n.off(a,b);return u},init:function(){k.on(q,d);
return u},destroy:function(){k.off(q,d)}};return u},m=function(c,d){function e(a){a=a.getBoundingClientRect();return{left:a.left,right:a.right,top:a.top,bottom:a.bottom,width:a.width||a.right-a.left,height:a.height||a.bottom-a.top}}function f(a){var b=document.createElement("span");b.style.left=a+"%";b.className="pcc-slider-break";return b}function g(a){K=a;if(ga){var b=parseInt(100*a,10),c=_.find(ga,function(a){return b>=a.lowerBound&&b<=a.upperBound});a=c.snapTo/100;M=c.name}a*=x;"left"!==Z?H.style[Z]=
"translateX("+a+"px)":H.style.left=a-9+"px";A.trigger("update",{value:u()});return ka}function m(a,b){B=e(p);x=B.width}function n(a,b){a=b.clientX;a=a<B.left?0:a>B.right?1:(a-B.left)/B.width;a!==K&&g(a)}function q(a,b){A.trigger("change",{value:u()})}function r(b){a(b.target).is(H)||(m(b,b),n(b,b),q(b,b))}function u(){return M||K}d=d||{};var p=c.querySelector(".pcc-slider-track"),H=c.querySelector(".pcc-slider-thumb"),B=e(p),x=B.width||B.right-B.left,K=0,M;a(document);var Z="transform"in H.style?
"transform":"webkitTransform"in H.style?"-webkit-transform":"mozTransform"in H.style?"-moz-transform":"msTransform"in H.style?"-ms-transform":"oTransform"in H.style?"-o-transform":"left",A=a({}),Da=function(){},ga;if(d.breaks){var T=100/d.breaks.length,W=100/(d.breaks.length-1),ha=document.createDocumentFragment(),ja;ga=_.map(d.breaks,function(a,b){ja=Math.ceil(W*b);ha.appendChild(f(ja));return{snapTo:ja,lowerBound:Math.ceil(T*b),upperBound:Math.floor(T*(b+1)),name:a}});p.appendChild(ha)}var ka={move:g,
getValue:u,setValue:function(a){if(ga){var b=_.find(ga,function(b){return b.name===a});b&&g(b.snapTo/100)}"number"===typeof a&&g(a);A.trigger("change",{value:u()})},resize:function(){B=e(p);var a=B.width;a!==x&&(x=a,g(K))},on:function(a,b){A.on(a,b);return ka},off:function(a,b){A.off(a,b);return ka},destroy:function(){Da();Da=b;Da=function(){};a(c).off("click",r);g(0)}},Da=k(H).init().on("start",m).on("move",n).on("end",q).destroy;a(c).on("click",r);g(0);return ka},q=function(){function a(d){(function y(){if(c&&
b.length){var a=b.shift();setTimeout(function(){a(y)},0)}else d&&"function"===typeof d&&d()})()}var b=[],c=!1;this.push=function(a){b.push(function(b){a();b()})};this.run=function(b){c=!0;a(b)};this.stop=function(){c=!1;return b};this.isRunning=function(){return c}},n=function(c){return function(){function d(b){if(g.dom){if(!n){n=!0;var c=g.dom.getBoundingClientRect(),e=b.clientX-c.left,f=b.clientY-c.top;9E4<e*e+f*f?(g.controlX=c.left,g.controlY=c.top):(m=!0,g.controlX=g.clientX,g.controlY=g.clientY)}b.target===
g.dom||a.contains(g.dom,b.target)||(c=b.clientX-g.controlX,b=b.clientY-g.controlY,b=9E4<c*c+b*b,m=m||!b,n&&m&&b&&k({type:"move"}))}else k()}function e(){r||(r=setTimeout(function(){r=b;u()},100))}function f(){r&&(clearTimeout(r),r=b);p&&(clearTimeout(p),p=b);var a=u;u=q;p=setTimeout(function(){u=a},800)}var g={},k,m=!1,n=!1,q=function(){},r,p,u=function(){k({type:"scroll"})},B;return{add:function(b,m){B=a(c).find(".pccPageListContainerWrapper");g=_.extend({useScrollTrigger:!0,useMoveTrigger:!0},b);
k=function(a){m(a)};if(g.useMoveTrigger)a(window).on("mousemove",d);g.useScrollTrigger&&(B.on("scroll",e),a(window).scroll(e),a(window).on("resize",f))},remove:function(){a(window).off("mousemove",d);B.off("scroll",e);a(window).off("resize",f);g={};m=n=!1;r=p=b}}}()},u=function(){function a(){return _.filter(_.keys(c),function(a){return!b||c[a].useInLegacy})}var b=document.documentMode&&8===document.documentMode,c={"Times New Roman":{useInLegacy:!0},Arial:{useInLegacy:!0},"Cedarville Cursive":{useInLegacy:!1},
"Dancing Script":{useInLegacy:!0},"La Belle Aurore":{useInLegacy:!1},Sacramento:{useInLegacy:!0},Pacifico:{useInLegacy:!0},Italianno:{useInLegacy:!0},"Grand Hotel":{useInLegacy:!0},"Great Vibes":{useInLegacy:!0}};return{preLoad:function(){var b=document.createElement("div"),c=b.style,d;c.position="absolute";c.top=c.left="0";c.width=c.height="0px";_.each(a(),function(a){d=document.createElement("div");d.style.fontFamily='"'+a+'"';b.appendChild(d)});document.body.appendChild(b);setTimeout(function(){document.body.removeChild(b)},
0)},names:a,isLegacyBrowser:b}}(),r=function(){var b=browserStorage.utils.checkBrowserStorageSupport(),c=new q,d=function(){for(var a=e(),b=a.length;b--;)c.push(function(){if(a.length){var b=a.shift();PCCViewer.Signatures.add(b)}});c.run(function(){if(a.length){var b=PCCViewer.Signatures.toArray();f(b.concat(a))}})},e=function(){var a=browserStorage.utils.getFromStorage("pccvSignatures"),a="undefined"===typeof a||null===a?{values:[]}:JSON.parse(a);return a.values},f=function(a){if(b){var c={values:[]};
c.values=_.filter(a,function(a){return a.localSave});browserStorage.utils.addToStorage("pccvSignatures",JSON.stringify(c))}};PCCViewer.Signatures.on("ItemAdded",function(){f(PCCViewer.Signatures.toArray())});PCCViewer.Signatures.on("ItemRemoved",function(){var a=PCCViewer.Signatures.toArray();f(a)});a(window).on("beforeunload",function(){c&&c.isRunning()&&c.stop()});b&&d();return{getStored:e,setStored:f,clearAll:function(){b&&browserStorage.utils.removeFromStorage("pccvSignatures")}}}();a.fn.pccViewer=
function(a){if("undefined"===typeof a)return this.data("PCCViewer.Viewer");PCCViewer.Language.initializeData(a.language);return new c(this,a)}})(jQuery);
!function(a){function b(b){if("string"==typeof b.data&&(b.data={keys:b.data}),b.data&&b.data.keys&&"string"==typeof b.data.keys){var c=b.handler,e=b.data.keys.toLowerCase().split(" ");b.handler=function(b){if(this===b.target||!(a.hotkeys.options.filterInputAcceptingElements&&a.hotkeys.textInputTypes.test(b.target.nodeName)||a.hotkeys.options.filterContentEditable&&a(b.target).attr("contenteditable")||a.hotkeys.options.filterTextInputs&&-1<a.inArray(b.target.type,a.hotkeys.textAcceptingInputTypes))){var d=
"keypress"!==b.type&&a.hotkeys.specialKeys[b.which],k=String.fromCharCode(b.which).toLowerCase(),m="",q={};a.each(["alt","ctrl","shift"],function(a,c){b[c+"Key"]&&d!==c&&(m+=c+"+")});b.metaKey&&!b.ctrlKey&&"meta"!==d&&(m+="meta+");b.metaKey&&"meta"!==d&&-1<m.indexOf("alt+ctrl+shift+")&&(m=m.replace("alt+ctrl+shift+","hyper+"));d?q[m+d]=!0:(q[m+k]=!0,q[m+a.hotkeys.shiftNums[k]]=!0,"shift+"===m&&(q[a.hotkeys.shiftNums[k]]=!0));for(var k=0,n=e.length;n>k;k++)if(q[e[k]])return c.apply(this,arguments)}}}}
a.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",
144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:"text password number email url range date month week time datetime datetime-local search color tel".split(" "),textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,
filterContentEditable:!0}};a.each(["keydown","keyup","keypress"],function(){a.event.special[this]={add:b}})}(jQuery||this.jQuery||window.jQuery);